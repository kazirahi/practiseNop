{"Headers":{"Last-Modified":"Tue, 12 Apr 2022 08:46:35 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My41LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCmZ1bmN0aW9uIE9wZW5XaW5kb3cobix0LGkscil7dmFyIHU9KHNjcmVlbi53aWR0aC10KS8yLGY9KHNjcmVlbi5oZWlnaHQtaSkvMixlO3dpbnByb3BzPSJyZXNpemFibGU9MCwgaGVpZ2h0PSIraSsiLHdpZHRoPSIrdCsiLHRvcD0iK2YrIixsZWZ0PSIrdSsidyI7ciYmKHdpbnByb3BzKz0iLHNjcm9sbGJhcnM9MSIpO2U9d2luZG93Lm9wZW4obiwiX2JsYW5rIix3aW5wcm9wcyl9ZnVuY3Rpb24gc2V0TG9jYXRpb24obil7d2luZG93LmxvY2F0aW9uLmhyZWY9bn1mdW5jdGlvbiBkaXNwbGF5QWpheExvYWRpbmcobil7bj8kKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLnNob3coKTokKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoInNsb3ciKX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obix0LGkpe3ZhciBmLHIsdSxlO2lmKGY9dD09InN1Y2Nlc3MiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik6dD09ImVycm9yIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtZXJyb3IiKTp0PT0id2FybmluZyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXdhcm5pbmciKTokKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpLHI9IiIsdHlwZW9mIG49PSJzdHJpbmciKXI9IjxwPiIrbisiPFwvcD4iO2Vsc2UgZm9yKHU9MDt1PG4ubGVuZ3RoO3UrKylyPXIrIjxwPiIrblt1XSsiPFwvcD4iO2YuaHRtbChyKTtlPWk/ITA6ITE7Zi5kaWFsb2coe21vZGFsOmUsd2lkdGg6MzUwfSl9ZnVuY3Rpb24gZGlzcGxheUpvaW5lZFBvcHVwTm90aWZpY2F0aW9ucyhuKXt2YXIgdSxmLGksZSxyLHQ7aWYoT2JqZWN0LmtleXMobikubGVuZ3RoIT09MCl7dT0kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGkgaW4gbilpZihuLmhhc093blByb3BlcnR5KGkpKWZvcihlPW5baV0scj0wO3I8ZS5sZW5ndGg7KytyKXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5pbm5lckhUTUw9ZVtyXSx0LmNsYXNzTGlzdC5hZGQoInBvcHVwLW5vdGlmaWNhdGlvbiIpLHQuY2xhc3NMaXN0LmFkZChpKSxmLmFwcGVuZCh0KTt1Lmh0bWwoZik7dS5kaWFsb2coe3dpZHRoOjM1MCxtb2RhbDohMH0pfX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBDb250ZW50RnJvbVVybChuLHQsaSxyKXt2YXIgdT1pPyEwOiExLGY9cj9yOjU1MCxlPSQod2luZG93KS5oZWlnaHQoKS0yMDskKCI8ZGl2PjxcL2Rpdj4iKS5sb2FkKG4pLmRpYWxvZyh7bW9kYWw6dSx3aWR0aDpmLG1heEhlaWdodDplLHRpdGxlOnQsY2xvc2U6ZnVuY3Rpb24oKXskKHRoaXMpLmRpYWxvZygiZGVzdHJveSIpLnJlbW92ZSgpfX0pfWZ1bmN0aW9uIGRpc3BsYXlCYXJOb3RpZmljYXRpb24obix0LGkpe3ZhciBjLG89dHlwZW9mIG49PSJzdHJpbmciP1tuXTpuLHMscix1LGYsZSxoO2lmKG8ubGVuZ3RoIT09MCl7Zm9yKHM9WyJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIl0uaW5kZXhPZih0KSE9PS0xP3Q6InN1Y2Nlc3MiLCQoIiNiYXItbm90aWZpY2F0aW9uIikucmVtb3ZlQ2xhc3MoInN1Y2Nlc3MiKS5yZW1vdmVDbGFzcygiZXJyb3IiKS5yZW1vdmVDbGFzcygid2FybmluZyIpLCQoIi5iYXItbm90aWZpY2F0aW9uIikucmVtb3ZlKCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyLmNsYXNzTGlzdC5hZGQoImJhci1ub3RpZmljYXRpb24iLHMpLHIuY2xhc3NMaXN0LmFkZChzKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx1LmNsYXNzTGlzdC5hZGQoImNsb3NlIiksdS5zZXRBdHRyaWJ1dGUoInRpdGxlIixkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyLW5vdGlmaWNhdGlvbiIpLmRhdGFzZXQuY2xvc2UpLGY9MDtmPG8ubGVuZ3RoO2YrKyllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxlLmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKSxlLmlubmVySFRNTD1vW2ZdLHIuYXBwZW5kQ2hpbGQoZSk7ci5hcHBlbmRDaGlsZCh1KTskKCIjYmFyLW5vdGlmaWNhdGlvbiIpLmFwcGVuZChyKTskKHIpLmZhZGVJbigic2xvdyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0pO2g9ZnVuY3Rpb24oKXskKHIpLnJlbW92ZSgpfTskKHUpLm9uKCJjbGljayIsZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSk7aT4wJiYoYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChyKS5mYWRlT3V0KCJzbG93IixoKX0saSkpfX1mdW5jdGlvbiBodG1sRW5jb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS50ZXh0KG4pLmh0bWwoKX1mdW5jdGlvbiBodG1sRGVjb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS5odG1sKG4pLnRleHQoKX1mdW5jdGlvbiBhZGRBbnRpRm9yZ2VyeVRva2VuKG4pe258fChuPXt9KTt2YXIgdD0kKCJpbnB1dFtuYW1lPV9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXSIpO3JldHVybiB0Lmxlbmd0aCYmKG4uX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49dC52YWwoKSksbn12YXIgQWpheENhcnQ7IWZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiOyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4uZG9jdW1lbnQ/dChuLCEwKTpmdW5jdGlvbihuKXtpZighbi5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gdChuKX06dChuKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYnIobix0LGkpe3ZhciByLGUsdT0oaT1pfHxmKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZih1LnRleHQ9bix0KWZvcihyIGluIHNlKShlPXRbcl18fHQuZ2V0QXR0cmlidXRlJiZ0LmdldEF0dHJpYnV0ZShyKSkmJnUuc2V0QXR0cmlidXRlKHIsZSk7aS5oZWFkLmFwcGVuZENoaWxkKHUpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSl9ZnVuY3Rpb24gdXQobil7cmV0dXJuIG51bGw9PW4/bisiIjoib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuP3JpW3ByLmNhbGwobildfHwib2JqZWN0Ijp0eXBlb2Ygbn1mdW5jdGlvbiBwaShuKXt2YXIgdD0hIW4mJiJsZW5ndGgiaW4gbiYmbi5sZW5ndGgsaT11dChuKTtyZXR1cm4hdShuKSYmIXJ0KG4pJiYoImFycmF5Ij09PWl8fDA9PT10fHwibnVtYmVyIj09dHlwZW9mIHQmJjA8dCYmdC0xIGluIG4pfWZ1bmN0aW9uIGMobix0KXtyZXR1cm4gbi5ub2RlTmFtZSYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGJpKG4sdCxyKXtyZXR1cm4gdSh0KT9pLmdyZXAobixmdW5jdGlvbihuLGkpe3JldHVybiEhdC5jYWxsKG4saSxuKSE9PXJ9KTp0Lm5vZGVUeXBlP2kuZ3JlcChuLGZ1bmN0aW9uKG4pe3JldHVybiBuPT09dCE9PXJ9KToic3RyaW5nIiE9dHlwZW9mIHQ/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuLTE8aWkuY2FsbCh0LG4pIT09cn0pOmkuZmlsdGVyKHQsbixyKX1mdW5jdGlvbiB1dShuLHQpe3doaWxlKChuPW5bdF0pJiYxIT09bi5ub2RlVHlwZSk7cmV0dXJuIG59ZnVuY3Rpb24gZXQobil7cmV0dXJuIG59ZnVuY3Rpb24gZmkobil7dGhyb3cgbjt9ZnVuY3Rpb24gZnUobix0LGkscil7dmFyIGY7dHJ5e24mJnUoZj1uLnByb21pc2UpP2YuY2FsbChuKS5kb25lKHQpLmZhaWwoaSk6biYmdShmPW4udGhlbik/Zi5jYWxsKG4sdCxpKTp0LmFwcGx5KHZvaWQgMCxbbl0uc2xpY2UocikpfWNhdGNoKG4pe2kuYXBwbHkodm9pZCAwLFtuXSl9fWZ1bmN0aW9uIG9pKCl7Zi5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixvaSk7bi5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixvaSk7aS5yZWFkeSgpfWZ1bmN0aW9uIGxlKG4sdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiB5KG4pe3JldHVybiBuLnJlcGxhY2UoaGUsIm1zLSIpLnJlcGxhY2UoY2UsbGUpfWZ1bmN0aW9uIGJ0KCl7dGhpcy5leHBhbmRvPWkuZXhwYW5kbytidC51aWQrK31mdW5jdGlvbiBvdShuLHQsaSl7dmFyIHUscjtpZih2b2lkIDA9PT1pJiYxPT09bi5ub2RlVHlwZSlpZih1PSJkYXRhLSIrdC5yZXBsYWNlKHZlLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2YoaT1uLmdldEF0dHJpYnV0ZSh1KSkpe3RyeXtpPSJ0cnVlIj09PShyPWkpfHwiZmFsc2UiIT09ciYmKCJudWxsIj09PXI/bnVsbDpyPT09K3IrIiI/K3I6YWUudGVzdChyKT9KU09OLnBhcnNlKHIpOnIpfWNhdGNoKG4pe31vLnNldChuLHQsaSl9ZWxzZSBpPXZvaWQgMDtyZXR1cm4gaX1mdW5jdGlvbiBodShuLHQscix1KXt2YXIgcyxoLGM9MjAsbD11P2Z1bmN0aW9uKCl7cmV0dXJuIHUuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGkuY3NzKG4sdCwiIil9LG89bCgpLGU9ciYmclszXXx8KGkuY3NzTnVtYmVyW3RdPyIiOiJweCIpLGY9bi5ub2RlVHlwZSYmKGkuY3NzTnVtYmVyW3RdfHwicHgiIT09ZSYmK28pJiZrdC5leGVjKGkuY3NzKG4sdCkpO2lmKGYmJmZbM10hPT1lKXtmb3Ioby89MixlPWV8fGZbM10sZj0rb3x8MTtjLS07KWkuc3R5bGUobix0LGYrZSksKDEtaCkqKDEtKGg9bCgpL298fC41KSk8PTAmJihjPTApLGYvPWg7Zio9MjtpLnN0eWxlKG4sdCxmK2UpO3I9cnx8W119cmV0dXJuIHImJihmPStmfHwrb3x8MCxzPXJbMV0/ZisoclsxXSsxKSpyWzJdOityWzJdLHUmJih1LnVuaXQ9ZSx1LnN0YXJ0PWYsdS5lbmQ9cykpLHN9ZnVuY3Rpb24gaHQobix0KXtmb3IodmFyIGgsZixhLHMsYyxsLGUsbz1bXSx1PTAsdj1uLmxlbmd0aDt1PHY7dSsrKShmPW5bdV0pLnN0eWxlJiYoaD1mLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09aCYmKG9bdV09ci5nZXQoZiwiZGlzcGxheSIpfHxudWxsLG9bdV18fChmLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PWYuc3R5bGUuZGlzcGxheSYmZHQoZikmJihvW3VdPShlPWM9cz12b2lkIDAsYz0oYT1mKS5vd25lckRvY3VtZW50LGw9YS5ub2RlTmFtZSwoZT1raVtsXSl8fChzPWMuYm9keS5hcHBlbmRDaGlsZChjLmNyZWF0ZUVsZW1lbnQobCkpLGU9aS5jc3MocywiZGlzcGxheSIpLHMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSwibm9uZSI9PT1lJiYoZT0iYmxvY2siKSxraVtsXT1lKSkpKToibm9uZSIhPT1oJiYob1t1XT0ibm9uZSIsci5zZXQoZiwiZGlzcGxheSIsaCkpKTtmb3IodT0wO3U8djt1KyspbnVsbCE9b1t1XSYmKG5bdV0uc3R5bGUuZGlzcGxheT1vW3VdKTtyZXR1cm4gbn1mdW5jdGlvbiBzKG4sdCl7dmFyIHI7cmV0dXJuIHI9InVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lP24uZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8IioiKToidW5kZWZpbmVkIiE9dHlwZW9mIG4ucXVlcnlTZWxlY3RvckFsbD9uLnF1ZXJ5U2VsZWN0b3JBbGwodHx8IioiKTpbXSx2b2lkIDA9PT10fHx0JiZjKG4sdCk/aS5tZXJnZShbbl0scik6cn1mdW5jdGlvbiBkaShuLHQpe2Zvcih2YXIgaT0wLHU9bi5sZW5ndGg7aTx1O2krKylyLnNldChuW2ldLCJnbG9iYWxFdmFsIiwhdHx8ci5nZXQodFtpXSwiZ2xvYmFsRXZhbCIpKX1mdW5jdGlvbiB2dShuLHQscix1LGYpe2Zvcih2YXIgZSxvLHAsYSx3LHYsYz10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx5PVtdLGw9MCxiPW4ubGVuZ3RoO2w8YjtsKyspaWYoKGU9bltsXSl8fDA9PT1lKWlmKCJvYmplY3QiPT09dXQoZSkpaS5tZXJnZSh5LGUubm9kZVR5cGU/W2VdOmUpO2Vsc2UgaWYoYXUudGVzdChlKSl7Zm9yKG89b3x8Yy5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxwPShjdS5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGE9aFtwXXx8aC5fZGVmYXVsdCxvLmlubmVySFRNTD1hWzFdK2kuaHRtbFByZWZpbHRlcihlKSthWzJdLHY9YVswXTt2LS07KW89by5sYXN0Q2hpbGQ7aS5tZXJnZSh5LG8uY2hpbGROb2Rlcyk7KG89Yy5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHkucHVzaCh0LmNyZWF0ZVRleHROb2RlKGUpKTtmb3IoYy50ZXh0Q29udGVudD0iIixsPTA7ZT15W2wrK107KWlmKHUmJi0xPGkuaW5BcnJheShlLHUpKWYmJmYucHVzaChlKTtlbHNlIGlmKHc9c3QoZSksbz1zKGMuYXBwZW5kQ2hpbGQoZSksInNjcmlwdCIpLHcmJmRpKG8pLHIpZm9yKHY9MDtlPW9bdisrXTspbHUudGVzdChlLnR5cGV8fCIiKSYmci5wdXNoKGUpO3JldHVybiBjfWZ1bmN0aW9uIGN0KCl7cmV0dXJuITB9ZnVuY3Rpb24gbHQoKXtyZXR1cm4hMX1mdW5jdGlvbiBiZShuLHQpe3JldHVybiBuPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGYuYWN0aXZlRWxlbWVudH1jYXRjaChuKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIGdpKG4sdCxyLHUsZixlKXt2YXIgbyxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIHImJih1PXV8fHIscj12b2lkIDApLHQpZ2kobixzLHIsdSx0W3NdLGUpO3JldHVybiBufWlmKG51bGw9PXUmJm51bGw9PWY/KGY9cix1PXI9dm9pZCAwKTpudWxsPT1mJiYoInN0cmluZyI9PXR5cGVvZiByPyhmPXUsdT12b2lkIDApOihmPXUsdT1yLHI9dm9pZCAwKSksITE9PT1mKWY9bHQ7ZWxzZSBpZighZilyZXR1cm4gbjtyZXR1cm4gMT09PWUmJihvPWYsKGY9ZnVuY3Rpb24obil7cmV0dXJuIGkoKS5vZmYobiksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPW8uZ3VpZHx8KG8uZ3VpZD1pLmd1aWQrKykpLG4uZWFjaChmdW5jdGlvbigpe2kuZXZlbnQuYWRkKHRoaXMsdCxmLHUscil9KX1mdW5jdGlvbiBoaShuLHQsdSl7dT8oci5zZXQobix0LCExKSxpLmV2ZW50LmFkZChuLHQse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKG4pe3ZhciBvLGUsZj1yLmdldCh0aGlzLHQpO2lmKDEmbi5pc1RyaWdnZXImJnRoaXNbdF0pe2lmKGYubGVuZ3RoKShpLmV2ZW50LnNwZWNpYWxbdF18fHt9KS5kZWxlZ2F0ZVR5cGUmJm4uc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihmPWsuY2FsbChhcmd1bWVudHMpLHIuc2V0KHRoaXMsdCxmKSxvPXUodGhpcyx0KSx0aGlzW3RdKCksZiE9PShlPXIuZ2V0KHRoaXMsdCkpfHxvP3Iuc2V0KHRoaXMsdCwhMSk6ZT17fSxmIT09ZSlyZXR1cm4gbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxuLnByZXZlbnREZWZhdWx0KCksZS52YWx1ZX1lbHNlIGYubGVuZ3RoJiYoci5zZXQodGhpcyx0LHt2YWx1ZTppLmV2ZW50LnRyaWdnZXIoaS5leHRlbmQoZlswXSxpLkV2ZW50LnByb3RvdHlwZSksZi5zbGljZSgxKSx0aGlzKX0pLG4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1yLmdldChuLHQpJiZpLmV2ZW50LmFkZChuLHQsY3QpfWZ1bmN0aW9uIHB1KG4sdCl7cmV0dXJuIGMobiwidGFibGUiKSYmYygxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIikmJmkobikuY2hpbGRyZW4oInRib2R5IilbMF18fG59ZnVuY3Rpb24gbm8obil7cmV0dXJuIG4udHlwZT0obnVsbCE9PW4uZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIituLnR5cGUsbn1mdW5jdGlvbiB0byhuKXtyZXR1cm4idHJ1ZS8iPT09KG4udHlwZXx8IiIpLnNsaWNlKDAsNSk/bi50eXBlPW4udHlwZS5zbGljZSg1KTpuLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpLG59ZnVuY3Rpb24gd3Uobix0KXt2YXIgdSxzLGYsaCxjLGU7aWYoMT09PXQubm9kZVR5cGUpe2lmKHIuaGFzRGF0YShuKSYmKGU9ci5nZXQobikuZXZlbnRzKSlmb3IoZiBpbiByLnJlbW92ZSh0LCJoYW5kbGUgZXZlbnRzIiksZSlmb3IodT0wLHM9ZVtmXS5sZW5ndGg7dTxzO3UrKylpLmV2ZW50LmFkZCh0LGYsZVtmXVt1XSk7by5oYXNEYXRhKG4pJiYoaD1vLmFjY2VzcyhuKSxjPWkuZXh0ZW5kKHt9LGgpLG8uc2V0KHQsYykpfX1mdW5jdGlvbiBhdChuLHQsZixvKXt0PXlyKHQpO3ZhciBhLGIsbCx2LGgseSxjPTAscD1uLmxlbmd0aCxkPXAtMSx3PXRbMF0saz11KHcpO2lmKGt8fDE8cCYmInN0cmluZyI9PXR5cGVvZiB3JiYhZS5jaGVja0Nsb25lJiZkZS50ZXN0KHcpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oaSl7dmFyIHI9bi5lcShpKTtrJiYodFswXT13LmNhbGwodGhpcyxpLHIuaHRtbCgpKSk7YXQocix0LGYsbyl9KTtpZihwJiYoYj0oYT12dSh0LG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1hLmNoaWxkTm9kZXMubGVuZ3RoJiYoYT1iKSxifHxvKSl7Zm9yKHY9KGw9aS5tYXAocyhhLCJzY3JpcHQiKSxubykpLmxlbmd0aDtjPHA7YysrKWg9YSxjIT09ZCYmKGg9aS5jbG9uZShoLCEwLCEwKSx2JiZpLm1lcmdlKGwscyhoLCJzY3JpcHQiKSkpLGYuY2FsbChuW2NdLGgsYyk7aWYodilmb3IoeT1sW2wubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsaS5tYXAobCx0byksYz0wO2M8djtjKyspaD1sW2NdLGx1LnRlc3QoaC50eXBlfHwiIikmJiFyLmFjY2VzcyhoLCJnbG9iYWxFdmFsIikmJmkuY29udGFpbnMoeSxoKSYmKGguc3JjJiYibW9kdWxlIiE9PShoLnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP2kuX2V2YWxVcmwmJiFoLm5vTW9kdWxlJiZpLl9ldmFsVXJsKGguc3JjLHtub25jZTpoLm5vbmNlfHxoLmdldEF0dHJpYnV0ZSgibm9uY2UiKX0seSk6YnIoaC50ZXh0Q29udGVudC5yZXBsYWNlKGdlLCIiKSxoLHkpKX1yZXR1cm4gbn1mdW5jdGlvbiBidShuLHQscil7Zm9yKHZhciB1LGU9dD9pLmZpbHRlcih0LG4pOm4sZj0wO251bGwhPSh1PWVbZl0pO2YrKylyfHwxIT09dS5ub2RlVHlwZXx8aS5jbGVhbkRhdGEocyh1KSksdS5wYXJlbnROb2RlJiYociYmc3QodSkmJmRpKHModSwic2NyaXB0IikpLHUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KSk7cmV0dXJuIG59ZnVuY3Rpb24gbmkobix0LHIpe3ZhciBvLHMsaCxmLHU9bi5zdHlsZTtyZXR1cm4ocj1yfHxjaShuKSkmJigiIiE9PShmPXIuZ2V0UHJvcGVydHlWYWx1ZSh0KXx8clt0XSl8fHN0KG4pfHwoZj1pLnN0eWxlKG4sdCkpLCFlLnBpeGVsQm94U3R5bGVzKCkmJm5yLnRlc3QoZikmJmlvLnRlc3QodCkmJihvPXUud2lkdGgscz11Lm1pbldpZHRoLGg9dS5tYXhXaWR0aCx1Lm1pbldpZHRoPXUubWF4V2lkdGg9dS53aWR0aD1mLGY9ci53aWR0aCx1LndpZHRoPW8sdS5taW5XaWR0aD1zLHUubWF4V2lkdGg9aCkpLHZvaWQgMCE9PWY/ZisiIjpmfWZ1bmN0aW9uIGR1KG4sdCl7cmV0dXJue2dldDpmdW5jdGlvbigpe2lmKCFuKCkpcmV0dXJuKHRoaXMuZ2V0PXQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkZWxldGUgdGhpcy5nZXR9fX1mdW5jdGlvbiB0cihuKXt2YXIgdD1pLmNzc1Byb3BzW25dfHx0ZltuXTtyZXR1cm4gdHx8KG4gaW4gbmY/bjp0ZltuXT1mdW5jdGlvbihuKXtmb3IodmFyIGk9blswXS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksdD1ndS5sZW5ndGg7dC0tOylpZigobj1ndVt0XStpKWluIG5mKXJldHVybiBufShuKXx8bil9ZnVuY3Rpb24gZmYobix0LGkpe3ZhciByPWt0LmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShpfHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gaXIobix0LHIsdSxmLGUpe3ZhciBvPSJ3aWR0aCI9PT10PzE6MCxoPTAscz0wO2lmKHI9PT0odT8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7bzw0O28rPTIpIm1hcmdpbiI9PT1yJiYocys9aS5jc3MobixyK2Jbb10sITAsZikpLHU/KCJjb250ZW50Ij09PXImJihzLT1pLmNzcyhuLCJwYWRkaW5nIitiW29dLCEwLGYpKSwibWFyZ2luIiE9PXImJihzLT1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKSkpOihzKz1pLmNzcyhuLCJwYWRkaW5nIitiW29dLCEwLGYpLCJwYWRkaW5nIiE9PXI/cys9aS5jc3MobiwiYm9yZGVyIitiW29dKyJXaWR0aCIsITAsZik6aCs9aS5jc3MobiwiYm9yZGVyIitiW29dKyJXaWR0aCIsITAsZikpO3JldHVybiF1JiYwPD1lJiYocys9TWF0aC5tYXgoMCxNYXRoLmNlaWwoblsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tZS1zLWgtLjUpKXx8MCksc31mdW5jdGlvbiBlZihuLHQscil7dmFyIGY9Y2kobiksbz0oIWUuYm94U2l6aW5nUmVsaWFibGUoKXx8cikmJiJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZikscz1vLHU9bmkobix0LGYpLGg9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYobnIudGVzdCh1KSl7aWYoIXIpcmV0dXJuIHU7dT0iYXV0byJ9cmV0dXJuKCFlLmJveFNpemluZ1JlbGlhYmxlKCkmJm98fCFlLnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJmMobiwidHIiKXx8ImF1dG8iPT09dXx8IXBhcnNlRmxvYXQodSkmJiJpbmxpbmUiPT09aS5jc3MobiwiZGlzcGxheSIsITEsZikpJiZuLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYobz0iYm9yZGVyLWJveCI9PT1pLmNzcyhuLCJib3hTaXppbmciLCExLGYpLChzPWggaW4gbikmJih1PW5baF0pKSwodT1wYXJzZUZsb2F0KHUpfHwwKStpcihuLHQscnx8KG8/ImJvcmRlciI6ImNvbnRlbnQiKSxzLGYsdSkrInB4In1mdW5jdGlvbiBhKG4sdCxpLHIsdSl7cmV0dXJuIG5ldyBhLnByb3RvdHlwZS5pbml0KG4sdCxpLHIsdSl9ZnVuY3Rpb24gcnIoKXtsaSYmKCExPT09Zi5oaWRkZW4mJm4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lP24ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJyKTpuLnNldFRpbWVvdXQocnIsaS5meC5pbnRlcnZhbCksaS5meC50aWNrKCkpfWZ1bmN0aW9uIGxmKCl7cmV0dXJuIG4uc2V0VGltZW91dChmdW5jdGlvbigpe3Z0PXZvaWQgMH0pLHZ0PURhdGUubm93KCl9ZnVuY3Rpb24gYWkobix0KXt2YXIgdSxyPTAsaT17aGVpZ2h0Om59O2Zvcih0PXQ/MTowO3I8NDtyKz0yLXQpaVsibWFyZ2luIisodT1iW3JdKV09aVsicGFkZGluZyIrdV09bjtyZXR1cm4gdCYmKGkub3BhY2l0eT1pLndpZHRoPW4pLGl9ZnVuY3Rpb24gYWYobix0LGkpe2Zvcih2YXIgdSxmPSh2LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KHYudHdlZW5lcnNbIioiXSkscj0wLGU9Zi5sZW5ndGg7cjxlO3IrKylpZih1PWZbcl0uY2FsbChpLHQsbikpcmV0dXJuIHV9ZnVuY3Rpb24gdihuLHQscil7dmFyIG8scyxoPTAsYT12LnByZWZpbHRlcnMubGVuZ3RoLGU9aS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBsLmVsZW19KSxsPWZ1bmN0aW9uKCl7aWYocylyZXR1cm4hMTtmb3IodmFyIG89dnR8fGxmKCksdD1NYXRoLm1heCgwLGYuc3RhcnRUaW1lK2YuZHVyYXRpb24tbyksaT0xLSh0L2YuZHVyYXRpb258fDApLHI9MCx1PWYudHdlZW5zLmxlbmd0aDtyPHU7cisrKWYudHdlZW5zW3JdLnJ1bihpKTtyZXR1cm4gZS5ub3RpZnlXaXRoKG4sW2YsaSx0XSksaTwxJiZ1P3Q6KHV8fGUubm90aWZ5V2l0aChuLFtmLDEsMF0pLGUucmVzb2x2ZVdpdGgobixbZl0pLCExKX0sZj1lLnByb21pc2Uoe2VsZW06bixwcm9wczppLmV4dGVuZCh7fSx0KSxvcHRzOmkuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzppLmVhc2luZy5fZGVmYXVsdH0sciksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOnIsc3RhcnRUaW1lOnZ0fHxsZigpLGR1cmF0aW9uOnIuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKHQscil7dmFyIHU9aS5Ud2VlbihuLGYub3B0cyx0LHIsZi5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fGYub3B0cy5lYXNpbmcpO3JldHVybiBmLnR3ZWVucy5wdXNoKHUpLHV9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9MCxyPXQ/Zi50d2VlbnMubGVuZ3RoOjA7aWYocylyZXR1cm4gdGhpcztmb3Iocz0hMDtpPHI7aSsrKWYudHdlZW5zW2ldLnJ1bigxKTtyZXR1cm4gdD8oZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmLHRdKSk6ZS5yZWplY3RXaXRoKG4sW2YsdF0pLHRoaXN9fSksYz1mLnByb3BzO2ZvcighZnVuY3Rpb24obix0KXt2YXIgcixmLGUsdSxvO2ZvcihyIGluIG4paWYoZT10W2Y9eShyKV0sdT1uW3JdLEFycmF5LmlzQXJyYXkodSkmJihlPXVbMV0sdT1uW3JdPXVbMF0pLHIhPT1mJiYobltmXT11LGRlbGV0ZSBuW3JdKSwobz1pLmNzc0hvb2tzW2ZdKSYmImV4cGFuZCJpbiBvKWZvcihyIGluIHU9by5leHBhbmQodSksZGVsZXRlIG5bZl0sdSlyIGluIG58fChuW3JdPXVbcl0sdFtyXT1lKTtlbHNlIHRbZl09ZX0oYyxmLm9wdHMuc3BlY2lhbEVhc2luZyk7aDxhO2grKylpZihvPXYucHJlZmlsdGVyc1toXS5jYWxsKGYsbixjLGYub3B0cykpcmV0dXJuIHUoby5zdG9wKSYmKGkuX3F1ZXVlSG9va3MoZi5lbGVtLGYub3B0cy5xdWV1ZSkuc3RvcD1vLnN0b3AuYmluZChvKSksbztyZXR1cm4gaS5tYXAoYyxhZixmKSx1KGYub3B0cy5zdGFydCkmJmYub3B0cy5zdGFydC5jYWxsKG4sZiksZi5wcm9ncmVzcyhmLm9wdHMucHJvZ3Jlc3MpLmRvbmUoZi5vcHRzLmRvbmUsZi5vcHRzLmNvbXBsZXRlKS5mYWlsKGYub3B0cy5mYWlsKS5hbHdheXMoZi5vcHRzLmFsd2F5cyksaS5meC50aW1lcihpLmV4dGVuZChsLHtlbGVtOm4sYW5pbTpmLHF1ZXVlOmYub3B0cy5xdWV1ZX0pKSxmfWZ1bmN0aW9uIHR0KG4pe3JldHVybihuLm1hdGNoKGwpfHxbXSkuam9pbigiICIpfWZ1bmN0aW9uIGl0KG4pe3JldHVybiBuLmdldEF0dHJpYnV0ZSYmbi5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIifWZ1bmN0aW9uIHVyKG4pe3JldHVybiBBcnJheS5pc0FycmF5KG4pP246InN0cmluZyI9PXR5cGVvZiBuJiZuLm1hdGNoKGwpfHxbXX1mdW5jdGlvbiBzcihuLHQscix1KXt2YXIgZjtpZihBcnJheS5pc0FycmF5KHQpKWkuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7cnx8Zm8udGVzdChuKT91KG4saSk6c3IobisiWyIrKCJvYmplY3QiPT10eXBlb2YgaSYmbnVsbCE9aT90OiIiKSsiXSIsaSxyLHUpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PXV0KHQpKXUobix0KTtlbHNlIGZvcihmIGluIHQpc3IobisiWyIrZisiXSIsdFtmXSxyLHUpfWZ1bmN0aW9uIG5lKG4pe3JldHVybiBmdW5jdGlvbih0LGkpeyJzdHJpbmciIT10eXBlb2YgdCYmKGk9dCx0PSIqIik7dmFyIHIsZj0wLGU9dC50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbXTtpZih1KGkpKXdoaWxlKHI9ZVtmKytdKSIrIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8IioiLChuW3JdPW5bcl18fFtdKS51bnNoaWZ0KGkpKToobltyXT1uW3JdfHxbXSkucHVzaChpKX19ZnVuY3Rpb24gdGUobix0LHIsdSl7ZnVuY3Rpb24gZShzKXt2YXIgaDtyZXR1cm4gZltzXT0hMCxpLmVhY2gobltzXXx8W10sZnVuY3Rpb24obixpKXt2YXIgcz1pKHQscix1KTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHN8fG98fGZbc10/bz8hKGg9cyk6dm9pZCAwOih0LmRhdGFUeXBlcy51bnNoaWZ0KHMpLGUocyksITEpfSksaH12YXIgZj17fSxvPW49PT1ocjtyZXR1cm4gZSh0LmRhdGFUeXBlc1swXSl8fCFmWyIqIl0mJmUoIioiKX1mdW5jdGlvbiBscihuLHQpe3ZhciByLHUsZj1pLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKHIgaW4gdCl2b2lkIDAhPT10W3JdJiYoKGZbcl0/bjp1fHwodT17fSkpW3JdPXRbcl0pO3JldHVybiB1JiZpLmV4dGVuZCghMCxuLHUpLG59dmFyIHA9W10sdnI9T2JqZWN0LmdldFByb3RvdHlwZU9mLGs9cC5zbGljZSx5cj1wLmZsYXQ/ZnVuY3Rpb24obil7cmV0dXJuIHAuZmxhdC5jYWxsKG4pfTpmdW5jdGlvbihuKXtyZXR1cm4gcC5jb25jYXQuYXBwbHkoW10sbil9LHlpPXAucHVzaCxpaT1wLmluZGV4T2Yscmk9e30scHI9cmkudG9TdHJpbmcsdWk9cmkuaGFzT3duUHJvcGVydHksd3I9dWkudG9TdHJpbmcsb2U9d3IuY2FsbChPYmplY3QpLGU9e30sdT1mdW5jdGlvbihuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgbiYmIm51bWJlciIhPXR5cGVvZiBuLm5vZGVUeXBlfSxydD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmbj09PW4ud2luZG93fSxmPW4uZG9jdW1lbnQsc2U9e3R5cGU6ITAsc3JjOiEwLG5vbmNlOiEwLG5vTW9kdWxlOiEwfSxrcj0iMy41LjEiLGk9ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IGkuZm4uaW5pdChuLHQpfSxkLHdpLG51LHR1LGl1LHJ1LGwsZXUsZWksb3QsZHQsa2ksaCxhdSx2dCxsaSx5dCxzZixoZixjZix2ZixwdCx5ZixwZix3ZixmcixlcixpZSx3dCxyZSxhcix2aSx1ZSxmZSxlZTtpLmZuPWkucHJvdG90eXBlPXtqcXVlcnk6a3IsY29uc3RydWN0b3I6aSxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGsuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP2suY2FsbCh0aGlzKTpuPDA/dGhpc1tuK3RoaXMubGVuZ3RoXTp0aGlzW25dfSxwdXNoU3RhY2s6ZnVuY3Rpb24obil7dmFyIHQ9aS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksbik7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24obil7cmV0dXJuIGkuZWFjaCh0aGlzLG4pfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkubWFwKHRoaXMsZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5jYWxsKHQsaSx0KX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soay5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkuZ3JlcCh0aGlzLGZ1bmN0aW9uKG4sdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkuZ3JlcCh0aGlzLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5sZW5ndGgsdD0rbisobjwwP2k6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PXQmJnQ8aT9bdGhpc1t0XV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6eWksc29ydDpwLnNvcnQsc3BsaWNlOnAuc3BsaWNlfTtpLmV4dGVuZD1pLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBzLGYsZSx0LG8sYyxuPWFyZ3VtZW50c1swXXx8e30scj0xLGw9YXJndW1lbnRzLmxlbmd0aCxoPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBuJiYoaD1uLG49YXJndW1lbnRzW3JdfHx7fSxyKyspLCJvYmplY3QiPT10eXBlb2Ygbnx8dShuKXx8KG49e30pLHI9PT1sJiYobj10aGlzLHItLSk7cjxsO3IrKylpZihudWxsIT0ocz1hcmd1bWVudHNbcl0pKWZvcihmIGluIHMpdD1zW2ZdLCJfX3Byb3RvX18iIT09ZiYmbiE9PXQmJihoJiZ0JiYoaS5pc1BsYWluT2JqZWN0KHQpfHwobz1BcnJheS5pc0FycmF5KHQpKSk/KGU9bltmXSxjPW8mJiFBcnJheS5pc0FycmF5KGUpP1tdOm98fGkuaXNQbGFpbk9iamVjdChlKT9lOnt9LG89ITEsbltmXT1pLmV4dGVuZChoLGMsdCkpOnZvaWQgMCE9PXQmJihuW2ZdPXQpKTtyZXR1cm4gbn07aS5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKGtyK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKG4pO30sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihuKXt2YXIgdCxpO3JldHVybiEoIW58fCJbb2JqZWN0IE9iamVjdF0iIT09cHIuY2FsbChuKSkmJighKHQ9dnIobikpfHwiZnVuY3Rpb24iPT10eXBlb2YoaT11aS5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZ3ci5jYWxsKGkpPT09b2UpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKG4sdCxpKXticihuLHtub25jZTp0JiZ0Lm5vbmNlfSxpKX0sZWFjaDpmdW5jdGlvbihuLHQpe3ZhciByLGk9MDtpZihwaShuKSl7Zm9yKHI9bi5sZW5ndGg7aTxyO2krKylpZighMT09PXQuY2FsbChuW2ldLGksbltpXSkpYnJlYWt9ZWxzZSBmb3IoaSBpbiBuKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVhaztyZXR1cm4gbn0sbWFrZUFycmF5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dHx8W107cmV0dXJuIG51bGwhPW4mJihwaShPYmplY3QobikpP2kubWVyZ2Uociwic3RyaW5nIj09dHlwZW9mIG4/W25dOm4pOnlpLmNhbGwocixuKSkscn0saW5BcnJheTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIG51bGw9PXQ/LTE6aWkuY2FsbCh0LG4saSl9LG1lcmdlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciB1PSt0Lmxlbmd0aCxpPTAscj1uLmxlbmd0aDtpPHU7aSsrKW5bcisrXT10W2ldO3JldHVybiBuLmxlbmd0aD1yLG59LGdyZXA6ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgdT1bXSxyPTAsZj1uLmxlbmd0aCxlPSFpO3I8ZjtyKyspIXQobltyXSxyKSE9PWUmJnUucHVzaChuW3JdKTtyZXR1cm4gdX0sbWFwOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZSx1LHI9MCxmPVtdO2lmKHBpKG4pKWZvcihlPW4ubGVuZ3RoO3I8ZTtyKyspbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7ZWxzZSBmb3IociBpbiBuKW51bGwhPSh1PXQobltyXSxyLGkpKSYmZi5wdXNoKHUpO3JldHVybiB5cihmKX0sZ3VpZDoxLHN1cHBvcnQ6ZX0pOyJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihpLmZuW1N5bWJvbC5pdGVyYXRvcl09cFtTeW1ib2wuaXRlcmF0b3JdKTtpLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7cmlbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7ZD1mdW5jdGlvbihuKXtmdW5jdGlvbiB1KG4sdCxyLHUpe3ZhciBzLHksYyxsLHAsdyxkLHY9dCYmdC5vd25lckRvY3VtZW50LGE9dD90Lm5vZGVUeXBlOjk7aWYocj1yfHxbXSwic3RyaW5nIiE9dHlwZW9mIG58fCFufHwxIT09YSYmOSE9PWEmJjExIT09YSlyZXR1cm4gcjtpZighdSYmKGIodCksdD10fHxpLGgpKXtpZigxMSE9PWEmJihwPWFyLmV4ZWMobikpKWlmKHM9cFsxXSl7aWYoOT09PWEpe2lmKCEoYz10LmdldEVsZW1lbnRCeUlkKHMpKSlyZXR1cm4gcjtpZihjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZSBpZih2JiYoYz12LmdldEVsZW1lbnRCeUlkKHMpKSYmZXQodCxjKSYmYy5pZD09PXMpcmV0dXJuIHIucHVzaChjKSxyfWVsc2V7aWYocFsyXSlyZXR1cm4gay5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobikpLHI7aWYoKHM9cFszXSkmJmYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxyfWlmKGYucXNhJiYhbHRbbisiICJdJiYoIW98fCFvLnRlc3QobikpJiYoMSE9PWF8fCJvYmplY3QiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYoZD1uLHY9dCwxPT09YSYmKGVyLnRlc3Qobil8fHlpLnRlc3QobikpKXtmb3IoKHY9dGkudGVzdChuKSYmcmkodC5wYXJlbnROb2RlKXx8dCk9PT10JiZmLnNjb3BlfHwoKGw9dC5nZXRBdHRyaWJ1dGUoImlkIikpP2w9bC5yZXBsYWNlKHBpLHdpKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGw9ZSkpLHk9KHc9ZnQobikpLmxlbmd0aDt5LS07KXdbeV09KGw/IiMiK2w6IjpzY29wZSIpKyIgIitwdCh3W3ldKTtkPXcuam9pbigiLCIpfXRyeXtyZXR1cm4gay5hcHBseShyLHYucXVlcnlTZWxlY3RvckFsbChkKSkscn1jYXRjaCh0KXtsdChuLCEwKX1maW5hbGx5e2w9PT1lJiZ0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBzaShuLnJlcGxhY2UoYXQsIiQxIiksdCxyLHUpfWZ1bmN0aW9uIHl0KCl7dmFyIG49W107cmV0dXJuIGZ1bmN0aW9uIGkocix1KXtyZXR1cm4gbi5wdXNoKHIrIiAiKT50LmNhY2hlTGVuZ3RoJiZkZWxldGUgaVtuLnNoaWZ0KCldLGlbcisiICJdPXV9fWZ1bmN0aW9uIGwobil7cmV0dXJuIG5bZV09ITAsbn1mdW5jdGlvbiBhKG4pe3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFuKHQpfWNhdGNoKG4pe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dD1udWxsfX1mdW5jdGlvbiBpaShuLGkpe2Zvcih2YXIgcj1uLnNwbGl0KCJ8IiksdT1yLmxlbmd0aDt1LS07KXQuYXR0ckhhbmRsZVtyW3VdXT1pfWZ1bmN0aW9uIGtpKG4sdCl7dmFyIGk9dCYmbixyPWkmJjE9PT1uLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmbi5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYoaSl3aGlsZShpPWkubmV4dFNpYmxpbmcpaWYoaT09PXQpcmV0dXJuLTE7cmV0dXJuIG4/MTotMX1mdW5jdGlvbiB5cihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuImlucHV0Ij09PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gcHIobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWl8fCJidXR0b24iPT09aSkmJnQudHlwZT09PW59fWZ1bmN0aW9uIGRpKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iZm9ybSJpbiB0P3QucGFyZW50Tm9kZSYmITE9PT10LmRpc2FibGVkPyJsYWJlbCJpbiB0PyJsYWJlbCJpbiB0LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlLmRpc2FibGVkPT09bjp0LmRpc2FibGVkPT09bjp0LmlzRGlzYWJsZWQ9PT1ufHx0LmlzRGlzYWJsZWQhPT0hbiYmdnIodCk9PT1uOnQuZGlzYWJsZWQ9PT1uOiJsYWJlbCJpbiB0JiZ0LmRpc2FibGVkPT09bn19ZnVuY3Rpb24gaXQobil7cmV0dXJuIGwoZnVuY3Rpb24odCl7cmV0dXJuIHQ9K3QsbChmdW5jdGlvbihpLHIpe2Zvcih2YXIgdSxmPW4oW10saS5sZW5ndGgsdCksZT1mLmxlbmd0aDtlLS07KWlbdT1mW2VdXSYmKGlbdV09IShyW3VdPWlbdV0pKX0pfSl9ZnVuY3Rpb24gcmkobil7cmV0dXJuIG4mJiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRFbGVtZW50c0J5VGFnTmFtZSYmbn1mdW5jdGlvbiBnaSgpe31mdW5jdGlvbiBwdChuKXtmb3IodmFyIHQ9MCxyPW4ubGVuZ3RoLGk9IiI7dDxyO3QrKylpKz1uW3RdLnZhbHVlO3JldHVybiBpfWZ1bmN0aW9uIHd0KG4sdCxpKXt2YXIgcj10LmRpcix1PXQubmV4dCxmPXV8fHIsbz1pJiYicGFyZW50Tm9kZSI9PT1mLHM9bnIrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LGksdSl7d2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKXJldHVybiBuKHQsaSx1KTtyZXR1cm4hMX06ZnVuY3Rpb24odCxpLGgpe3ZhciBjLGwsYSx5PVt2LHNdO2lmKGgpe3doaWxlKHQ9dFtyXSlpZigoMT09PXQubm9kZVR5cGV8fG8pJiZuKHQsaSxoKSlyZXR1cm4hMH1lbHNlIHdoaWxlKHQ9dFtyXSlpZigxPT09dC5ub2RlVHlwZXx8bylpZihsPShhPXRbZV18fCh0W2VdPXt9KSlbdC51bmlxdWVJRF18fChhW3QudW5pcXVlSURdPXt9KSx1JiZ1PT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXQ9dFtyXXx8dDtlbHNle2lmKChjPWxbZl0pJiZjWzBdPT09diYmY1sxXT09PXMpcmV0dXJuIHlbMl09Y1syXTtpZigobFtmXT15KVsyXT1uKHQsaSxoKSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24gdWkobil7cmV0dXJuIDE8bi5sZW5ndGg/ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgdT1uLmxlbmd0aDt1LS07KWlmKCFuW3VdKHQsaSxyKSlyZXR1cm4hMTtyZXR1cm4hMH06blswXX1mdW5jdGlvbiBidChuLHQsaSxyLHUpe2Zvcih2YXIgZSxvPVtdLGY9MCxzPW4ubGVuZ3RoLGg9bnVsbCE9dDtmPHM7ZisrKShlPW5bZl0pJiYoaSYmIWkoZSxyLHUpfHwoby5wdXNoKGUpLGgmJnQucHVzaChmKSkpO3JldHVybiBvfWZ1bmN0aW9uIGZpKG4sdCxpLHIsZixvKXtyZXR1cm4gciYmIXJbZV0mJihyPWZpKHIpKSxmJiYhZltlXSYmKGY9ZmkoZixvKSksbChmdW5jdGlvbihlLG8scyxoKXt2YXIgYSxsLHYsdz1bXSxwPVtdLGI9by5sZW5ndGgsZD1lfHxmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPTAsZj10Lmxlbmd0aDtyPGY7cisrKXUobix0W3JdLGkpO3JldHVybiBpfSh0fHwiKiIscy5ub2RlVHlwZT9bc106cyxbXSkseT0hbnx8IWUmJnQ/ZDpidChkLHcsbixzLGgpLGM9aT9mfHwoZT9uOmJ8fHIpP1tdOm86eTtpZihpJiZpKHksYyxzLGgpLHIpZm9yKGE9YnQoYyxwKSxyKGEsW10scyxoKSxsPWEubGVuZ3RoO2wtLTspKHY9YVtsXSkmJihjW3BbbF1dPSEoeVtwW2xdXT12KSk7aWYoZSl7aWYoZnx8bil7aWYoZil7Zm9yKGE9W10sbD1jLmxlbmd0aDtsLS07KSh2PWNbbF0pJiZhLnB1c2goeVtsXT12KTtmKG51bGwsYz1bXSxhLGgpfWZvcihsPWMubGVuZ3RoO2wtLTspKHY9Y1tsXSkmJi0xPChhPWY/bnQoZSx2KTp3W2xdKSYmKGVbYV09IShvW2FdPXYpKX19ZWxzZSBjPWJ0KGM9PT1vP2Muc3BsaWNlKGIsYy5sZW5ndGgpOmMpLGY/ZihudWxsLG8sYyxoKTprLmFwcGx5KG8sYyl9KX1mdW5jdGlvbiBlaShuKXtmb3IodmFyIG8sdSxyLHM9bi5sZW5ndGgsaD10LnJlbGF0aXZlW25bMF0udHlwZV0sYz1ofHx0LnJlbGF0aXZlWyIgIl0saT1oPzE6MCxsPXd0KGZ1bmN0aW9uKG4pe3JldHVybiBuPT09b30sYywhMCksYT13dChmdW5jdGlvbihuKXtyZXR1cm4tMTxudChvLG4pfSxjLCEwKSxmPVtmdW5jdGlvbihuLHQsaSl7dmFyIHI9IWgmJihpfHx0IT09aHQpfHwoKG89dCkubm9kZVR5cGU/bChuLHQsaSk6YShuLHQsaSkpO3JldHVybiBvPW51bGwscn1dO2k8cztpKyspaWYodT10LnJlbGF0aXZlW25baV0udHlwZV0pZj1bd3QodWkoZiksdSldO2Vsc2V7aWYoKHU9dC5maWx0ZXJbbltpXS50eXBlXS5hcHBseShudWxsLG5baV0ubWF0Y2hlcykpW2VdKXtmb3Iocj0rK2k7cjxzO3IrKylpZih0LnJlbGF0aXZlW25bcl0udHlwZV0pYnJlYWs7cmV0dXJuIGZpKDE8aSYmdWkoZiksMTxpJiZwdChuLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PW5baS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKGF0LCIkMSIpLHUsaTxyJiZlaShuLnNsaWNlKGkscikpLHI8cyYmZWkobj1uLnNsaWNlKHIpKSxyPHMmJnB0KG4pKX1mLnB1c2godSl9cmV0dXJuIHVpKGYpfXZhciBydCxmLHQsc3Qsb2ksZnQsa3Qsc2ksaHQsdyx1dCxiLGkscyxoLG8sZCxjdCxldCxlPSJzaXp6bGUiKzEqbmV3IERhdGUsYz1uLmRvY3VtZW50LHY9MCxucj0wLGhpPXl0KCksY2k9eXQoKSxsaT15dCgpLGx0PXl0KCksZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gbj09PXQmJih1dD0hMCksMH0sdHI9e30uaGFzT3duUHJvcGVydHksZz1bXSxpcj1nLnBvcCxycj1nLnB1c2gsaz1nLnB1c2gsYWk9Zy5zbGljZSxudD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKylpZihuW2ldPT09dClyZXR1cm4gaTtyZXR1cm4tMX0sZ3Q9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixyPSJbXFx4MjBcXHRcXHJcXG5cXGZdIix0dD0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK3IrIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsdmk9IlxcWyIrcisiKigiK3R0KyIpKD86IityKyIqKFsqXiR8IX5dPz0pIityKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrdHQrIikpfCkiK3IrIipcXF0iLG5pPSI6KCIrdHQrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK3ZpKyIpKil8LiopXFwpfCkiLHVyPW5ldyBSZWdFeHAocisiKyIsImciKSxhdD1uZXcgUmVnRXhwKCJeIityKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK3IrIiskIiwiZyIpLGZyPW5ldyBSZWdFeHAoIl4iK3IrIiosIityKyIqIikseWk9bmV3IFJlZ0V4cCgiXiIrcisiKihbPit+XXwiK3IrIikiK3IrIioiKSxlcj1uZXcgUmVnRXhwKHIrInw+Iiksb3I9bmV3IFJlZ0V4cChuaSksc3I9bmV3IFJlZ0V4cCgiXiIrdHQrIiQiKSx2dD17SUQ6bmV3IFJlZ0V4cCgiXiMoIit0dCsiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIit0dCsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrdHQrInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIit2aSksUFNFVURPOm5ldyBSZWdFeHAoIl4iK25pKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK3IrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK3IrIiooPzooWystXXwpIityKyIqKFxcZCspfCkpIityKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitndCsiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK3IrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrcisiKigoPzotXFxkKT9cXGQqKSIrcisiKlxcKXwpKD89W14tXXwkKSIsImkiKX0saHI9L0hUTUwkL2ksY3I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxscj0vXmhcZCQvaSxvdD0vXltee10rXHtccypcW25hdGl2ZSBcdy8sYXI9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyx0aT0vWyt+XS8seT1uZXcgUmVnRXhwKCJcXFxcW1xcZGEtZkEtRl17MSw2fSIrcisiP3xcXFxcKFteXFxyXFxuXFxmXSkiLCJnIikscD1mdW5jdGlvbihuLHQpe3ZhciBpPSIweCIrbi5zbGljZSgxKS02NTUzNjtyZXR1cm4gdHx8KGk8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKGkrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoaT4+MTB8NTUyOTYsMTAyMyZpfDU2MzIwKSl9LHBpPS8oW1wwLVx4MWZceDdmXXxeLT9cZCl8Xi0kfFteXDAtXHgxZlx4N2YtXHVGRkZGXHctXS9nLHdpPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ/IlwwIj09PW4/Iu+/vSI6bi5zbGljZSgwLC0xKSsiXFwiK24uY2hhckNvZGVBdChuLmxlbmd0aC0xKS50b1N0cmluZygxNikrIiAiOiJcXCIrbn0sYmk9ZnVuY3Rpb24oKXtiKCl9LHZyPXd0KGZ1bmN0aW9uKG4pe3JldHVybiEwPT09bi5kaXNhYmxlZCYmImZpZWxkc2V0Ij09PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKX0se2RpcjoicGFyZW50Tm9kZSIsbmV4dDoibGVnZW5kIn0pO3RyeXtrLmFwcGx5KGc9YWkuY2FsbChjLmNoaWxkTm9kZXMpLGMuY2hpbGROb2Rlcyk7Z1tjLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChydCl7az17YXBwbHk6Zy5sZW5ndGg/ZnVuY3Rpb24obix0KXtyci5hcHBseShuLGFpLmNhbGwodCkpfTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1uLmxlbmd0aCxyPTA7bltpKytdPXRbcisrXTspO24ubGVuZ3RoPWktMX19fWZvcihydCBpbiBmPXUuc3VwcG9ydD17fSxvaT11LmlzWE1MPWZ1bmN0aW9uKG4pe3ZhciBpPW4ubmFtZXNwYWNlVVJJLHQ9KG4ub3duZXJEb2N1bWVudHx8bikuZG9jdW1lbnRFbGVtZW50O3JldHVybiFoci50ZXN0KGl8fHQmJnQubm9kZU5hbWV8fCJIVE1MIil9LGI9dS5zZXREb2N1bWVudD1mdW5jdGlvbihuKXt2YXIgdix1LGw9bj9uLm93bmVyRG9jdW1lbnR8fG46YztyZXR1cm4gbCE9aSYmOT09PWwubm9kZVR5cGUmJmwuZG9jdW1lbnRFbGVtZW50JiYocz0oaT1sKS5kb2N1bWVudEVsZW1lbnQsaD0hb2koaSksYyE9aSYmKHU9aS5kZWZhdWx0VmlldykmJnUudG9wIT09dSYmKHUuYWRkRXZlbnRMaXN0ZW5lcj91LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsYmksITEpOnUuYXR0YWNoRXZlbnQmJnUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixiaSkpLGYuc2NvcGU9YShmdW5jdGlvbihuKXtyZXR1cm4gcy5hcHBlbmRDaGlsZChuKS5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSwidW5kZWZpbmVkIiE9dHlwZW9mIG4ucXVlcnlTZWxlY3RvckFsbCYmIW4ucXVlcnlTZWxlY3RvckFsbCgiOnNjb3BlIGZpZWxkc2V0IGRpdiIpLmxlbmd0aH0pLGYuYXR0cmlidXRlcz1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmNsYXNzTmFtZT0iaSIsIW4uZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLGYuZ2V0RWxlbWVudHNCeVRhZ05hbWU9YShmdW5jdGlvbihuKXtyZXR1cm4gbi5hcHBlbmRDaGlsZChpLmNyZWF0ZUNvbW1lbnQoIiIpKSwhbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1vdC50ZXN0KGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksZi5nZXRCeUlkPWEoZnVuY3Rpb24obil7cmV0dXJuIHMuYXBwZW5kQ2hpbGQobikuaWQ9ZSwhaS5nZXRFbGVtZW50c0J5TmFtZXx8IWkuZ2V0RWxlbWVudHNCeU5hbWUoZSkubGVuZ3RofSksZi5nZXRCeUlkPyh0LmZpbHRlci5JRD1mdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LHQuZmluZC5JRD1mdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmaCl7dmFyIGk9dC5nZXRFbGVtZW50QnlJZChuKTtyZXR1cm4gaT9baV06W119fSk6KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0QXR0cmlidXRlTm9kZSYmbi5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBpJiZpLnZhbHVlPT09dH19LHQuZmluZC5JRD1mdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmaCl7dmFyIHIsdSxmLGk9dC5nZXRFbGVtZW50QnlJZChuKTtpZihpKXtpZigocj1pLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZyLnZhbHVlPT09bilyZXR1cm5baV07Zm9yKGY9dC5nZXRFbGVtZW50c0J5TmFtZShuKSx1PTA7aT1mW3UrK107KWlmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXX1yZXR1cm5bXX19KSx0LmZpbmQuVEFHPWYuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24obix0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTpmLnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwobik6dm9pZCAwfTpmdW5jdGlvbihuLHQpe3ZhciBpLHI9W10sZj0wLHU9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTtpZigiKiI9PT1uKXt3aGlsZShpPXVbZisrXSkxPT09aS5ub2RlVHlwZSYmci5wdXNoKGkpO3JldHVybiByfXJldHVybiB1fSx0LmZpbmQuQ0xBU1M9Zi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZoKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobil9LGQ9W10sbz1bXSwoZi5xc2E9b3QudGVzdChpLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGEoZnVuY3Rpb24obil7dmFyIHQ7cy5hcHBlbmRDaGlsZChuKS5pbm5lckhUTUw9IjxhIGlkPSciK2UrIic+PFwvYT48c2VsZWN0IGlkPSciK2UrIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjxcL29wdGlvbj48XC9zZWxlY3Q+IjtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZvLnB1c2goIlsqXiRdPSIrcisiKig/OicnfFwiXCIpIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKig/OnZhbHVlfCIrZ3QrIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitlKyItXSIpLmxlbmd0aHx8by5wdXNoKCJ+PSIpOyh0PWkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJuYW1lIiwiIik7bi5hcHBlbmRDaGlsZCh0KTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPScnXSIpLmxlbmd0aHx8by5wdXNoKCJcXFsiK3IrIipuYW1lIityKyIqPSIrcisiKig/OicnfFwiXCIpIik7bi5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8by5wdXNoKCI6Y2hlY2tlZCIpO24ucXVlcnlTZWxlY3RvckFsbCgiYSMiK2UrIisqIikubGVuZ3RofHxvLnB1c2goIi4jLitbK35dIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJcXFxmIik7by5wdXNoKCJbXFxyXFxuXFxmXSIpfSksYShmdW5jdGlvbihuKXtuLmlubmVySFRNTD0iPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjxcL2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjxcL3NlbGVjdD4iO3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpO24uYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJm8ucHVzaCgibmFtZSIrcisiKlsqXiR8IX5dPz0iKTsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmby5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpO3MuYXBwZW5kQ2hpbGQobikuZGlzYWJsZWQ9ITA7MiE9PW4ucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iik7by5wdXNoKCIsLio6Iil9KSksKGYubWF0Y2hlc1NlbGVjdG9yPW90LnRlc3QoY3Q9cy5tYXRjaGVzfHxzLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8cy5tb3pNYXRjaGVzU2VsZWN0b3J8fHMub01hdGNoZXNTZWxlY3Rvcnx8cy5tc01hdGNoZXNTZWxlY3RvcikpJiZhKGZ1bmN0aW9uKG4pe2YuZGlzY29ubmVjdGVkTWF0Y2g9Y3QuY2FsbChuLCIqIik7Y3QuY2FsbChuLCJbcyE9JyddOngiKTtkLnB1c2goIiE9IixuaSl9KSxvPW8ubGVuZ3RoJiZuZXcgUmVnRXhwKG8uam9pbigifCIpKSxkPWQubGVuZ3RoJiZuZXcgUmVnRXhwKGQuam9pbigifCIpKSx2PW90LnRlc3Qocy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksZXQ9dnx8b3QudGVzdChzLmNvbnRhaW5zKT9mdW5jdGlvbihuLHQpe3ZhciByPTk9PT1uLm5vZGVUeXBlP24uZG9jdW1lbnRFbGVtZW50Om4saT10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIG49PT1pfHwhKCFpfHwxIT09aS5ub2RlVHlwZXx8IShyLmNvbnRhaW5zP3IuY29udGFpbnMoaSk6bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpfTpmdW5jdGlvbihuLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PW4pcmV0dXJuITA7cmV0dXJuITF9LGR0PXY/ZnVuY3Rpb24obix0KXtpZihuPT09dClyZXR1cm4gdXQ9ITAsMDt2YXIgcj0hbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gcnx8KDEmKHI9KG4ub3duZXJEb2N1bWVudHx8bik9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP24uY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFmLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKT09PXI/bj09aXx8bi5vd25lckRvY3VtZW50PT1jJiZldChjLG4pPy0xOnQ9PWl8fHQub3duZXJEb2N1bWVudD09YyYmZXQoYyx0KT8xOnc/bnQodyxuKS1udCh3LHQpOjA6NCZyPy0xOjEpfTpmdW5jdGlvbihuLHQpe2lmKG49PT10KXJldHVybiB1dD0hMCwwO3ZhciByLHU9MCxvPW4ucGFyZW50Tm9kZSxzPXQucGFyZW50Tm9kZSxmPVtuXSxlPVt0XTtpZighb3x8IXMpcmV0dXJuIG49PWk/LTE6dD09aT8xOm8/LTE6cz8xOnc/bnQodyxuKS1udCh3LHQpOjA7aWYobz09PXMpcmV0dXJuIGtpKG4sdCk7Zm9yKHI9bjtyPXIucGFyZW50Tm9kZTspZi51bnNoaWZ0KHIpO2ZvcihyPXQ7cj1yLnBhcmVudE5vZGU7KWUudW5zaGlmdChyKTt3aGlsZShmW3VdPT09ZVt1XSl1Kys7cmV0dXJuIHU/a2koZlt1XSxlW3VdKTpmW3VdPT1jPy0xOmVbdV09PWM/MTowfSksaX0sdS5tYXRjaGVzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHUobixudWxsLG51bGwsdCl9LHUubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKG4sdCl7aWYoYihuKSxmLm1hdGNoZXNTZWxlY3RvciYmaCYmIWx0W3QrIiAiXSYmKCFkfHwhZC50ZXN0KHQpKSYmKCFvfHwhby50ZXN0KHQpKSl0cnl7dmFyIHI9Y3QuY2FsbChuLHQpO2lmKHJ8fGYuZGlzY29ubmVjdGVkTWF0Y2h8fG4uZG9jdW1lbnQmJjExIT09bi5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcn1jYXRjaChuKXtsdCh0LCEwKX1yZXR1cm4gMDx1KHQsaSxudWxsLFtuXSkubGVuZ3RofSx1LmNvbnRhaW5zPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKG4ub3duZXJEb2N1bWVudHx8bikhPWkmJmIobiksZXQobix0KX0sdS5hdHRyPWZ1bmN0aW9uKG4scil7KG4ub3duZXJEb2N1bWVudHx8bikhPWkmJmIobik7dmFyIGU9dC5hdHRySGFuZGxlW3IudG9Mb3dlckNhc2UoKV0sdT1lJiZ0ci5jYWxsKHQuYXR0ckhhbmRsZSxyLnRvTG93ZXJDYXNlKCkpP2UobixyLCFoKTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PXU/dTpmLmF0dHJpYnV0ZXN8fCFoP24uZ2V0QXR0cmlidXRlKHIpOih1PW4uZ2V0QXR0cmlidXRlTm9kZShyKSkmJnUuc3BlY2lmaWVkP3UudmFsdWU6bnVsbH0sdS5lc2NhcGU9ZnVuY3Rpb24obil7cmV0dXJuKG4rIiIpLnJlcGxhY2UocGksd2kpfSx1LmVycm9yPWZ1bmN0aW9uKG4pe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIituKTt9LHUudW5pcXVlU29ydD1mdW5jdGlvbihuKXt2YXIgcix1PVtdLHQ9MCxpPTA7aWYodXQ9IWYuZGV0ZWN0RHVwbGljYXRlcyx3PSFmLnNvcnRTdGFibGUmJm4uc2xpY2UoMCksbi5zb3J0KGR0KSx1dCl7d2hpbGUocj1uW2krK10pcj09PW5baV0mJih0PXUucHVzaChpKSk7d2hpbGUodC0tKW4uc3BsaWNlKHVbdF0sMSl9cmV0dXJuIHc9bnVsbCxufSxzdD11LmdldFRleHQ9ZnVuY3Rpb24obil7dmFyIHIsaT0iIix1PTAsdD1uLm5vZGVUeXBlO2lmKHQpe2lmKDE9PT10fHw5PT09dHx8MTE9PT10KXtpZigic3RyaW5nIj09dHlwZW9mIG4udGV4dENvbnRlbnQpcmV0dXJuIG4udGV4dENvbnRlbnQ7Zm9yKG49bi5maXJzdENoaWxkO247bj1uLm5leHRTaWJsaW5nKWkrPXN0KG4pfWVsc2UgaWYoMz09PXR8fDQ9PT10KXJldHVybiBuLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHI9blt1KytdKWkrPXN0KHIpO3JldHVybiBpfSwodD11LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmwsbWF0Y2g6dnQsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0ucmVwbGFjZSh5LHApLG5bM109KG5bM118fG5bNF18fG5bNV18fCIiKS5yZXBsYWNlKHkscCksIn49Ij09PW5bMl0mJihuWzNdPSIgIituWzNdKyIgIiksbi5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihuKXtyZXR1cm4gblsxXT1uWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1uWzFdLnNsaWNlKDAsMyk/KG5bM118fHUuZXJyb3IoblswXSksbls0XT0rKG5bNF0/bls1XSsobls2XXx8MSk6MiooImV2ZW4iPT09blszXXx8Im9kZCI9PT1uWzNdKSksbls1XT0rKG5bN10rbls4XXx8Im9kZCI9PT1uWzNdKSk6blszXSYmdS5lcnJvcihuWzBdKSxufSxQU0VVRE86ZnVuY3Rpb24obil7dmFyIGksdD0hbls2XSYmblsyXTtyZXR1cm4gdnQuQ0hJTEQudGVzdChuWzBdKT9udWxsOihuWzNdP25bMl09bls0XXx8bls1XXx8IiI6dCYmb3IudGVzdCh0KSYmKGk9ZnQodCwhMCkpJiYoaT10LmluZGV4T2YoIikiLHQubGVuZ3RoLWkpLXQubGVuZ3RoKSYmKG5bMF09blswXS5zbGljZSgwLGkpLG5bMl09dC5zbGljZSgwLGkpKSxuLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24obil7dmFyIHQ9bi5yZXBsYWNlKHkscCkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1uP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKG4pe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10fX0sQ0xBU1M6ZnVuY3Rpb24obil7dmFyIHQ9aGlbbisiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK3IrIikiK24rIigiK3IrInwkKSIpKSYmaGkobixmdW5jdGlvbihuKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2Ygbi5jbGFzc05hbWUmJm4uY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0QXR0cmlidXRlJiZuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obix0LGkpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgZj11LmF0dHIocixuKTtyZXR1cm4gbnVsbD09Zj8iIT0iPT09dDohdHx8KGYrPSIiLCI9Ij09PXQ/Zj09PWk6IiE9Ij09PXQ/ZiE9PWk6Il49Ij09PXQ/aSYmMD09PWYuaW5kZXhPZihpKToiKj0iPT09dD9pJiYtMTxmLmluZGV4T2YoaSk6IiQ9Ij09PXQ/aSYmZi5zbGljZSgtaS5sZW5ndGgpPT09aToifj0iPT09dD8tMTwoIiAiK2YucmVwbGFjZSh1ciwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09dCYmKGY9PT1pfHxmLnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24obix0LGkscix1KXt2YXIgcz0ibnRoIiE9PW4uc2xpY2UoMCwzKSxvPSJsYXN0IiE9PW4uc2xpY2UoLTQpLGY9Im9mLXR5cGUiPT09dDtyZXR1cm4gMT09PXImJjA9PT11P2Z1bmN0aW9uKG4pe3JldHVybiEhbi5wYXJlbnROb2RlfTpmdW5jdGlvbih0LGksaCl7dmFyIHAsZCx5LGMsYSx3LGI9cyE9PW8/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixrPXQucGFyZW50Tm9kZSxudD1mJiZ0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZz0haCYmIWYsbD0hMTtpZihrKXtpZihzKXt3aGlsZShiKXtmb3IoYz10O2M9Y1tiXTspaWYoZj9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSlyZXR1cm4hMTt3PWI9Im9ubHkiPT09biYmIXcmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYodz1bbz9rLmZpcnN0Q2hpbGQ6ay5sYXN0Q2hpbGRdLG8mJmcpe2ZvcihsPShhPShwPShkPSh5PShjPWspW2VdfHwoY1tlXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dfHxbXSlbMF09PT12JiZwWzFdKSYmcFsyXSxjPWEmJmsuY2hpbGROb2Rlc1thXTtjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKTspaWYoMT09PWMubm9kZVR5cGUmJisrbCYmYz09PXQpe2Rbbl09W3YsYSxsXTticmVha319ZWxzZSBpZihnJiYobD1hPShwPShkPSh5PShjPXQpW2VdfHwoY1tlXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dfHxbXSlbMF09PT12JiZwWzFdKSwhMT09PWwpd2hpbGUoYz0rK2EmJmMmJmNbYl18fChsPWE9MCl8fHcucG9wKCkpaWYoKGY/Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09bnQ6MT09PWMubm9kZVR5cGUpJiYrK2wmJihnJiYoKGQ9KHk9Y1tlXXx8KGNbZV09e30pKVtjLnVuaXF1ZUlEXXx8KHlbYy51bmlxdWVJRF09e30pKVtuXT1bdixsXSksYz09PXQpKWJyZWFrO3JldHVybihsLT11KT09PXJ8fGwlcj09MCYmMDw9bC9yfX19LFBTRVVETzpmdW5jdGlvbihuLGkpe3ZhciBmLHI9dC5wc2V1ZG9zW25dfHx0LnNldEZpbHRlcnNbbi50b0xvd2VyQ2FzZSgpXXx8dS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK24pO3JldHVybiByW2VdP3IoaSk6MTxyLmxlbmd0aD8oZj1bbixuLCIiLGldLHQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShuLnRvTG93ZXJDYXNlKCkpP2woZnVuY3Rpb24obix0KXtmb3IodmFyIGUsdT1yKG4saSksZj11Lmxlbmd0aDtmLS07KW5bZT1udChuLHVbZl0pXT0hKHRbZV09dVtmXSl9KTpmdW5jdGlvbihuKXtyZXR1cm4gcihuLDAsZil9KTpyfX0scHNldWRvczp7bm90OmwoZnVuY3Rpb24obil7dmFyIHQ9W10scj1bXSxpPWt0KG4ucmVwbGFjZShhdCwiJDEiKSk7cmV0dXJuIGlbZV0/bChmdW5jdGlvbihuLHQscix1KXtmb3IodmFyIGUsbz1pKG4sbnVsbCx1LFtdKSxmPW4ubGVuZ3RoO2YtLTspKGU9b1tmXSkmJihuW2ZdPSEodFtmXT1lKSl9KTpmdW5jdGlvbihuLHUsZil7cmV0dXJuIHRbMF09bixpKHQsbnVsbCxmLHIpLHRbMF09bnVsbCwhci5wb3AoKX19KSxoYXM6bChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDA8dShuLHQpLmxlbmd0aH19KSxjb250YWluczpsKGZ1bmN0aW9uKG4pe3JldHVybiBuPW4ucmVwbGFjZSh5LHApLGZ1bmN0aW9uKHQpe3JldHVybi0xPCh0LnRleHRDb250ZW50fHxzdCh0KSkuaW5kZXhPZihuKX19KSxsYW5nOmwoZnVuY3Rpb24obil7cmV0dXJuIHNyLnRlc3Qobnx8IiIpfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKHkscCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXt2YXIgaTtkbyBpZihpPWg/dC5sYW5nOnQuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHx0LmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybihpPWkudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09aS5pbmRleE9mKG4rIi0iKTt3aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBpPW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gaSYmaS5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24obil7cmV0dXJuIG49PT1zfSxmb2N1czpmdW5jdGlvbihuKXtyZXR1cm4gbj09PWkuYWN0aXZlRWxlbWVudCYmKCFpLmhhc0ZvY3VzfHxpLmhhc0ZvY3VzKCkpJiYhIShuLnR5cGV8fG4uaHJlZnx8fm4udGFiSW5kZXgpfSxlbmFibGVkOmRpKCExKSxkaXNhYmxlZDpkaSghMCksY2hlY2tlZDpmdW5jdGlvbihuKXt2YXIgdD1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhbi5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhbi5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1uLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihuKXtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaWYobi5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24obil7cmV0dXJuIXQucHNldWRvcy5lbXB0eShuKX0saGVhZGVyOmZ1bmN0aW9uKG4pe3JldHVybiBsci50ZXN0KG4ubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gY3IudGVzdChuLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1uLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1uLnR5cGUmJihudWxsPT0odD1uLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6aXQoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Oml0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuW3QtMV19KSxlcTppdChmdW5jdGlvbihuLHQsaSl7cmV0dXJuW2k8MD9pK3Q6aV19KSxldmVuOml0KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTA7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksb2RkOml0KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTE7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksbHQ6aXQoZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgcj1pPDA/aSt0OnQ8aT90Omk7MDw9LS1yOyluLnB1c2gocik7cmV0dXJuIG59KSxndDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6aTsrK3I8dDspbi5wdXNoKHIpO3JldHVybiBufSl9fSkucHNldWRvcy5udGg9dC5wc2V1ZG9zLmVxLHtyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSl0LnBzZXVkb3NbcnRdPXlyKHJ0KTtmb3IocnQgaW57c3VibWl0OiEwLHJlc2V0OiEwfSl0LnBzZXVkb3NbcnRdPXByKHJ0KTtyZXR1cm4gZ2kucHJvdG90eXBlPXQuZmlsdGVycz10LnBzZXVkb3MsdC5zZXRGaWx0ZXJzPW5ldyBnaSxmdD11LnRva2VuaXplPWZ1bmN0aW9uKG4saSl7dmFyIGUsZixzLG8scixoLGMsbD1jaVtuKyIgIl07aWYobClyZXR1cm4gaT8wOmwuc2xpY2UoMCk7Zm9yKHI9bixoPVtdLGM9dC5wcmVGaWx0ZXI7cjspe2ZvcihvIGluIGUmJiEoZj1mci5leGVjKHIpKXx8KGYmJihyPXIuc2xpY2UoZlswXS5sZW5ndGgpfHxyKSxoLnB1c2gocz1bXSkpLGU9ITEsKGY9eWkuZXhlYyhyKSkmJihlPWYuc2hpZnQoKSxzLnB1c2goe3ZhbHVlOmUsdHlwZTpmWzBdLnJlcGxhY2UoYXQsIiAiKX0pLHI9ci5zbGljZShlLmxlbmd0aCkpLHQuZmlsdGVyKShmPXZ0W29dLmV4ZWMocikpJiYoIWNbb118fChmPWNbb10oZikpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOm8sbWF0Y2hlczpmfSkscj1yLnNsaWNlKGUubGVuZ3RoKSk7aWYoIWUpYnJlYWt9cmV0dXJuIGk/ci5sZW5ndGg6cj91LmVycm9yKG4pOmNpKG4saCkuc2xpY2UoMCl9LGt0PXUuY29tcGlsZT1mdW5jdGlvbihuLHIpe3ZhciBzLGMsYSxvLHkscCx3PVtdLGQ9W10sZj1saVtuKyIgIl07aWYoIWYpe2ZvcihyfHwocj1mdChuKSkscz1yLmxlbmd0aDtzLS07KShmPWVpKHJbc10pKVtlXT93LnB1c2goZik6ZC5wdXNoKGYpOyhmPWxpKG4sKGM9ZCxvPTA8KGE9dykubGVuZ3RoLHk9MDxjLmxlbmd0aCxwPWZ1bmN0aW9uKG4scixmLGUscyl7dmFyIGwsbnQsZCxnPTAscD0iMCIsdHQ9biYmW10sdz1bXSxpdD1odCxydD1ufHx5JiZ0LmZpbmQuVEFHKCIqIixzKSx1dD12Kz1udWxsPT1pdD8xOk1hdGgucmFuZG9tKCl8fC4xLGZ0PXJ0Lmxlbmd0aDtmb3IocyYmKGh0PXI9PWl8fHJ8fHMpO3AhPT1mdCYmbnVsbCE9KGw9cnRbcF0pO3ArKyl7aWYoeSYmbCl7Zm9yKG50PTAscnx8bC5vd25lckRvY3VtZW50PT1pfHwoYihsKSxmPSFoKTtkPWNbbnQrK107KWlmKGQobCxyfHxpLGYpKXtlLnB1c2gobCk7YnJlYWt9cyYmKHY9dXQpfW8mJigobD0hZCYmbCkmJmctLSxuJiZ0dC5wdXNoKGwpKX1pZihnKz1wLG8mJnAhPT1nKXtmb3IobnQ9MDtkPWFbbnQrK107KWQodHQsdyxyLGYpO2lmKG4pe2lmKDA8Zyl3aGlsZShwLS0pdHRbcF18fHdbcF18fCh3W3BdPWlyLmNhbGwoZSkpO3c9YnQodyl9ay5hcHBseShlLHcpO3MmJiFuJiYwPHcubGVuZ3RoJiYxPGcrYS5sZW5ndGgmJnUudW5pcXVlU29ydChlKX1yZXR1cm4gcyYmKHY9dXQsaHQ9aXQpLHR0fSxvP2wocCk6cCkpKS5zZWxlY3Rvcj1ufXJldHVybiBmfSxzaT11LnNlbGVjdD1mdW5jdGlvbihuLGkscix1KXt2YXIgbyxmLGUsbCxhLGM9ImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4scz0hdSYmZnQobj1jLnNlbGVjdG9yfHxuKTtpZihyPXJ8fFtdLDE9PT1zLmxlbmd0aCl7aWYoMjwoZj1zWzBdPXNbMF0uc2xpY2UoMCkpLmxlbmd0aCYmIklEIj09PShlPWZbMF0pLnR5cGUmJjk9PT1pLm5vZGVUeXBlJiZoJiZ0LnJlbGF0aXZlW2ZbMV0udHlwZV0pe2lmKCEoaT0odC5maW5kLklEKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksaSl8fFtdKVswXSkpcmV0dXJuIHI7YyYmKGk9aS5wYXJlbnROb2RlKTtuPW4uc2xpY2UoZi5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89dnQubmVlZHNDb250ZXh0LnRlc3Qobik/MDpmLmxlbmd0aDtvLS07KXtpZihlPWZbb10sdC5yZWxhdGl2ZVtsPWUudHlwZV0pYnJlYWs7aWYoKGE9dC5maW5kW2xdKSYmKHU9YShlLm1hdGNoZXNbMF0ucmVwbGFjZSh5LHApLHRpLnRlc3QoZlswXS50eXBlKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkpKXtpZihmLnNwbGljZShvLDEpLCEobj11Lmxlbmd0aCYmcHQoZikpKXJldHVybiBrLmFwcGx5KHIsdSkscjticmVha319fXJldHVybihjfHxrdChuLHMpKSh1LGksIWgsciwhaXx8dGkudGVzdChuKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkscn0sZi5zb3J0U3RhYmxlPWUuc3BsaXQoIiIpLnNvcnQoZHQpLmpvaW4oIiIpPT09ZSxmLmRldGVjdER1cGxpY2F0ZXM9ISF1dCxiKCksZi5zb3J0RGV0YWNoZWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gMSZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PFwvYT4iLCIjIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxpaSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24obix0LGkpe2lmKCFpKXJldHVybiBuLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZi5hdHRyaWJ1dGVzJiZhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGlucHV0Lz4iLG4uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1uLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGlpKCJ2YWx1ZSIsZnVuY3Rpb24obix0LGkpe2lmKCFpJiYiaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBuLmRlZmF1bHRWYWx1ZX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGlpKGd0LGZ1bmN0aW9uKG4sdCxpKXt2YXIgcjtpZighaSlyZXR1cm4hMD09PW5bdF0/dC50b0xvd2VyQ2FzZSgpOihyPW4uZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHV9KG4pO2kuZmluZD1kO2kuZXhwcj1kLnNlbGVjdG9ycztpLmV4cHJbIjoiXT1pLmV4cHIucHNldWRvcztpLnVuaXF1ZVNvcnQ9aS51bmlxdWU9ZC51bmlxdWVTb3J0O2kudGV4dD1kLmdldFRleHQ7aS5pc1hNTERvYz1kLmlzWE1MO2kuY29udGFpbnM9ZC5jb250YWlucztpLmVzY2FwZVNlbGVjdG9yPWQuZXNjYXBlO3ZhciBmdD1mdW5jdGlvbihuLHQscil7Zm9yKHZhciB1PVtdLGY9dm9pZCAwIT09cjsobj1uW3RdKSYmOSE9PW4ubm9kZVR5cGU7KWlmKDE9PT1uLm5vZGVUeXBlKXtpZihmJiZpKG4pLmlzKHIpKWJyZWFrO3UucHVzaChuKX1yZXR1cm4gdX0sZHI9ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9W107bjtuPW4ubmV4dFNpYmxpbmcpMT09PW4ubm9kZVR5cGUmJm4hPT10JiZpLnB1c2gobik7cmV0dXJuIGl9LGdyPWkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7d2k9L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7aS5maWx0ZXI9ZnVuY3Rpb24obix0LHIpe3ZhciB1PXRbMF07cmV0dXJuIHImJihuPSI6bm90KCIrbisiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXUubm9kZVR5cGU/aS5maW5kLm1hdGNoZXNTZWxlY3Rvcih1LG4pP1t1XTpbXTppLmZpbmQubWF0Y2hlcyhuLGkuZ3JlcCh0LGZ1bmN0aW9uKG4pe3JldHVybiAxPT09bi5ub2RlVHlwZX0pKX07aS5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQscix1PXRoaXMubGVuZ3RoLGY9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMucHVzaFN0YWNrKGkobikuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MDt0PHU7dCsrKWlmKGkuY29udGFpbnMoZlt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3Iocj10aGlzLnB1c2hTdGFjayhbXSksdD0wO3Q8dTt0KyspaS5maW5kKG4sZlt0XSxyKTtyZXR1cm4gMTx1P2kudW5pcXVlU29ydChyKTpyfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJpKHRoaXMsbnx8W10sITEpKX0sbm90OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnB1c2hTdGFjayhiaSh0aGlzLG58fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKG4pe3JldHVybiEhYmkodGhpcywic3RyaW5nIj09dHlwZW9mIG4mJmdyLnRlc3Qobik/aShuKTpufHxbXSwhMSkubGVuZ3RofX0pO3R1PS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KGkuZm4uaW5pdD1mdW5jdGlvbihuLHQscil7dmFyIGUsbztpZighbilyZXR1cm4gdGhpcztpZihyPXJ8fG51LCJzdHJpbmciPT10eXBlb2Ygbil7aWYoIShlPSI8Ij09PW5bMF0mJiI+Ij09PW5bbi5sZW5ndGgtMV0mJjM8PW4ubGVuZ3RoP1tudWxsLG4sbnVsbF06dHUuZXhlYyhuKSl8fCFlWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8cikuZmluZChuKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQobik7aWYoZVsxXSl7aWYodD10IGluc3RhbmNlb2YgaT90WzBdOnQsaS5tZXJnZSh0aGlzLGkucGFyc2VIVE1MKGVbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6ZiwhMCkpLHdpLnRlc3QoZVsxXSkmJmkuaXNQbGFpbk9iamVjdCh0KSlmb3IoZSBpbiB0KXUodGhpc1tlXSk/dGhpc1tlXSh0W2VdKTp0aGlzLmF0dHIoZSx0W2VdKTtyZXR1cm4gdGhpc31yZXR1cm4obz1mLmdldEVsZW1lbnRCeUlkKGVbMl0pKSYmKHRoaXNbMF09byx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBuLm5vZGVUeXBlPyh0aGlzWzBdPW4sdGhpcy5sZW5ndGg9MSx0aGlzKTp1KG4pP3ZvaWQgMCE9PXIucmVhZHk/ci5yZWFkeShuKTpuKGkpOmkubWFrZUFycmF5KG4sdGhpcyl9KS5wcm90b3R5cGU9aS5mbjtudT1pKGYpO2l1PS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvO3J1PXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2kuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24obil7dmFyIHQ9aShuLHRoaXMpLHI9dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjxyO24rKylpZihpLmNvbnRhaW5zKHRoaXMsdFtuXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihuLHQpe3ZhciByLGY9MCxvPXRoaXMubGVuZ3RoLHU9W10sZT0ic3RyaW5nIiE9dHlwZW9mIG4mJmkobik7aWYoIWdyLnRlc3QobikpZm9yKDtmPG87ZisrKWZvcihyPXRoaXNbZl07ciYmciE9PXQ7cj1yLnBhcmVudE5vZGUpaWYoci5ub2RlVHlwZTwxMSYmKGU/LTE8ZS5pbmRleChyKToxPT09ci5ub2RlVHlwZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihyLG4pKSl7dS5wdXNoKHIpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPHUubGVuZ3RoP2kudW5pcXVlU29ydCh1KTp1KX0saW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIG4/InN0cmluZyI9PXR5cGVvZiBuP2lpLmNhbGwoaShuKSx0aGlzWzBdKTppaS5jYWxsKHRoaXMsbi5qcXVlcnk/blswXTpuKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhpLnVuaXF1ZVNvcnQoaS5tZXJnZSh0aGlzLmdldCgpLGkobix0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9fSk7aS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ0KG4sInBhcmVudE5vZGUiLGkpfSxuZXh0OmZ1bmN0aW9uKG4pe3JldHVybiB1dShuLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKG4pe3JldHVybiB1dShuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihuKXtyZXR1cm4gZnQobiwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihuKXtyZXR1cm4gZnQobiwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ0KG4sIm5leHRTaWJsaW5nIixpKX0scHJldlVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwicHJldmlvdXNTaWJsaW5nIixpKX0sc2libGluZ3M6ZnVuY3Rpb24obil7cmV0dXJuIGRyKChuLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLG4pfSxjaGlsZHJlbjpmdW5jdGlvbihuKXtyZXR1cm4gZHIobi5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4uY29udGVudERvY3VtZW50JiZ2cihuLmNvbnRlbnREb2N1bWVudCk/bi5jb250ZW50RG9jdW1lbnQ6KGMobiwidGVtcGxhdGUiKSYmKG49bi5jb250ZW50fHxuKSxpLm1lcmdlKFtdLG4uY2hpbGROb2RlcykpfX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKHIsdSl7dmFyIGY9aS5tYXAodGhpcyx0LHIpO3JldHVybiJVbnRpbCIhPT1uLnNsaWNlKC01KSYmKHU9ciksdSYmInN0cmluZyI9PXR5cGVvZiB1JiYoZj1pLmZpbHRlcih1LGYpKSwxPHRoaXMubGVuZ3RoJiYocnVbbl18fGkudW5pcXVlU29ydChmKSxpdS50ZXN0KG4pJiZmLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZil9fSk7bD0vW15ceDIwXHRcclxuXGZdKy9nO2kuQ2FsbGJhY2tzPWZ1bmN0aW9uKG4pe3ZhciBhLGg7bj0ic3RyaW5nIj09dHlwZW9mIG4/KGE9bixoPXt9LGkuZWFjaChhLm1hdGNoKGwpfHxbXSxmdW5jdGlvbihuLHQpe2hbdF09ITB9KSxoKTppLmV4dGVuZCh7fSxuKTt2YXIgbyxyLHYsZix0PVtdLHM9W10sZT0tMSx5PWZ1bmN0aW9uKCl7Zm9yKGY9Znx8bi5vbmNlLHY9bz0hMDtzLmxlbmd0aDtlPS0xKWZvcihyPXMuc2hpZnQoKTsrK2U8dC5sZW5ndGg7KSExPT09dFtlXS5hcHBseShyWzBdLHJbMV0pJiZuLnN0b3BPbkZhbHNlJiYoZT10Lmxlbmd0aCxyPSExKTtuLm1lbW9yeXx8KHI9ITEpO289ITE7ZiYmKHQ9cj9bXToiIil9LGM9e2FkZDpmdW5jdGlvbigpe3JldHVybiB0JiYociYmIW8mJihlPXQubGVuZ3RoLTEscy5wdXNoKHIpKSxmdW5jdGlvbiBmKHIpe2kuZWFjaChyLGZ1bmN0aW9uKGkscil7dShyKT9uLnVuaXF1ZSYmYy5oYXMocil8fHQucHVzaChyKTpyJiZyLmxlbmd0aCYmInN0cmluZyIhPT11dChyKSYmZihyKX0pfShhcmd1bWVudHMpLHImJiFvJiZ5KCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBpLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKG4scil7Zm9yKHZhciB1Oy0xPCh1PWkuaW5BcnJheShyLHQsdSkpOyl0LnNwbGljZSh1LDEpLHU8PWUmJmUtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihuKXtyZXR1cm4gbj8tMTxpLmluQXJyYXkobix0KTowPHQubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0JiYodD1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBmPXM9W10sdD1yPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXR9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZj1zPVtdLHJ8fG98fCh0PXI9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhZn0sZmlyZVdpdGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gZnx8KHQ9W24sKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSxzLnB1c2godCksb3x8eSgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGMuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISF2fX07cmV0dXJuIGN9O2kuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbih0KXt2YXIgZj1bWyJub3RpZnkiLCJwcm9ncmVzcyIsaS5DYWxsYmFja3MoIm1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsaS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksaS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0sbz0icGVuZGluZyIsZT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gb30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKG4pe3JldHVybiBlLnRoZW4obnVsbCxuKX0scGlwZTpmdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50cztyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbih0KXtpLmVhY2goZixmdW5jdGlvbihpLGYpe3ZhciBlPXUobltmWzRdXSkmJm5bZls0XV07cltmWzFdXShmdW5jdGlvbigpe3ZhciBuPWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO24mJnUobi5wcm9taXNlKT9uLnByb21pc2UoKS5wcm9ncmVzcyh0Lm5vdGlmeSkuZG9uZSh0LnJlc29sdmUpLmZhaWwodC5yZWplY3QpOnRbZlswXSsiV2l0aCJdKHRoaXMsZT9bbl06YXJndW1lbnRzKX0pfSk7bj1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQscixlKXtmdW5jdGlvbiBzKHQscixmLGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBoPXRoaXMsYz1hcmd1bWVudHMsbD1mdW5jdGlvbigpe3ZhciBuLGk7aWYoISh0PG8pKXtpZigobj1mLmFwcGx5KGgsYykpPT09ci5wcm9taXNlKCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlbmFibGUgc2VsZi1yZXNvbHV0aW9uIik7aT1uJiYoIm9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2YgbikmJm4udGhlbjt1KGkpP2U/aS5jYWxsKG4scyhvLHIsZXQsZSkscyhvLHIsZmksZSkpOihvKyssaS5jYWxsKG4scyhvLHIsZXQsZSkscyhvLHIsZmksZSkscyhvLHIsZXQsci5ub3RpZnlXaXRoKSkpOihmIT09ZXQmJihoPXZvaWQgMCxjPVtuXSksKGV8fHIucmVzb2x2ZVdpdGgpKGgsYykpfX0sYT1lP2w6ZnVuY3Rpb24oKXt0cnl7bCgpfWNhdGNoKGwpe2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayYmaS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGwsYS5zdGFja1RyYWNlKTtvPD10KzEmJihmIT09ZmkmJihoPXZvaWQgMCxjPVtsXSksci5yZWplY3RXaXRoKGgsYykpfX07dD9hKCk6KGkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYoYS5zdGFja1RyYWNlPWkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLG4uc2V0VGltZW91dChhKSl9fXZhciBvPTA7cmV0dXJuIGkuRGVmZXJyZWQoZnVuY3Rpb24obil7ZlswXVszXS5hZGQocygwLG4sdShlKT9lOmV0LG4ubm90aWZ5V2l0aCkpO2ZbMV1bM10uYWRkKHMoMCxuLHUodCk/dDpldCkpO2ZbMl1bM10uYWRkKHMoMCxuLHUocik/cjpmaSkpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uP2kuZXh0ZW5kKG4sZSk6ZX19LHI9e307cmV0dXJuIGkuZWFjaChmLGZ1bmN0aW9uKG4sdCl7dmFyIGk9dFsyXSx1PXRbNV07ZVt0WzFdXT1pLmFkZDt1JiZpLmFkZChmdW5jdGlvbigpe289dX0sZlszLW5dWzJdLmRpc2FibGUsZlszLW5dWzNdLmRpc2FibGUsZlswXVsyXS5sb2NrLGZbMF1bM10ubG9jayk7aS5hZGQodFszXS5maXJlKTtyW3RbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIHJbdFswXSsiV2l0aCJdKHRoaXM9PT1yP3ZvaWQgMDp0aGlzLGFyZ3VtZW50cyksdGhpc307clt0WzBdKyJXaXRoIl09aS5maXJlV2l0aH0pLGUucHJvbWlzZShyKSx0JiZ0LmNhbGwocixyKSxyfSx3aGVuOmZ1bmN0aW9uKG4pe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1lLG89QXJyYXkodCksZj1rLmNhbGwoYXJndW1lbnRzKSxyPWkuRGVmZXJyZWQoKSxzPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtvW25dPXRoaXM7ZltuXT0xPGFyZ3VtZW50cy5sZW5ndGg/ay5jYWxsKGFyZ3VtZW50cyk6dDstLWV8fHIucmVzb2x2ZVdpdGgobyxmKX19O2lmKGU8PTEmJihmdShuLHIuZG9uZShzKHQpKS5yZXNvbHZlLHIucmVqZWN0LCFlKSwicGVuZGluZyI9PT1yLnN0YXRlKCl8fHUoZlt0XSYmZlt0XS50aGVuKSkpcmV0dXJuIHIudGhlbigpO3doaWxlKHQtLSlmdShmW3RdLHModCksci5yZWplY3QpO3JldHVybiByLnByb21pc2UoKX19KTtldT0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24odCxpKXtuLmNvbnNvbGUmJm4uY29uc29sZS53YXJuJiZ0JiZldS50ZXN0KHQubmFtZSkmJm4uY29uc29sZS53YXJuKCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiK3QubWVzc2FnZSx0LnN0YWNrLGkpfTtpLnJlYWR5RXhjZXB0aW9uPWZ1bmN0aW9uKHQpe24uc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHQ7fSl9O2VpPWkuRGVmZXJyZWQoKTtpLmZuLnJlYWR5PWZ1bmN0aW9uKG4pe3JldHVybiBlaS50aGVuKG4pWyJjYXRjaCJdKGZ1bmN0aW9uKG4pe2kucmVhZHlFeGNlcHRpb24obil9KSx0aGlzfTtpLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihuKXsoITA9PT1uPy0taS5yZWFkeVdhaXQ6aS5pc1JlYWR5KXx8KGkuaXNSZWFkeT0hMCkhPT1uJiYwPC0taS5yZWFkeVdhaXR8fGVpLnJlc29sdmVXaXRoKGYsW2ldKX19KTtpLnJlYWR5LnRoZW49ZWkudGhlbjsiY29tcGxldGUiPT09Zi5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1mLnJlYWR5U3RhdGUmJiFmLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9uLnNldFRpbWVvdXQoaS5yZWFkeSk6KGYuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsb2kpLG4uYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsb2kpKTt2YXIgdz1mdW5jdGlvbihuLHQscixmLGUsbyxzKXt2YXIgaD0wLGw9bi5sZW5ndGgsYz1udWxsPT1yO2lmKCJvYmplY3QiPT09dXQocikpZm9yKGggaW4gZT0hMCxyKXcobix0LGgscltoXSwhMCxvLHMpO2Vsc2UgaWYodm9pZCAwIT09ZiYmKGU9ITAsdShmKXx8KHM9ITApLGMmJihzPyh0LmNhbGwobixmKSx0PW51bGwpOihjPXQsdD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGMuY2FsbChpKG4pLHIpfSkpLHQpKWZvcig7aDxsO2grKyl0KG5baF0scixzP2Y6Zi5jYWxsKG5baF0saCx0KG5baF0scikpKTtyZXR1cm4gZT9uOmM/dC5jYWxsKG4pOmw/dChuWzBdLHIpOm99LGhlPS9eLW1zLS8sY2U9Ly0oW2Etel0pL2c7b3Q9ZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfHw5PT09bi5ub2RlVHlwZXx8IStuLm5vZGVUeXBlfTtidC51aWQ9MTtidC5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKG4pe3ZhciB0PW5bdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sb3QobikmJihuLm5vZGVUeXBlP25bdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihuLHQsaSl7dmFyIHIsdT10aGlzLmNhY2hlKG4pO2lmKCJzdHJpbmciPT10eXBlb2YgdCl1W3kodCldPWk7ZWxzZSBmb3IociBpbiB0KXVbeShyKV09dFtyXTtyZXR1cm4gdX0sZ2V0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShuKTpuW3RoaXMuZXhwYW5kb10mJm5bdGhpcy5leHBhbmRvXVt5KHQpXX0sYWNjZXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1pP3RoaXMuZ2V0KG4sdCk6KHRoaXMuc2V0KG4sdCxpKSx2b2lkIDAhPT1pP2k6dCl9LHJlbW92ZTpmdW5jdGlvbihuLHQpe3ZhciB1LHI9blt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpZm9yKHU9KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcCh5KToodD15KHQpKWluIHI/W3RdOnQubWF0Y2gobCl8fFtdKS5sZW5ndGg7dS0tOylkZWxldGUgclt0W3VdXTsodm9pZCAwPT09dHx8aS5pc0VtcHR5T2JqZWN0KHIpKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgblt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT10JiYhaS5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIHI9bmV3IGJ0LG89bmV3IGJ0LGFlPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sdmU9L1tBLVpdL2c7aS5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24obil7cmV0dXJuIG8uaGFzRGF0YShuKXx8ci5oYXNEYXRhKG4pfSxkYXRhOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gby5hY2Nlc3Mobix0LGkpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKG4sdCl7by5yZW1vdmUobix0KX0sX2RhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiByLmFjY2VzcyhuLHQsaSl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKG4sdCl7ci5yZW1vdmUobix0KX19KTtpLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihuLHQpe3ZhciBmLHUsZSxpPXRoaXNbMF0scz1pJiZpLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09bil7aWYodGhpcy5sZW5ndGgmJihlPW8uZ2V0KGkpLDE9PT1pLm5vZGVUeXBlJiYhci5nZXQoaSwiaGFzRGF0YUF0dHJzIikpKXtmb3IoZj1zLmxlbmd0aDtmLS07KXNbZl0mJjA9PT0odT1zW2ZdLm5hbWUpLmluZGV4T2YoImRhdGEtIikmJih1PXkodS5zbGljZSg1KSksb3UoaSx1LGVbdV0pKTtyLnNldChpLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG4/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuKX0pOncodGhpcyxmdW5jdGlvbih0KXt2YXIgcjtpZihpJiZ2b2lkIDA9PT10KXJldHVybiB2b2lkIDAhPT0ocj1vLmdldChpLG4pKT9yOnZvaWQgMCE9PShyPW91KGksbikpP3I6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe28uc2V0KHRoaXMsbix0KX0pfSxudWxsLHQsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnJlbW92ZSh0aGlzLG4pfSl9fSk7aS5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKG4sdCx1KXt2YXIgZjtpZihuKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLGY9ci5nZXQobix0KSx1JiYoIWZ8fEFycmF5LmlzQXJyYXkodSk/Zj1yLmFjY2VzcyhuLHQsaS5tYWtlQXJyYXkodSkpOmYucHVzaCh1KSksZnx8W119LGRlcXVldWU6ZnVuY3Rpb24obix0KXt0PXR8fCJmeCI7dmFyIHI9aS5xdWV1ZShuLHQpLGU9ci5sZW5ndGgsdT1yLnNoaWZ0KCksZj1pLl9xdWV1ZUhvb2tzKG4sdCk7ImlucHJvZ3Jlc3MiPT09dSYmKHU9ci5zaGlmdCgpLGUtLSk7dSYmKCJmeCI9PT10JiZyLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLHUuY2FsbChuLGZ1bmN0aW9uKCl7aS5kZXF1ZXVlKG4sdCl9LGYpKTshZSYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKG4sdCl7dmFyIHU9dCsicXVldWVIb29rcyI7cmV0dXJuIHIuZ2V0KG4sdSl8fHIuYWNjZXNzKG4sdSx7ZW1wdHk6aS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7ci5yZW1vdmUobixbdCsicXVldWUiLHVdKX0pfSl9fSk7aS5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKG4sdCl7dmFyIHI9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj0iZngiLHItLSksYXJndW1lbnRzLmxlbmd0aDxyP2kucXVldWUodGhpc1swXSxuKTp2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9aS5xdWV1ZSh0aGlzLG4sdCk7aS5fcXVldWVIb29rcyh0aGlzLG4pOyJmeCI9PT1uJiYiaW5wcm9ncmVzcyIhPT1yWzBdJiZpLmRlcXVldWUodGhpcyxuKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmRlcXVldWUodGhpcyxuKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnF1ZXVlKG58fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKG4sdCl7dmFyIHUsZT0xLG89aS5EZWZlcnJlZCgpLGY9dGhpcyxzPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWV8fG8ucmVzb2x2ZVdpdGgoZixbZl0pfTtmb3IoInN0cmluZyIhPXR5cGVvZiBuJiYodD1uLG49dm9pZCAwKSxuPW58fCJmeCI7cy0tOykodT1yLmdldChmW3NdLG4rInF1ZXVlSG9va3MiKSkmJnUuZW1wdHkmJihlKyssdS5lbXB0eS5hZGQoaCkpO3JldHVybiBoKCksby5wcm9taXNlKHQpfX0pO3ZhciBzdT0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxrdD1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrc3UrIikoW2EteiVdKikkIiwiaSIpLGI9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxnPWYuZG9jdW1lbnRFbGVtZW50LHN0PWZ1bmN0aW9uKG4pe3JldHVybiBpLmNvbnRhaW5zKG4ub3duZXJEb2N1bWVudCxuKX0seWU9e2NvbXBvc2VkOiEwfTtnLmdldFJvb3ROb2RlJiYoc3Q9ZnVuY3Rpb24obil7cmV0dXJuIGkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pfHxuLmdldFJvb3ROb2RlKHllKT09PW4ub3duZXJEb2N1bWVudH0pO2R0PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIm5vbmUiPT09KG49dHx8bikuc3R5bGUuZGlzcGxheXx8IiI9PT1uLnN0eWxlLmRpc3BsYXkmJnN0KG4pJiYibm9uZSI9PT1pLmNzcyhuLCJkaXNwbGF5Iil9O2tpPXt9O2kuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIGh0KHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIGh0KHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24obil7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygbj9uP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe2R0KHRoaXMpP2kodGhpcykuc2hvdygpOmkodGhpcykuaGlkZSgpfSl9fSk7dmFyIG50LHNpLGd0PS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLGN1PS88KFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKS9pLGx1PS9eJHxebW9kdWxlJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaTtudD1mLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTsoc2k9Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpO3NpLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKTtzaS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0Iik7bnQuYXBwZW5kQ2hpbGQoc2kpO2UuY2hlY2tDbG9uZT1udC5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQ7bnQuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDxcL3RleHRhcmVhPiI7ZS5ub0Nsb25lQ2hlY2tlZD0hIW50LmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtudC5pbm5lckhUTUw9IjxvcHRpb24+PFwvb3B0aW9uPiI7ZS5vcHRpb249ISFudC5sYXN0Q2hpbGQ7aD17dGhlYWQ6WzEsIjx0YWJsZT4iLCI8XC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPFwvY29sZ3JvdXA+PFwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPFwvdGJvZHk+PFwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjxcL3RyPjxcL3Rib2R5PjxcL3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07aC50Ym9keT1oLnRmb290PWguY29sZ3JvdXA9aC5jYXB0aW9uPWgudGhlYWQ7aC50aD1oLnRkO2Uub3B0aW9ufHwoaC5vcHRncm91cD1oLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjxcL3NlbGVjdD4iXSk7YXU9Lzx8JiM/XHcrOy87dmFyIHBlPS9ea2V5Lyx3ZT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8seXU9L14oW14uXSopKD86XC4oLispfCkvO2kuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24obix0LHUsZixlKXt2YXIgcCxhLGssdix3LGgscyxjLG8sYixkLHk9ci5nZXQobik7aWYob3QobikpZm9yKHUuaGFuZGxlciYmKHU9KHA9dSkuaGFuZGxlcixlPXAuc2VsZWN0b3IpLGUmJmkuZmluZC5tYXRjaGVzU2VsZWN0b3IoZyxlKSx1Lmd1aWR8fCh1Lmd1aWQ9aS5ndWlkKyspLCh2PXkuZXZlbnRzKXx8KHY9eS5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9eS5oYW5kbGUpfHwoYT15LmhhbmRsZT1mdW5jdGlvbih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGkmJmkuZXZlbnQudHJpZ2dlcmVkIT09dC50eXBlKXJldHVybiBpLmV2ZW50LmRpc3BhdGNoLmFwcGx5KG4sYXJndW1lbnRzKX0pLHc9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3ctLTspbz1kPShrPXl1LmV4ZWModFt3XSl8fFtdKVsxXSxiPShrWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKHM9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP3MuZGVsZWdhdGVUeXBlOnMuYmluZFR5cGUpfHxvLHM9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxoPWkuZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6ZCxkYXRhOmYsaGFuZGxlcjp1LGd1aWQ6dS5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJmkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6Yi5qb2luKCIuIil9LHApLChjPXZbb10pfHwoKGM9dltvXT1bXSkuZGVsZWdhdGVDb3VudD0wLHMuc2V0dXAmJiExIT09cy5zZXR1cC5jYWxsKG4sZixiLGEpfHxuLmFkZEV2ZW50TGlzdGVuZXImJm4uYWRkRXZlbnRMaXN0ZW5lcihvLGEpKSxzLmFkZCYmKHMuYWRkLmNhbGwobixoKSxoLmhhbmRsZXIuZ3VpZHx8KGguaGFuZGxlci5ndWlkPXUuZ3VpZCkpLGU/Yy5zcGxpY2UoYy5kZWxlZ2F0ZUNvdW50KyssMCxoKTpjLnB1c2goaCksaS5ldmVudC5nbG9iYWxbb109ITApfSxyZW1vdmU6ZnVuY3Rpb24obix0LHUsZixlKXt2YXIgeSxrLGMsdixwLHMsaCxhLG8sYixkLHc9ci5oYXNEYXRhKG4pJiZyLmdldChuKTtpZih3JiYodj13LmV2ZW50cykpe2ZvcihwPSh0PSh0fHwiIikubWF0Y2gobCl8fFsiIl0pLmxlbmd0aDtwLS07KWlmKG89ZD0oYz15dS5leGVjKHRbcF0pfHxbXSlbMV0sYj0oY1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2ZvcihoPWkuZXZlbnQuc3BlY2lhbFtvXXx8e30sYT12W289KGY/aC5kZWxlZ2F0ZVR5cGU6aC5iaW5kVHlwZSl8fG9dfHxbXSxjPWNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksaz15PWEubGVuZ3RoO3ktLTspcz1hW3ldLCFlJiZkIT09cy5vcmlnVHlwZXx8dSYmdS5ndWlkIT09cy5ndWlkfHxjJiYhYy50ZXN0KHMubmFtZXNwYWNlKXx8ZiYmZiE9PXMuc2VsZWN0b3ImJigiKioiIT09Znx8IXMuc2VsZWN0b3IpfHwoYS5zcGxpY2UoeSwxKSxzLnNlbGVjdG9yJiZhLmRlbGVnYXRlQ291bnQtLSxoLnJlbW92ZSYmaC5yZW1vdmUuY2FsbChuLHMpKTtrJiYhYS5sZW5ndGgmJihoLnRlYXJkb3duJiYhMSE9PWgudGVhcmRvd24uY2FsbChuLGIsdy5oYW5kbGUpfHxpLnJlbW92ZUV2ZW50KG4sbyx3LmhhbmRsZSksZGVsZXRlIHZbb10pfWVsc2UgZm9yKG8gaW4gdilpLmV2ZW50LnJlbW92ZShuLG8rdFtwXSx1LGYsITApO2kuaXNFbXB0eU9iamVjdCh2KSYmci5yZW1vdmUobiwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24obil7dmFyIHUsaCxjLGUsZixsLHM9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9aS5ldmVudC5maXgobiksYT0oci5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3QudHlwZV18fFtdLG89aS5ldmVudC5zcGVjaWFsW3QudHlwZV18fHt9O2ZvcihzWzBdPXQsdT0xO3U8YXJndW1lbnRzLmxlbmd0aDt1Kyspc1t1XT1hcmd1bWVudHNbdV07aWYodC5kZWxlZ2F0ZVRhcmdldD10aGlzLCFvLnByZURpc3BhdGNofHwhMSE9PW8ucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHQpKXtmb3IobD1pLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyx0LGEpLHU9MDsoZT1sW3UrK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IodC5jdXJyZW50VGFyZ2V0PWUuZWxlbSxoPTA7KGY9ZS5oYW5kbGVyc1toKytdKSYmIXQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspdC5ybmFtZXNwYWNlJiYhMSE9PWYubmFtZXNwYWNlJiYhdC5ybmFtZXNwYWNlLnRlc3QoZi5uYW1lc3BhY2UpfHwodC5oYW5kbGVPYmo9Zix0LmRhdGE9Zi5kYXRhLHZvaWQgMCE9PShjPSgoaS5ldmVudC5zcGVjaWFsW2Yub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxmLmhhbmRsZXIpLmFwcGx5KGUuZWxlbSxzKSkmJiExPT09KHQucmVzdWx0PWMpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpKTtyZXR1cm4gby5wb3N0RGlzcGF0Y2gmJm8ucG9zdERpc3BhdGNoLmNhbGwodGhpcyx0KSx0LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKG4sdCl7dmFyIGYsaCx1LGUsbyxjPVtdLHM9dC5kZWxlZ2F0ZUNvdW50LHI9bi50YXJnZXQ7aWYocyYmci5ub2RlVHlwZSYmISgiY2xpY2siPT09bi50eXBlJiYxPD1uLmJ1dHRvbikpZm9yKDtyIT09dGhpcztyPXIucGFyZW50Tm9kZXx8dGhpcylpZigxPT09ci5ub2RlVHlwZSYmKCJjbGljayIhPT1uLnR5cGV8fCEwIT09ci5kaXNhYmxlZCkpe2ZvcihlPVtdLG89e30sZj0wO2Y8cztmKyspdm9pZCAwPT09b1t1PShoPXRbZl0pLnNlbGVjdG9yKyIgIl0mJihvW3VdPWgubmVlZHNDb250ZXh0Py0xPGkodSx0aGlzKS5pbmRleChyKTppLmZpbmQodSx0aGlzLG51bGwsW3JdKS5sZW5ndGgpLG9bdV0mJmUucHVzaChoKTtlLmxlbmd0aCYmYy5wdXNoKHtlbGVtOnIsaGFuZGxlcnM6ZX0pfXJldHVybiByPXRoaXMsczx0Lmxlbmd0aCYmYy5wdXNoKHtlbGVtOnIsaGFuZGxlcnM6dC5zbGljZShzKX0pLGN9LGFkZFByb3A6ZnVuY3Rpb24obix0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5FdmVudC5wcm90b3R5cGUsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OnUodCk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHQodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFtuXX0sc2V0OmZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KX19KX0sZml4OmZ1bmN0aW9uKG4pe3JldHVybiBuW2kuZXhwYW5kb10/bjpuZXcgaS5FdmVudChuKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihuKXt2YXIgdD10aGlzfHxuO3JldHVybiBndC50ZXN0KHQudHlwZSkmJnQuY2xpY2smJmModCwiaW5wdXQiKSYmaGkodCwiY2xpY2siLGN0KSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihuKXt2YXIgdD10aGlzfHxuO3JldHVybiBndC50ZXN0KHQudHlwZSkmJnQuY2xpY2smJmModCwiaW5wdXQiKSYmaGkodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24obil7dmFyIHQ9bi50YXJnZXQ7cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZyLmdldCh0LCJjbGljayIpfHxjKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKG4pe3ZvaWQgMCE9PW4ucmVzdWx0JiZuLm9yaWdpbmFsRXZlbnQmJihuLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9bi5yZXN1bHQpfX19fTtpLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKG4sdCxpKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXImJm4ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGkpfTtpLkV2ZW50PWZ1bmN0aW9uKG4sdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaS5FdmVudCkpcmV0dXJuIG5ldyBpLkV2ZW50KG4sdCk7biYmbi50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9bix0aGlzLnR5cGU9bi50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPW4uZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09bi5kZWZhdWx0UHJldmVudGVkJiYhMT09PW4ucmV0dXJuVmFsdWU/Y3Q6bHQsdGhpcy50YXJnZXQ9bi50YXJnZXQmJjM9PT1uLnRhcmdldC5ub2RlVHlwZT9uLnRhcmdldC5wYXJlbnROb2RlOm4udGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1uLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PW4ucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPW47dCYmaS5leHRlbmQodGhpcyx0KTt0aGlzLnRpbWVTdGFtcD1uJiZuLnRpbWVTdGFtcHx8RGF0ZS5ub3coKTt0aGlzW2kuZXhwYW5kb109ITB9O2kuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjppLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDpsdCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpsdCxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpsdCxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1jdDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1jdDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Y3Q7biYmIXRoaXMuaXNTaW11bGF0ZWQmJm4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dGhpcy5zdG9wUHJvcGFnYXRpb24oKX19O2kuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCxjaGFyOiEwLGNvZGU6ITAsY2hhckNvZGU6ITAsa2V5OiEwLGtleUNvZGU6ITAsYnV0dG9uOiEwLGJ1dHRvbnM6ITAsY2xpZW50WDohMCxjbGllbnRZOiEwLG9mZnNldFg6ITAsb2Zmc2V0WTohMCxwb2ludGVySWQ6ITAscG9pbnRlclR5cGU6ITAsc2NyZWVuWDohMCxzY3JlZW5ZOiEwLHRhcmdldFRvdWNoZXM6ITAsdG9FbGVtZW50OiEwLHRvdWNoZXM6ITAsd2hpY2g6ZnVuY3Rpb24obil7dmFyIHQ9bi5idXR0b247cmV0dXJuIG51bGw9PW4ud2hpY2gmJnBlLnRlc3Qobi50eXBlKT9udWxsIT1uLmNoYXJDb2RlP24uY2hhckNvZGU6bi5rZXlDb2RlOiFuLndoaWNoJiZ2b2lkIDAhPT10JiZ3ZS50ZXN0KG4udHlwZSk/MSZ0PzE6MiZ0PzM6NCZ0PzI6MDpuLndoaWNofX0saS5ldmVudC5hZGRQcm9wKTtpLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4sdCl7aS5ldmVudC5zcGVjaWFsW25dPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBoaSh0aGlzLG4sYmUpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIGhpKHRoaXMsbiksITB9LGRlbGVnYXRlVHlwZTp0fX0pO2kuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKG4pe3ZhciB1LHI9bi5yZWxhdGVkVGFyZ2V0LGY9bi5oYW5kbGVPYmo7cmV0dXJuIHImJihyPT09dGhpc3x8aS5jb250YWlucyh0aGlzLHIpKXx8KG4udHlwZT1mLm9yaWdUeXBlLHU9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuLnR5cGU9dCksdX19fSk7aS5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiBnaSh0aGlzLG4sdCxpLHIpfSxvbmU6ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGdpKHRoaXMsbix0LGksciwxKX0sb2ZmOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxmO2lmKG4mJm4ucHJldmVudERlZmF1bHQmJm4uaGFuZGxlT2JqKXJldHVybiB1PW4uaGFuZGxlT2JqLGkobi5kZWxlZ2F0ZVRhcmdldCkub2ZmKHUubmFtZXNwYWNlP3Uub3JpZ1R5cGUrIi4iK3UubmFtZXNwYWNlOnUub3JpZ1R5cGUsdS5zZWxlY3Rvcix1LmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBuKXtmb3IoZiBpbiBuKXRoaXMub2ZmKGYsdCxuW2ZdKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHwocj10LHQ9dm9pZCAwKSwhMT09PXImJihyPWx0KSx0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnJlbW92ZSh0aGlzLG4scix0KX0pfX0pO3ZhciBrZT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxkZT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxnZT0vXlxzKjwhKD86XFtDREFUQVxbfC0tKXwoPzpcXVxdfC0tKT5ccyokL2c7aS5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIG59LGNsb25lOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxjLG8sZixsLGEsdixoPW4uY2xvbmVOb2RlKCEwKSx5PXN0KG4pO2lmKCEoZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PW4ubm9kZVR5cGUmJjExIT09bi5ub2RlVHlwZXx8aS5pc1hNTERvYyhuKSkpZm9yKGY9cyhoKSx1PTAsYz0obz1zKG4pKS5sZW5ndGg7dTxjO3UrKylsPW9bdV0sYT1mW3VdLHZvaWQgMCwiaW5wdXQiPT09KHY9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmZ3QudGVzdChsLnR5cGUpP2EuY2hlY2tlZD1sLmNoZWNrZWQ6ImlucHV0IiE9PXYmJiJ0ZXh0YXJlYSIhPT12fHwoYS5kZWZhdWx0VmFsdWU9bC5kZWZhdWx0VmFsdWUpO2lmKHQpaWYocilmb3Iobz1vfHxzKG4pLGY9Znx8cyhoKSx1PTAsYz1vLmxlbmd0aDt1PGM7dSsrKXd1KG9bdV0sZlt1XSk7ZWxzZSB3dShuLGgpO3JldHVybiAwPChmPXMoaCwic2NyaXB0IikpLmxlbmd0aCYmZGkoZiwheSYmcyhuLCJzY3JpcHQiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdSx0LGYscz1pLmV2ZW50LnNwZWNpYWwsZT0wO3ZvaWQgMCE9PSh0PW5bZV0pO2UrKylpZihvdCh0KSl7aWYodT10W3IuZXhwYW5kb10pe2lmKHUuZXZlbnRzKWZvcihmIGluIHUuZXZlbnRzKXNbZl0/aS5ldmVudC5yZW1vdmUodCxmKTppLnJlbW92ZUV2ZW50KHQsZix1LmhhbmRsZSk7dFtyLmV4cGFuZG9dPXZvaWQgMH10W28uZXhwYW5kb10mJih0W28uZXhwYW5kb109dm9pZCAwKX19fSk7aS5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihuKXtyZXR1cm4gYnUodGhpcyxuLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3JldHVybiBidSh0aGlzLG4pfSx0ZXh0OmZ1bmN0aW9uKG4pe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4/aS50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PW4pfSl9LG51bGwsbixhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIGF0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKG4pezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxwdSh0aGlzLG4pLmFwcGVuZENoaWxkKG4pfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PXB1KHRoaXMsbik7dC5pbnNlcnRCZWZvcmUobix0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIG4sdD0wO251bGwhPShuPXRoaXNbdF0pO3QrKykxPT09bi5ub2RlVHlwZSYmKGkuY2xlYW5EYXRhKHMobiwhMSkpLG4udGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihuLHQpe3JldHVybiBuPW51bGwhPW4mJm4sdD1udWxsPT10P246dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBpLmNsb25lKHRoaXMsbix0KX0pfSxodG1sOmZ1bmN0aW9uKG4pe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obil7dmFyIHQ9dGhpc1swXXx8e30scj0wLHU9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09biYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmIWtlLnRlc3QobikmJiFoWyhjdS5leGVjKG4pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7bj1pLmh0bWxQcmVmaWx0ZXIobik7dHJ5e2Zvcig7cjx1O3IrKykxPT09KHQ9dGhpc1tyXXx8e30pLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyh0LCExKSksdC5pbm5lckhUTUw9bik7dD0wfWNhdGNoKG4pe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChuKX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgcj10aGlzLnBhcmVudE5vZGU7aS5pbkFycmF5KHRoaXMsbik8MCYmKGkuY2xlYW5EYXRhKHModGhpcykpLHImJnIucmVwbGFjZUNoaWxkKHQsdGhpcykpfSxuKX19KTtpLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24obil7Zm9yKHZhciB1LGY9W10sZT1pKG4pLG89ZS5sZW5ndGgtMSxyPTA7cjw9bztyKyspdT1yPT09bz90aGlzOnRoaXMuY2xvbmUoITApLGkoZVtyXSlbdF0odSkseWkuYXBwbHkoZix1LmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZil9fSk7dmFyIG5yPW5ldyBSZWdFeHAoIl4oIitzdSsiKSg/IXB4KVthLXolXSskIiwiaSIpLGNpPWZ1bmN0aW9uKHQpe3ZhciBpPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gaSYmaS5vcGVuZXJ8fChpPW4pLGkuZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sa3U9ZnVuY3Rpb24obix0LGkpe3ZhciB1LHIsZj17fTtmb3IociBpbiB0KWZbcl09bi5zdHlsZVtyXSxuLnN0eWxlW3JdPXRbcl07Zm9yKHIgaW4gdT1pLmNhbGwobiksdCluLnN0eWxlW3JdPWZbcl07cmV0dXJuIHV9LGlvPW5ldyBSZWdFeHAoYi5qb2luKCJ8IiksImkiKTshZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7aWYodCl7cy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIjt0LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiO2cuYXBwZW5kQ2hpbGQocykuYXBwZW5kQ2hpbGQodCk7dmFyIGk9bi5nZXRDb21wdXRlZFN0eWxlKHQpO2g9IjElIiE9PWkudG9wO3Y9MTI9PT11KGkubWFyZ2luTGVmdCk7dC5zdHlsZS5yaWdodD0iNjAlIjthPTM2PT09dShpLnJpZ2h0KTtjPTM2PT09dShpLndpZHRoKTt0LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bD0xMj09PXUodC5vZmZzZXRXaWR0aC8zKTtnLnJlbW92ZUNoaWxkKHMpO3Q9bnVsbH19ZnVuY3Rpb24gdShuKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG4pKX12YXIgaCxjLGwsYSxvLHYscz1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQ9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LnN0eWxlJiYodC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLHQuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixlLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09dC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxpLmV4dGVuZChlLHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiByKCksY30scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gcigpLGF9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gcigpLGh9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiByKCksdn0sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiByKCksbH0scmVsaWFibGVUckRpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsdTtyZXR1cm4gbnVsbD09byYmKHQ9Zi5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLGk9Zi5jcmVhdGVFbGVtZW50KCJ0ciIpLHI9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHgiLGkuc3R5bGUuaGVpZ2h0PSIxcHgiLHIuc3R5bGUuaGVpZ2h0PSI5cHgiLGcuYXBwZW5kQ2hpbGQodCkuYXBwZW5kQ2hpbGQoaSkuYXBwZW5kQ2hpbGQociksdT1uLmdldENvbXB1dGVkU3R5bGUoaSksbz0zPHBhcnNlSW50KHUuaGVpZ2h0KSxnLnJlbW92ZUNoaWxkKHQpKSxvfX0pKX0oKTt2YXIgZ3U9WyJXZWJraXQiLCJNb3oiLCJtcyJdLG5mPWYuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsdGY9e307dmFyIHJvPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxyZj0vXi0tLyx1bz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sdWY9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2kuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKG4sdCl7aWYodCl7dmFyIGk9bmkobiwib3BhY2l0eSIpO3JldHVybiIiPT09aT8iMSI6aX19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24obix0LHIsdSl7aWYobiYmMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiZuLnN0eWxlKXt2YXIgZixoLG8sYz15KHQpLGw9cmYudGVzdCh0KSxzPW4uc3R5bGU7aWYobHx8KHQ9dHIoYykpLG89aS5jc3NIb29rc1t0XXx8aS5jc3NIb29rc1tjXSx2b2lkIDA9PT1yKXJldHVybiBvJiYiZ2V0ImluIG8mJnZvaWQgMCE9PShmPW8uZ2V0KG4sITEsdSkpP2Y6c1t0XTsic3RyaW5nIj09KGg9dHlwZW9mIHIpJiYoZj1rdC5leGVjKHIpKSYmZlsxXSYmKHI9aHUobix0LGYpLGg9Im51bWJlciIpO251bGwhPXImJnI9PXImJigibnVtYmVyIiE9PWh8fGx8fChyKz1mJiZmWzNdfHwoaS5jc3NOdW1iZXJbY10/IiI6InB4IikpLGUuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PXJ8fDAhPT10LmluZGV4T2YoImJhY2tncm91bmQiKXx8KHNbdF09ImluaGVyaXQiKSxvJiYic2V0ImluIG8mJnZvaWQgMD09PShyPW8uc2V0KG4scix1KSl8fChsP3Muc2V0UHJvcGVydHkodCxyKTpzW3RdPXIpKX19LGNzczpmdW5jdGlvbihuLHQscix1KXt2YXIgZixlLG8scz15KHQpO3JldHVybiByZi50ZXN0KHQpfHwodD10cihzKSksKG89aS5jc3NIb29rc1t0XXx8aS5jc3NIb29rc1tzXSkmJiJnZXQiaW4gbyYmKGY9by5nZXQobiwhMCxyKSksdm9pZCAwPT09ZiYmKGY9bmkobix0LHUpKSwibm9ybWFsIj09PWYmJnQgaW4gdWYmJihmPXVmW3RdKSwiIj09PXJ8fHI/KGU9cGFyc2VGbG9hdChmKSwhMD09PXJ8fGlzRmluaXRlKGUpP2V8fDA6Zik6Zn19KTtpLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKG4sdCl7aS5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKG4scix1KXtpZihyKXJldHVybiFyby50ZXN0KGkuY3NzKG4sImRpc3BsYXkiKSl8fG4uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJm4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg/ZWYobix0LHUpOmt1KG4sdW8sZnVuY3Rpb24oKXtyZXR1cm4gZWYobix0LHUpfSl9LHNldDpmdW5jdGlvbihuLHIsdSl7dmFyIHMsZj1jaShuKSxoPSFlLnNjcm9sbGJveFNpemUoKSYmImFic29sdXRlIj09PWYucG9zaXRpb24sYz0oaHx8dSkmJiJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZiksbz11P2lyKG4sdCx1LGMsZik6MDtyZXR1cm4gYyYmaCYmKG8tPU1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGZbdF0pLWlyKG4sdCwiYm9yZGVyIiwhMSxmKS0uNSkpLG8mJihzPWt0LmV4ZWMocikpJiYicHgiIT09KHNbM118fCJweCIpJiYobi5zdHlsZVt0XT1yLHI9aS5jc3Mobix0KSksZmYoMCxyLG8pfX19KTtpLmNzc0hvb2tzLm1hcmdpbkxlZnQ9ZHUoZS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24obix0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KG5pKG4sIm1hcmdpbkxlZnQiKSl8fG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1rdShuLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSk7aS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW24rdF09e2V4cGFuZDpmdW5jdGlvbihpKXtmb3IodmFyIHI9MCxmPXt9LHU9InN0cmluZyI9PXR5cGVvZiBpP2kuc3BsaXQoIiAiKTpbaV07cjw0O3IrKylmW24rYltyXSt0XT11W3JdfHx1W3ItMl18fHVbMF07cmV0dXJuIGZ9fTsibWFyZ2luIiE9PW4mJihpLmNzc0hvb2tzW24rdF0uc2V0PWZmKX0pO2kuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKG4sdCxyKXt2YXIgZixlLG89e30sdT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihmPWNpKG4pLGU9dC5sZW5ndGg7dTxlO3UrKylvW3RbdV1dPWkuY3NzKG4sdFt1XSwhMSxmKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09cj9pLnN0eWxlKG4sdCxyKTppLmNzcyhuLHQpfSxuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KTsoKGkuVHdlZW49YSkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphLGluaXQ6ZnVuY3Rpb24obix0LHIsdSxmLGUpe3RoaXMuZWxlbT1uO3RoaXMucHJvcD1yO3RoaXMuZWFzaW5nPWZ8fGkuZWFzaW5nLl9kZWZhdWx0O3RoaXMub3B0aW9ucz10O3RoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKTt0aGlzLmVuZD11O3RoaXMudW5pdD1lfHwoaS5jc3NOdW1iZXJbcl0/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBuPWEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIG4mJm4uZ2V0P24uZ2V0KHRoaXMpOmEucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKG4pe3ZhciB0LHI9YS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5wb3M9dGhpcy5vcHRpb25zLmR1cmF0aW9uP3Q9aS5lYXNpbmdbdGhpcy5lYXNpbmddKG4sdGhpcy5vcHRpb25zLmR1cmF0aW9uKm4sMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dD1uLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLHImJnIuc2V0P3Iuc2V0KHRoaXMpOmEucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPWEucHJvdG90eXBlOyhhLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gMSE9PW4uZWxlbS5ub2RlVHlwZXx8bnVsbCE9bi5lbGVtW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVtuLnByb3BdP24uZWxlbVtuLnByb3BdOih0PWkuY3NzKG4uZWxlbSxuLnByb3AsIiIpKSYmImF1dG8iIT09dD90OjB9LHNldDpmdW5jdGlvbihuKXtpLmZ4LnN0ZXBbbi5wcm9wXT9pLmZ4LnN0ZXBbbi5wcm9wXShuKToxIT09bi5lbGVtLm5vZGVUeXBlfHwhaS5jc3NIb29rc1tuLnByb3BdJiZudWxsPT1uLmVsZW0uc3R5bGVbdHIobi5wcm9wKV0/bi5lbGVtW24ucHJvcF09bi5ub3c6aS5zdHlsZShuLmVsZW0sbi5wcm9wLG4ubm93K24udW5pdCl9fX0pLnNjcm9sbFRvcD1hLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24obil7bi5lbGVtLm5vZGVUeXBlJiZuLmVsZW0ucGFyZW50Tm9kZSYmKG4uZWxlbVtuLnByb3BdPW4ubm93KX19O2kuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24obil7cmV0dXJuIG59LHN3aW5nOmZ1bmN0aW9uKG4pe3JldHVybi41LU1hdGguY29zKG4qTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn07aS5meD1hLnByb3RvdHlwZS5pbml0O2kuZnguc3RlcD17fTtoZj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC87Y2Y9L3F1ZXVlSG9va3MkLztpLkFuaW1hdGlvbj1pLmV4dGVuZCh2LHt0d2VlbmVyczp7IioiOltmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY3JlYXRlVHdlZW4obix0KTtyZXR1cm4gaHUoaS5lbGVtLG4sa3QuZXhlYyh0KSxpKSxpfV19LHR3ZWVuZXI6ZnVuY3Rpb24obix0KXt1KG4pPyh0PW4sbj1bIioiXSk6bj1uLm1hdGNoKGwpO2Zvcih2YXIgaSxyPTAsZj1uLmxlbmd0aDtyPGY7cisrKWk9bltyXSx2LnR3ZWVuZXJzW2ldPXYudHdlZW5lcnNbaV18fFtdLHYudHdlZW5lcnNbaV0udW5zaGlmdCh0KX0scHJlZmlsdGVyczpbZnVuY3Rpb24obix0LHUpe3ZhciBmLHksdyxjLGIsaCxvLGwsaz0id2lkdGgiaW4gdHx8ImhlaWdodCJpbiB0LHY9dGhpcyxwPXt9LHM9bi5zdHlsZSxhPW4ubm9kZVR5cGUmJmR0KG4pLGU9ci5nZXQobiwiZnhzaG93Iik7Zm9yKGYgaW4gdS5xdWV1ZXx8KG51bGw9PShjPWkuX3F1ZXVlSG9va3MobiwiZngiKSkudW5xdWV1ZWQmJihjLnVucXVldWVkPTAsYj1jLmVtcHR5LmZpcmUsYy5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7Yy51bnF1ZXVlZHx8YigpfSksYy51bnF1ZXVlZCsrLHYuYWx3YXlzKGZ1bmN0aW9uKCl7di5hbHdheXMoZnVuY3Rpb24oKXtjLnVucXVldWVkLS07aS5xdWV1ZShuLCJmeCIpLmxlbmd0aHx8Yy5lbXB0eS5maXJlKCl9KX0pKSx0KWlmKHk9dFtmXSxoZi50ZXN0KHkpKXtpZihkZWxldGUgdFtmXSx3PXd8fCJ0b2dnbGUiPT09eSx5PT09KGE/ImhpZGUiOiJzaG93Iikpe2lmKCJzaG93IiE9PXl8fCFlfHx2b2lkIDA9PT1lW2ZdKWNvbnRpbnVlO2E9ITB9cFtmXT1lJiZlW2ZdfHxpLnN0eWxlKG4sZil9aWYoKGg9IWkuaXNFbXB0eU9iamVjdCh0KSl8fCFpLmlzRW1wdHlPYmplY3QocCkpZm9yKGYgaW4gayYmMT09PW4ubm9kZVR5cGUmJih1Lm92ZXJmbG93PVtzLm92ZXJmbG93LHMub3ZlcmZsb3dYLHMub3ZlcmZsb3dZXSxudWxsPT0obz1lJiZlLmRpc3BsYXkpJiYobz1yLmdldChuLCJkaXNwbGF5IikpLCJub25lIj09PShsPWkuY3NzKG4sImRpc3BsYXkiKSkmJihvP2w9bzooaHQoW25dLCEwKSxvPW4uc3R5bGUuZGlzcGxheXx8byxsPWkuY3NzKG4sImRpc3BsYXkiKSxodChbbl0pKSksKCJpbmxpbmUiPT09bHx8ImlubGluZS1ibG9jayI9PT1sJiZudWxsIT1vKSYmIm5vbmUiPT09aS5jc3MobiwiZmxvYXQiKSYmKGh8fCh2LmRvbmUoZnVuY3Rpb24oKXtzLmRpc3BsYXk9b30pLG51bGw9PW8mJihsPXMuZGlzcGxheSxvPSJub25lIj09PWw/IiI6bCkpLHMuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLHUub3ZlcmZsb3cmJihzLm92ZXJmbG93PSJoaWRkZW4iLHYuYWx3YXlzKGZ1bmN0aW9uKCl7cy5vdmVyZmxvdz11Lm92ZXJmbG93WzBdO3Mub3ZlcmZsb3dYPXUub3ZlcmZsb3dbMV07cy5vdmVyZmxvd1k9dS5vdmVyZmxvd1syXX0pKSxoPSExLHApaHx8KGU/ImhpZGRlbiJpbiBlJiYoYT1lLmhpZGRlbik6ZT1yLmFjY2VzcyhuLCJmeHNob3ciLHtkaXNwbGF5Om99KSx3JiYoZS5oaWRkZW49IWEpLGEmJmh0KFtuXSwhMCksdi5kb25lKGZ1bmN0aW9uKCl7Zm9yKGYgaW4gYXx8aHQoW25dKSxyLnJlbW92ZShuLCJmeHNob3ciKSxwKWkuc3R5bGUobixmLHBbZl0pfSkpLGg9YWYoYT9lW2ZdOjAsZix2KSxmIGluIGV8fChlW2ZdPWguc3RhcnQsYSYmKGguZW5kPWguc3RhcnQsaC5zdGFydD0wKSl9XSxwcmVmaWx0ZXI6ZnVuY3Rpb24obix0KXt0P3YucHJlZmlsdGVycy51bnNoaWZ0KG4pOnYucHJlZmlsdGVycy5wdXNoKG4pfX0pO2kuc3BlZWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmPW4mJiJvYmplY3QiPT10eXBlb2Ygbj9pLmV4dGVuZCh7fSxuKTp7Y29tcGxldGU6cnx8IXImJnR8fHUobikmJm4sZHVyYXRpb246bixlYXNpbmc6ciYmdHx8dCYmIXUodCkmJnR9O3JldHVybiBpLmZ4Lm9mZj9mLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiBmLmR1cmF0aW9uJiYoZi5kdXJhdGlvbj1mLmR1cmF0aW9uIGluIGkuZnguc3BlZWRzP2kuZnguc3BlZWRzW2YuZHVyYXRpb25dOmkuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1mLnF1ZXVlJiYhMCE9PWYucXVldWV8fChmLnF1ZXVlPSJmeCIpLGYub2xkPWYuY29tcGxldGUsZi5jb21wbGV0ZT1mdW5jdGlvbigpe3UoZi5vbGQpJiZmLm9sZC5jYWxsKHRoaXMpO2YucXVldWUmJmkuZGVxdWV1ZSh0aGlzLGYucXVldWUpfSxmfTtpLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB0aGlzLmZpbHRlcihkdCkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxuLGkscil9LGFuaW1hdGU6ZnVuY3Rpb24obix0LHUsZil7dmFyIHM9aS5pc0VtcHR5T2JqZWN0KG4pLG89aS5zcGVlZCh0LHUsZiksZT1mdW5jdGlvbigpe3ZhciB0PXYodGhpcyxpLmV4dGVuZCh7fSxuKSxvKTsoc3x8ci5nZXQodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gZS5maW5pc2g9ZSxzfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGUpOnRoaXMucXVldWUoby5xdWV1ZSxlKX0sc3RvcDpmdW5jdGlvbihuLHQsdSl7dmFyIGY9ZnVuY3Rpb24obil7dmFyIHQ9bi5zdG9wO2RlbGV0ZSBuLnN0b3A7dCh1KX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBuJiYodT10LHQ9bixuPXZvaWQgMCksdCYmdGhpcy5xdWV1ZShufHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcz0hMCx0PW51bGwhPW4mJm4rInF1ZXVlSG9va3MiLG89aS50aW1lcnMsZT1yLmdldCh0aGlzKTtpZih0KWVbdF0mJmVbdF0uc3RvcCYmZihlW3RdKTtlbHNlIGZvcih0IGluIGUpZVt0XSYmZVt0XS5zdG9wJiZjZi50ZXN0KHQpJiZmKGVbdF0pO2Zvcih0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtIT09dGhpc3x8bnVsbCE9biYmb1t0XS5xdWV1ZSE9PW58fChvW3RdLmFuaW0uc3RvcCh1KSxzPSExLG8uc3BsaWNlKHQsMSkpOyFzJiZ1fHxpLmRlcXVldWUodGhpcyxuKX0pfSxmaW5pc2g6ZnVuY3Rpb24obil7cmV0dXJuITEhPT1uJiYobj1ufHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxlPXIuZ2V0KHRoaXMpLHU9ZVtuKyJxdWV1ZSJdLG89ZVtuKyJxdWV1ZUhvb2tzIl0sZj1pLnRpbWVycyxzPXU/dS5sZW5ndGg6MDtmb3IoZS5maW5pc2g9ITAsaS5xdWV1ZSh0aGlzLG4sW10pLG8mJm8uc3RvcCYmby5zdG9wLmNhbGwodGhpcywhMCksdD1mLmxlbmd0aDt0LS07KWZbdF0uZWxlbT09PXRoaXMmJmZbdF0ucXVldWU9PT1uJiYoZlt0XS5hbmltLnN0b3AoITApLGYuc3BsaWNlKHQsMSkpO2Zvcih0PTA7dDxzO3QrKyl1W3RdJiZ1W3RdLmZpbmlzaCYmdVt0XS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgZS5maW5pc2h9KX19KTtpLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKG4sdCl7dmFyIHI9aS5mblt0XTtpLmZuW3RdPWZ1bmN0aW9uKG4saSx1KXtyZXR1cm4gbnVsbD09bnx8ImJvb2xlYW4iPT10eXBlb2Ygbj9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoYWkodCwhMCksbixpLHUpfX0pO2kuZWFjaCh7c2xpZGVEb3duOmFpKCJzaG93Iiksc2xpZGVVcDphaSgiaGlkZSIpLHNsaWRlVG9nZ2xlOmFpKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuLGkscil7cmV0dXJuIHRoaXMuYW5pbWF0ZSh0LG4saSxyKX19KTtpLnRpbWVycz1bXTtpLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgcixuPTAsdD1pLnRpbWVycztmb3IodnQ9RGF0ZS5ub3coKTtuPHQubGVuZ3RoO24rKykocj10W25dKSgpfHx0W25dIT09cnx8dC5zcGxpY2Uobi0tLDEpO3QubGVuZ3RofHxpLmZ4LnN0b3AoKTt2dD12b2lkIDB9O2kuZngudGltZXI9ZnVuY3Rpb24obil7aS50aW1lcnMucHVzaChuKTtpLmZ4LnN0YXJ0KCl9O2kuZnguaW50ZXJ2YWw9MTM7aS5meC5zdGFydD1mdW5jdGlvbigpe2xpfHwobGk9ITAscnIoKSl9O2kuZnguc3RvcD1mdW5jdGlvbigpe2xpPW51bGx9O2kuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9O2kuZm4uZGVsYXk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD1pLmZ4JiZpLmZ4LnNwZWVkc1t0XXx8dCxyPXJ8fCJmeCIsdGhpcy5xdWV1ZShyLGZ1bmN0aW9uKGkscil7dmFyIHU9bi5zZXRUaW1lb3V0KGksdCk7ci5zdG9wPWZ1bmN0aW9uKCl7bi5jbGVhclRpbWVvdXQodSl9fSl9O3l0PWYuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtzZj1mLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO3l0LnR5cGU9ImNoZWNrYm94IjtlLmNoZWNrT249IiIhPT15dC52YWx1ZTtlLm9wdFNlbGVjdGVkPXNmLnNlbGVjdGVkOyh5dD1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Ijt5dC50eXBlPSJyYWRpbyI7ZS5yYWRpb1ZhbHVlPSJ0Ij09PXl0LnZhbHVlO3B0PWkuZXhwci5hdHRySGFuZGxlO2kuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHcodGhpcyxpLmF0dHIsbix0LDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kucmVtb3ZlQXR0cih0aGlzLG4pfSl9fSk7aS5leHRlbmQoe2F0dHI6ZnVuY3Rpb24obix0LHIpe3ZhciBmLHUsZT1uLm5vZGVUeXBlO2lmKDMhPT1lJiY4IT09ZSYmMiE9PWUpcmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBuLmdldEF0dHJpYnV0ZT9pLnByb3Aobix0LHIpOigxPT09ZSYmaS5pc1hNTERvYyhuKXx8KHU9aS5hdHRySG9va3NbdC50b0xvd2VyQ2FzZSgpXXx8KGkuZXhwci5tYXRjaC5ib29sLnRlc3QodCk/dmY6dm9pZCAwKSksdm9pZCAwIT09cj9udWxsPT09cj92b2lkIGkucmVtb3ZlQXR0cihuLHQpOnUmJiJzZXQiaW4gdSYmdm9pZCAwIT09KGY9dS5zZXQobixyLHQpKT9mOihuLnNldEF0dHJpYnV0ZSh0LHIrIiIpLHIpOnUmJiJnZXQiaW4gdSYmbnVsbCE9PShmPXUuZ2V0KG4sdCkpP2Y6bnVsbD09KGY9aS5maW5kLmF0dHIobix0KSk/dm9pZCAwOmYpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihuLHQpe2lmKCFlLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT10JiZjKG4sImlucHV0Iikpe3ZhciBpPW4udmFsdWU7cmV0dXJuIG4uc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxpJiYobi52YWx1ZT1pKSx0fX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKG4sdCl7dmFyIGksdT0wLHI9dCYmdC5tYXRjaChsKTtpZihyJiYxPT09bi5ub2RlVHlwZSl3aGlsZShpPXJbdSsrXSluLnJlbW92ZUF0dHJpYnV0ZShpKX19KTt2Zj17c2V0OmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4hMT09PXQ/aS5yZW1vdmVBdHRyKG4scik6bi5zZXRBdHRyaWJ1dGUocixyKSxyfX07aS5lYWNoKGkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKG4sdCl7dmFyIHI9cHRbdF18fGkuZmluZC5hdHRyO3B0W3RdPWZ1bmN0aW9uKG4sdCxpKXt2YXIgZixlLHU9dC50b0xvd2VyQ2FzZSgpO3JldHVybiBpfHwoZT1wdFt1XSxwdFt1XT1mLGY9bnVsbCE9cihuLHQsaSk/dTpudWxsLHB0W3VdPWUpLGZ9fSk7eWY9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaTtwZj0vXig/OmF8YXJlYSkkL2k7aS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGkucHJvcCxuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbaS5wcm9wRml4W25dfHxuXX0pfX0pO2kuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKG4sdCxyKXt2YXIgZix1LGU9bi5ub2RlVHlwZTtpZigzIT09ZSYmOCE9PWUmJjIhPT1lKXJldHVybiAxPT09ZSYmaS5pc1hNTERvYyhuKXx8KHQ9aS5wcm9wRml4W3RdfHx0LHU9aS5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PXI/dSYmInNldCJpbiB1JiZ2b2lkIDAhPT0oZj11LnNldChuLHIsdCkpP2Y6blt0XT1yOnUmJiJnZXQiaW4gdSYmbnVsbCE9PShmPXUuZ2V0KG4sdCkpP2Y6blt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6eWYudGVzdChuLm5vZGVOYW1lKXx8cGYudGVzdChuLm5vZGVOYW1lKSYmbi5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSk7ZS5vcHRTZWxlY3RlZHx8KGkucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KTtpLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe2kucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTtpLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8sdCxyLGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLmFkZENsYXNzKG4uY2FsbCh0aGlzLHQsaXQodGhpcykpKX0pO2lmKChvPXVyKG4pKS5sZW5ndGgpd2hpbGUodD10aGlzW2MrK10paWYoZj1pdCh0KSxyPTE9PT10Lm5vZGVUeXBlJiYiICIrdHQoZikrIiAiKXtmb3Iocz0wO2U9b1tzKytdOylyLmluZGV4T2YoIiAiK2UrIiAiKTwwJiYocis9ZSsiICIpO2YhPT0oaD10dChyKSkmJnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKG4pe3ZhciBvLHIsdCxmLGUscyxoLGM9MDtpZih1KG4pKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7aSh0aGlzKS5yZW1vdmVDbGFzcyhuLmNhbGwodGhpcyx0LGl0KHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKChvPXVyKG4pKS5sZW5ndGgpd2hpbGUocj10aGlzW2MrK10paWYoZj1pdChyKSx0PTE9PT1yLm5vZGVUeXBlJiYiICIrdHQoZikrIiAiKXtmb3Iocz0wO2U9b1tzKytdOyl3aGlsZSgtMTx0LmluZGV4T2YoIiAiK2UrIiAiKSl0PXQucmVwbGFjZSgiICIrZSsiICIsIiAiKTtmIT09KGg9dHQodCkpJiZyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGgpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihuLHQpe3ZhciBmPXR5cGVvZiBuLGU9InN0cmluZyI9PT1mfHxBcnJheS5pc0FycmF5KG4pO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmU/dD90aGlzLmFkZENsYXNzKG4pOnRoaXMucmVtb3ZlQ2xhc3Mobik6dShuKT90aGlzLmVhY2goZnVuY3Rpb24ocil7aSh0aGlzKS50b2dnbGVDbGFzcyhuLmNhbGwodGhpcyxyLGl0KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbyx1LHM7aWYoZSlmb3Iobz0wLHU9aSh0aGlzKSxzPXVyKG4pO3Q9c1tvKytdOyl1Lmhhc0NsYXNzKHQpP3UucmVtb3ZlQ2xhc3ModCk6dS5hZGRDbGFzcyh0KTtlbHNlIHZvaWQgMCE9PW4mJiJib29sZWFuIiE9PWZ8fCgodD1pdCh0aGlzKSkmJnIuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHQpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHR8fCExPT09bj8iIjpyLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24obil7Zm9yKHZhciB0LHI9MCxpPSIgIituKyIgIjt0PXRoaXNbcisrXTspaWYoMT09PXQubm9kZVR5cGUmJi0xPCgiICIrdHQoaXQodCkpKyIgIikuaW5kZXhPZihpKSlyZXR1cm4hMDtyZXR1cm4hMX19KTt3Zj0vXHIvZztpLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciB0LHIsZSxmPXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9dShuKSx0aGlzLmVhY2goZnVuY3Rpb24ocil7dmFyIHU7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odT1lP24uY2FsbCh0aGlzLHIsaSh0aGlzKS52YWwoKSk6bik/dT0iIjoibnVtYmVyIj09dHlwZW9mIHU/dSs9IiI6QXJyYXkuaXNBcnJheSh1KSYmKHU9aS5tYXAodSxmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj8iIjpuKyIifSkpLCh0PWkudmFsSG9va3NbdGhpcy50eXBlXXx8aS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiB0JiZ2b2lkIDAhPT10LnNldCh0aGlzLHUsInZhbHVlIil8fCh0aGlzLnZhbHVlPXUpKX0pKTpmPyh0PWkudmFsSG9va3NbZi50eXBlXXx8aS52YWxIb29rc1tmLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiB0JiZ2b2lkIDAhPT0ocj10LmdldChmLCJ2YWx1ZSIpKT9yOiJzdHJpbmciPT10eXBlb2Yocj1mLnZhbHVlKT9yLnJlcGxhY2Uod2YsIiIpOm51bGw9PXI/IiI6cjp2b2lkIDB9fSk7aS5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihuKXt2YXIgdD1pLmZpbmQuYXR0cihuLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6dHQoaS50ZXh0KG4pKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgZSx0LG89bi5vcHRpb25zLHU9bi5zZWxlY3RlZEluZGV4LGY9InNlbGVjdC1vbmUiPT09bi50eXBlLHM9Zj9udWxsOltdLGg9Zj91KzE6by5sZW5ndGgscj11PDA/aDpmP3U6MDtyPGg7cisrKWlmKCgodD1vW3JdKS5zZWxlY3RlZHx8cj09PXUpJiYhdC5kaXNhYmxlZCYmKCF0LnBhcmVudE5vZGUuZGlzYWJsZWR8fCFjKHQucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKGU9aSh0KS52YWwoKSxmKXJldHVybiBlO3MucHVzaChlKX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLHUsZj1uLm9wdGlvbnMsZT1pLm1ha2VBcnJheSh0KSxvPWYubGVuZ3RoO28tLTspKCh1PWZbb10pLnNlbGVjdGVkPS0xPGkuaW5BcnJheShpLnZhbEhvb2tzLm9wdGlvbi5nZXQodSksZSkpJiYocj0hMCk7cmV0dXJuIHJ8fChuLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KTtpLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtpLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24obix0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBuLmNoZWNrZWQ9LTE8aS5pbkFycmF5KGkobikudmFsKCksdCl9fTtlLmNoZWNrT258fChpLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09PW4uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6bi52YWx1ZX0pfSk7ZS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gbjtmcj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87ZXI9ZnVuY3Rpb24obil7bi5zdG9wUHJvcGFnYXRpb24oKX07aS5leHRlbmQoaS5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbih0LGUsbyxzKXt2YXIgayxjLGwsZCx2LHksYSxwLHc9W298fGZdLGg9dWkuY2FsbCh0LCJ0eXBlIik/dC50eXBlOnQsYj11aS5jYWxsKHQsIm5hbWVzcGFjZSIpP3QubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoYz1wPWw9bz1vfHxmLDMhPT1vLm5vZGVUeXBlJiY4IT09by5ub2RlVHlwZSYmIWZyLnRlc3QoaCtpLmV2ZW50LnRyaWdnZXJlZCkmJigtMTxoLmluZGV4T2YoIi4iKSYmKGg9KGI9aC5zcGxpdCgiLiIpKS5zaGlmdCgpLGIuc29ydCgpKSx2PWguaW5kZXhPZigiOiIpPDAmJiJvbiIraCwodD10W2kuZXhwYW5kb10/dDpuZXcgaS5FdmVudChoLCJvYmplY3QiPT10eXBlb2YgdCYmdCkpLmlzVHJpZ2dlcj1zPzI6Myx0Lm5hbWVzcGFjZT1iLmpvaW4oIi4iKSx0LnJuYW1lc3BhY2U9dC5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIrYi5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PW8pLGU9bnVsbD09ZT9bdF06aS5tYWtlQXJyYXkoZSxbdF0pLGE9aS5ldmVudC5zcGVjaWFsW2hdfHx7fSxzfHwhYS50cmlnZ2VyfHwhMSE9PWEudHJpZ2dlci5hcHBseShvLGUpKSl7aWYoIXMmJiFhLm5vQnViYmxlJiYhcnQobykpe2ZvcihkPWEuZGVsZWdhdGVUeXBlfHxoLGZyLnRlc3QoZCtoKXx8KGM9Yy5wYXJlbnROb2RlKTtjO2M9Yy5wYXJlbnROb2RlKXcucHVzaChjKSxsPWM7bD09PShvLm93bmVyRG9jdW1lbnR8fGYpJiZ3LnB1c2gobC5kZWZhdWx0Vmlld3x8bC5wYXJlbnRXaW5kb3d8fG4pfWZvcihrPTA7KGM9d1trKytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspcD1jLHQudHlwZT0xPGs/ZDphLmJpbmRUeXBlfHxoLCh5PShyLmdldChjLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXSYmci5nZXQoYywiaGFuZGxlIikpJiZ5LmFwcGx5KGMsZSksKHk9diYmY1t2XSkmJnkuYXBwbHkmJm90KGMpJiYodC5yZXN1bHQ9eS5hcHBseShjLGUpLCExPT09dC5yZXN1bHQmJnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIHQudHlwZT1oLHN8fHQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEuX2RlZmF1bHQmJiExIT09YS5fZGVmYXVsdC5hcHBseSh3LnBvcCgpLGUpfHwhb3Qobyl8fHYmJnUob1toXSkmJiFydChvKSYmKChsPW9bdl0pJiYob1t2XT1udWxsKSxpLmV2ZW50LnRyaWdnZXJlZD1oLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5hZGRFdmVudExpc3RlbmVyKGgsZXIpLG9baF0oKSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJnAucmVtb3ZlRXZlbnRMaXN0ZW5lcihoLGVyKSxpLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbCYmKG9bdl09bCkpLHQucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24obix0LHIpe3ZhciB1PWkuZXh0ZW5kKG5ldyBpLkV2ZW50LHIse3R5cGU6bixpc1NpbXVsYXRlZDohMH0pO2kuZXZlbnQudHJpZ2dlcih1LG51bGwsdCl9fSk7aS5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC50cmlnZ2VyKG4sdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXNbMF07aWYocilyZXR1cm4gaS5ldmVudC50cmlnZ2VyKG4sdCxyLCEwKX19KTtlLmZvY3VzaW58fGkuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obix0KXt2YXIgdT1mdW5jdGlvbihuKXtpLmV2ZW50LnNpbXVsYXRlKHQsbi50YXJnZXQsaS5ldmVudC5maXgobikpfTtpLmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KTtmfHxpLmFkZEV2ZW50TGlzdGVuZXIobix1LCEwKTtyLmFjY2VzcyhpLHQsKGZ8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBpPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyxmPXIuYWNjZXNzKGksdCktMTtmP3IuYWNjZXNzKGksdCxmKTooaS5yZW1vdmVFdmVudExpc3RlbmVyKG4sdSwhMCksci5yZW1vdmUoaSx0KSl9fX0pO3ZhciB0aT1uLmxvY2F0aW9uLGJmPXtndWlkOkRhdGUubm93KCl9LG9yPS9cPy87aS5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgcjtpZighdHx8InN0cmluZyIhPXR5cGVvZiB0KXJldHVybiBudWxsO3RyeXtyPShuZXcgbi5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LCJ0ZXh0L3htbCIpfWNhdGNoKHQpe3I9dm9pZCAwfXJldHVybiByJiYhci5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh8fGkuZXJyb3IoIkludmFsaWQgWE1MOiAiK3QpLHJ9O3ZhciBmbz0vXFtcXSQvLGtmPS9ccj9cbi9nLGVvPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxvbz0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7aS5wYXJhbT1mdW5jdGlvbihuLHQpe3ZhciByLGY9W10sZT1mdW5jdGlvbihuLHQpe3ZhciBpPXUodCk/dCgpOnQ7ZltmLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KG4pKyI9IitlbmNvZGVVUklDb21wb25lbnQobnVsbD09aT8iIjppKX07aWYobnVsbD09bilyZXR1cm4iIjtpZihBcnJheS5pc0FycmF5KG4pfHxuLmpxdWVyeSYmIWkuaXNQbGFpbk9iamVjdChuKSlpLmVhY2gobixmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IociBpbiBuKXNyKHIsbltyXSx0LGUpO3JldHVybiBmLmpvaW4oIiYiKX07aS5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBpLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIG49aS5wcm9wKHRoaXMsImVsZW1lbnRzIik7cmV0dXJuIG4/aS5tYWtlQXJyYXkobik6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBuPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhaSh0aGlzKS5pcygiOmRpc2FibGVkIikmJm9vLnRlc3QodGhpcy5ub2RlTmFtZSkmJiFlby50ZXN0KG4pJiYodGhpcy5jaGVja2VkfHwhZ3QudGVzdChuKSl9KS5tYXAoZnVuY3Rpb24obix0KXt2YXIgcj1pKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1yP251bGw6QXJyYXkuaXNBcnJheShyKT9pLm1hcChyLGZ1bmN0aW9uKG4pe3JldHVybntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2Uoa2YsIlxyXG4iKX19KTp7bmFtZTp0Lm5hbWUsdmFsdWU6ci5yZXBsYWNlKGtmLCJcclxuIil9fSkuZ2V0KCl9fSk7dmFyIHNvPS8lMjAvZyxobz0vIy4qJC8sY289LyhbPyZdKV89W14mXSovLGxvPS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKSQvZ20sYW89L14oPzpHRVR8SEVBRCkkLyx2bz0vXlwvXC8vLGRmPXt9LGhyPXt9LGdmPSIqLyIuY29uY2F0KCIqIiksY3I9Zi5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGNyLmhyZWY9dGkuaHJlZixpLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6dGkuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdCh0aS5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLCJhc3luYyI6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOmdmLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjppLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24obix0KXtyZXR1cm4gdD9scihscihuLGkuYWpheFNldHRpbmdzKSx0KTpscihpLmFqYXhTZXR0aW5ncyxuKX0sYWpheFByZWZpbHRlcjpuZShkZiksYWpheFRyYW5zcG9ydDpuZShociksYWpheDpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGIodCxyLGYsYyl7dmFyIHYscnQsYixwLGcsbD1yO3N8fChzPSEwLGQmJm4uY2xlYXJUaW1lb3V0KGQpLGE9dm9pZCAwLGs9Y3x8IiIsZS5yZWFkeVN0YXRlPTA8dD80OjAsdj0yMDA8PXQmJnQ8MzAwfHwzMDQ9PT10LGYmJihwPWZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIGUsdSxmLG8scz1uLmNvbnRlbnRzLHI9bi5kYXRhVHlwZXM7IioiPT09clswXTspci5zaGlmdCgpLHZvaWQgMD09PWUmJihlPW4ubWltZVR5cGV8fHQuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcih1IGluIHMpaWYoc1t1XSYmc1t1XS50ZXN0KGUpKXtyLnVuc2hpZnQodSk7YnJlYWt9aWYoclswXWluIGkpZj1yWzBdO2Vsc2V7Zm9yKHUgaW4gaSl7aWYoIXJbMF18fG4uY29udmVydGVyc1t1KyIgIityWzBdXSl7Zj11O2JyZWFrfW98fChvPXUpfWY9Znx8b31pZihmKXJldHVybiBmIT09clswXSYmci51bnNoaWZ0KGYpLGlbZl19KHUsZSxmKSksIXYmJi0xPGkuaW5BcnJheSgic2NyaXB0Iix1LmRhdGFUeXBlcykmJih1LmNvbnZlcnRlcnNbInRleHQgc2NyaXB0Il09ZnVuY3Rpb24oKXt9KSxwPWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBoLHUsZixzLGUsbz17fSxjPW4uZGF0YVR5cGVzLnNsaWNlKCk7aWYoY1sxXSlmb3IoZiBpbiBuLmNvbnZlcnRlcnMpb1tmLnRvTG93ZXJDYXNlKCldPW4uY29udmVydGVyc1tmXTtmb3IodT1jLnNoaWZ0KCk7dTspaWYobi5yZXNwb25zZUZpZWxkc1t1XSYmKGlbbi5yZXNwb25zZUZpZWxkc1t1XV09dCksIWUmJnImJm4uZGF0YUZpbHRlciYmKHQ9bi5kYXRhRmlsdGVyKHQsbi5kYXRhVHlwZSkpLGU9dSx1PWMuc2hpZnQoKSlpZigiKiI9PT11KXU9ZTtlbHNlIGlmKCIqIiE9PWUmJmUhPT11KXtpZighKGY9b1tlKyIgIit1XXx8b1siKiAiK3VdKSlmb3IoaCBpbiBvKWlmKChzPWguc3BsaXQoIiAiKSlbMV09PT11JiYoZj1vW2UrIiAiK3NbMF1dfHxvWyIqICIrc1swXV0pKXshMD09PWY/Zj1vW2hdOiEwIT09b1toXSYmKHU9c1swXSxjLnVuc2hpZnQoc1sxXSkpO2JyZWFrfWlmKCEwIT09ZilpZihmJiZuLnRocm93cyl0PWYodCk7ZWxzZSB0cnl7dD1mKHQpfWNhdGNoKG4pe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmY/bjoiTm8gY29udmVyc2lvbiBmcm9tICIrZSsiIHRvICIrdX19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX0odSxwLGUsdiksdj8odS5pZk1vZGlmaWVkJiYoKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKSYmKGkubGFzdE1vZGlmaWVkW29dPWcpLChnPWUuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSkmJihpLmV0YWdbb109ZykpLDIwND09PXR8fCJIRUFEIj09PXUudHlwZT9sPSJub2NvbnRlbnQiOjMwND09PXQ/bD0ibm90bW9kaWZpZWQiOihsPXAuc3RhdGUscnQ9cC5kYXRhLHY9IShiPXAuZXJyb3IpKSk6KGI9bCwhdCYmbHx8KGw9ImVycm9yIix0PDAmJih0PTApKSksZS5zdGF0dXM9dCxlLnN0YXR1c1RleHQ9KHJ8fGwpKyIiLHY/dHQucmVzb2x2ZVdpdGgoaCxbcnQsbCxlXSk6dHQucmVqZWN0V2l0aChoLFtlLGwsYl0pLGUuc3RhdHVzQ29kZSh3KSx3PXZvaWQgMCx5JiZudC50cmlnZ2VyKHY/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbZSx1LHY/cnQ6Yl0pLGl0LmZpcmVXaXRoKGgsW2UsbF0pLHkmJihudC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtlLHVdKSwtLWkuYWN0aXZlfHxpLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX0ib2JqZWN0Ij09dHlwZW9mIHQmJihyPXQsdD12b2lkIDApO3I9cnx8e307dmFyIGEsbyxrLHYsZCxjLHMseSxnLHAsdT1pLmFqYXhTZXR1cCh7fSxyKSxoPXUuY29udGV4dHx8dSxudD11LmNvbnRleHQmJihoLm5vZGVUeXBlfHxoLmpxdWVyeSk/aShoKTppLmV2ZW50LHR0PWkuRGVmZXJyZWQoKSxpdD1pLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXUuc3RhdHVzQ29kZXx8e30scnQ9e30sdXQ9e30sZnQ9ImNhbmNlbGVkIixlPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24obil7dmFyIHQ7aWYocyl7aWYoIXYpZm9yKHY9e307dD1sby5leGVjKGspOyl2W3RbMV0udG9Mb3dlckNhc2UoKSsiICJdPSh2W3RbMV0udG9Mb3dlckNhc2UoKSsiICJdfHxbXSkuY29uY2F0KHRbMl0pO3Q9dltuLnRvTG93ZXJDYXNlKCkrIiAiXX1yZXR1cm4gbnVsbD09dD9udWxsOnQuam9pbigiLCAiKX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHM/azpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXMmJihuPXV0W24udG9Mb3dlckNhc2UoKV09dXRbbi50b0xvd2VyQ2FzZSgpXXx8bixydFtuXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1zJiYodS5taW1lVHlwZT1uKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKG4pe3ZhciB0O2lmKG4paWYocyllLmFsd2F5cyhuW2Uuc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBuKXdbdF09W3dbdF0sblt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKG4pe3ZhciB0PW58fGZ0O3JldHVybiBhJiZhLmFib3J0KHQpLGIoMCx0KSx0aGlzfX07aWYodHQucHJvbWlzZShlKSx1LnVybD0oKHR8fHUudXJsfHx0aS5ocmVmKSsiIikucmVwbGFjZSh2byx0aS5wcm90b2NvbCsiLy8iKSx1LnR5cGU9ci5tZXRob2R8fHIudHlwZXx8dS5tZXRob2R8fHUudHlwZSx1LmRhdGFUeXBlcz0odS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbIiJdLG51bGw9PXUuY3Jvc3NEb21haW4pe2M9Zi5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2MuaHJlZj11LnVybDtjLmhyZWY9Yy5ocmVmO3UuY3Jvc3NEb21haW49Y3IucHJvdG9jb2wrIi8vIitjci5ob3N0IT1jLnByb3RvY29sKyIvLyIrYy5ob3N0fWNhdGNoKHQpe3UuY3Jvc3NEb21haW49ITB9fWlmKHUuZGF0YSYmdS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB1LmRhdGEmJih1LmRhdGE9aS5wYXJhbSh1LmRhdGEsdS50cmFkaXRpb25hbCkpLHRlKGRmLHUscixlKSxzKXJldHVybiBlO2ZvcihnIGluKHk9aS5ldmVudCYmdS5nbG9iYWwpJiYwPT1pLmFjdGl2ZSsrJiZpLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHUudHlwZT11LnR5cGUudG9VcHBlckNhc2UoKSx1Lmhhc0NvbnRlbnQ9IWFvLnRlc3QodS50eXBlKSxvPXUudXJsLnJlcGxhY2UoaG8sIiIpLHUuaGFzQ29udGVudD91LmRhdGEmJnUucHJvY2Vzc0RhdGEmJjA9PT0odS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodS5kYXRhPXUuZGF0YS5yZXBsYWNlKHNvLCIrIikpOihwPXUudXJsLnNsaWNlKG8ubGVuZ3RoKSx1LmRhdGEmJih1LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHUuZGF0YSkmJihvKz0ob3IudGVzdChvKT8iJiI6Ij8iKSt1LmRhdGEsZGVsZXRlIHUuZGF0YSksITE9PT11LmNhY2hlJiYobz1vLnJlcGxhY2UoY28sIiQxIikscD0ob3IudGVzdChvKT8iJiI6Ij8iKSsiXz0iK2JmLmd1aWQrKytwKSx1LnVybD1vK3ApLHUuaWZNb2RpZmllZCYmKGkubGFzdE1vZGlmaWVkW29dJiZlLnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixpLmxhc3RNb2RpZmllZFtvXSksaS5ldGFnW29dJiZlLnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGkuZXRhZ1tvXSkpLCh1LmRhdGEmJnUuaGFzQ29udGVudCYmITEhPT11LmNvbnRlbnRUeXBlfHxyLmNvbnRlbnRUeXBlKSYmZS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHUuY29udGVudFR5cGUpLGUuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix1LmRhdGFUeXBlc1swXSYmdS5hY2NlcHRzW3UuZGF0YVR5cGVzWzBdXT91LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dKygiKiIhPT11LmRhdGFUeXBlc1swXT8iLCAiK2dmKyI7IHE9MC4wMSI6IiIpOnUuYWNjZXB0c1siKiJdKSx1LmhlYWRlcnMpZS5zZXRSZXF1ZXN0SGVhZGVyKGcsdS5oZWFkZXJzW2ddKTtpZih1LmJlZm9yZVNlbmQmJighMT09PXUuYmVmb3JlU2VuZC5jYWxsKGgsZSx1KXx8cykpcmV0dXJuIGUuYWJvcnQoKTtpZihmdD0iYWJvcnQiLGl0LmFkZCh1LmNvbXBsZXRlKSxlLmRvbmUodS5zdWNjZXNzKSxlLmZhaWwodS5lcnJvciksYT10ZShocix1LHIsZSkpe2lmKGUucmVhZHlTdGF0ZT0xLHkmJm50LnRyaWdnZXIoImFqYXhTZW5kIixbZSx1XSkscylyZXR1cm4gZTt1LmFzeW5jJiYwPHUudGltZW91dCYmKGQ9bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hYm9ydCgidGltZW91dCIpfSx1LnRpbWVvdXQpKTt0cnl7cz0hMTthLnNlbmQocnQsYil9Y2F0Y2godCl7aWYocyl0aHJvdyB0O2IoLTEsdCl9fWVsc2UgYigtMSwiTm8gVHJhbnNwb3J0Iik7cmV0dXJuIGV9LGdldEpTT046ZnVuY3Rpb24obix0LHIpe3JldHVybiBpLmdldChuLHQsciwianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gaS5nZXQobix2b2lkIDAsdCwic2NyaXB0Iil9fSksaS5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKG4sdCl7aVt0XT1mdW5jdGlvbihuLHIsZixlKXtyZXR1cm4gdShyKSYmKGU9ZXx8ZixmPXIscj12b2lkIDApLGkuYWpheChpLmV4dGVuZCh7dXJsOm4sdHlwZTp0LGRhdGFUeXBlOmUsZGF0YTpyLHN1Y2Nlc3M6Zn0saS5pc1BsYWluT2JqZWN0KG4pJiZuKSl9fSksaS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuLmhlYWRlcnMpImNvbnRlbnQtdHlwZSI9PT10LnRvTG93ZXJDYXNlKCkmJihuLmNvbnRlbnRUeXBlPW4uaGVhZGVyc1t0XXx8IiIpfSksaS5fZXZhbFVybD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGkuYWpheCh7dXJsOm4sdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCwiYXN5bmMiOiExLGdsb2JhbDohMSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKCl7fX0sZGF0YUZpbHRlcjpmdW5jdGlvbihuKXtpLmdsb2JhbEV2YWwobix0LHIpfX0pfSxpLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHUobikmJihuPW4uY2FsbCh0aGlzWzBdKSksdD1pKG4sdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzO24uZmlyc3RFbGVtZW50Q2hpbGQ7KW49bi5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gbn0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiB1KG4pP3RoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyx0KSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMpLHI9dC5jb250ZW50cygpO3IubGVuZ3RoP3Iud3JhcEFsbChuKTp0LmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKG4pe3ZhciB0PXUobik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLndyYXBBbGwodD9uLmNhbGwodGhpcyxyKTpuKX0pfSx1bndyYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucGFyZW50KG4pLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGkuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihuKXtyZXR1cm4haS5leHByLnBzZXVkb3MudmlzaWJsZShuKX0saS5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihuKXtyZXR1cm4hIShuLm9mZnNldFdpZHRofHxuLm9mZnNldEhlaWdodHx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGkuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IG4uWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fX0saWU9ezA6MjAwLDEyMjM6MjA0fSx3dD1pLmFqYXhTZXR0aW5ncy54aHIoKSxlLmNvcnM9ISF3dCYmIndpdGhDcmVkZW50aWFscyJpbiB3dCxlLmFqYXg9d3Q9ISF3dCxpLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIGkscjtpZihlLmNvcnN8fHd0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbih1LGYpe3ZhciBvLGU9dC54aHIoKTtpZihlLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IobyBpbiB0LnhockZpZWxkcyllW29dPXQueGhyRmllbGRzW29dO2ZvcihvIGluIHQubWltZVR5cGUmJmUub3ZlcnJpZGVNaW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpLHQuY3Jvc3NEb21haW58fHVbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KHVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKSx1KWUuc2V0UmVxdWVzdEhlYWRlcihvLHVbb10pO2k9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7aSYmKGk9cj1lLm9ubG9hZD1lLm9uZXJyb3I9ZS5vbmFib3J0PWUub250aW1lb3V0PWUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PW4/ZS5hYm9ydCgpOiJlcnJvciI9PT1uPyJudW1iZXIiIT10eXBlb2YgZS5zdGF0dXM/ZigwLCJlcnJvciIpOmYoZS5zdGF0dXMsZS5zdGF0dXNUZXh0KTpmKGllW2Uuc3RhdHVzXXx8ZS5zdGF0dXMsZS5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShlLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBlLnJlc3BvbnNlVGV4dD97YmluYXJ5OmUucmVzcG9uc2V9Ont0ZXh0OmUucmVzcG9uc2VUZXh0fSxlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fTtlLm9ubG9hZD1pKCk7cj1lLm9uZXJyb3I9ZS5vbnRpbWVvdXQ9aSgiZXJyb3IiKTt2b2lkIDAhPT1lLm9uYWJvcnQ/ZS5vbmFib3J0PXI6ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09ZS5yZWFkeVN0YXRlJiZuLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpJiZyKCl9KX07aT1pKCJhYm9ydCIpO3RyeXtlLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKHUpe2lmKGkpdGhyb3cgdTt9fSxhYm9ydDpmdW5jdGlvbigpe2kmJmkoKX19fSksaS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKG4pe24uY3Jvc3NEb21haW4mJihuLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxpLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihuKXtyZXR1cm4gaS5nbG9iYWxFdmFsKG4pLG59fX0pLGkuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihuKXt2b2lkIDA9PT1uLmNhY2hlJiYobi5jYWNoZT0hMSk7bi5jcm9zc0RvbWFpbiYmKG4udHlwZT0iR0VUIil9KSxpLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsdDtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKHUsZSl7cj1pKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIix0PWZ1bmN0aW9uKG4pe3IucmVtb3ZlKCk7dD1udWxsO24mJmUoImVycm9yIj09PW4udHlwZT80MDQ6MjAwLG4udHlwZSl9KTtmLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7dCYmdCgpfX19KSxhcj1bXSx2aT0vKD0pXD8oPz0mfCQpfFw/XD8vLGkuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgbj1hci5wb3AoKXx8aS5leHBhbmRvKyJfIitiZi5ndWlkKys7cmV0dXJuIHRoaXNbbl09ITAsbn19KSxpLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHQscixmKXt2YXIgZSxvLHMsaD0hMSE9PXQuanNvbnAmJih2aS50ZXN0KHQudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJnZpLnRlc3QodC5kYXRhKSYmImRhdGEiKTtpZihofHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGU9dC5qc29ucENhbGxiYWNrPXUodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2ssaD90W2hdPXRbaF0ucmVwbGFjZSh2aSwiJDEiK2UpOiExIT09dC5qc29ucCYmKHQudXJsKz0ob3IudGVzdCh0LnVybCk/IiYiOiI/IikrdC5qc29ucCsiPSIrZSksdC5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIHN8fGkuZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksc1swXX0sdC5kYXRhVHlwZXNbMF09Impzb24iLG89bltlXSxuW2VdPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LGYuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz9pKG4pLnJlbW92ZVByb3AoZSk6bltlXT1vO3RbZV0mJih0Lmpzb25wQ2FsbGJhY2s9ci5qc29ucENhbGxiYWNrLGFyLnB1c2goZSkpO3MmJnUobykmJm8oc1swXSk7cz1vPXZvaWQgMH0pLCJzY3JpcHQifSksZS5jcmVhdGVIVE1MRG9jdW1lbnQ9KChyZT1mLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keSkuaW5uZXJIVE1MPSI8Zm9ybT48XC9mb3JtPjxmb3JtPjxcL2Zvcm0+IiwyPT09cmUuY2hpbGROb2Rlcy5sZW5ndGgpLGkucGFyc2VIVE1MPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIG4/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihyPXQsdD0hMSksdHx8KGUuY3JlYXRlSFRNTERvY3VtZW50Pygocz0odD1mLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikpLmNyZWF0ZUVsZW1lbnQoImJhc2UiKSkuaHJlZj1mLmxvY2F0aW9uLmhyZWYsdC5oZWFkLmFwcGVuZENoaWxkKHMpKTp0PWYpLHU9IXImJltdLChvPXdpLmV4ZWMobikpP1t0LmNyZWF0ZUVsZW1lbnQob1sxXSldOihvPXZ1KFtuXSx0LHUpLHUmJnUubGVuZ3RoJiZpKHUpLnJlbW92ZSgpLGkubWVyZ2UoW10sby5jaGlsZE5vZGVzKSkpO3ZhciBzLG8sdX0saS5mbi5sb2FkPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZixzLGgsZT10aGlzLG89bi5pbmRleE9mKCIgIik7cmV0dXJuLTE8byYmKGY9dHQobi5zbGljZShvKSksbj1uLnNsaWNlKDAsbykpLHUodCk/KHI9dCx0PXZvaWQgMCk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYocz0iUE9TVCIpLDA8ZS5sZW5ndGgmJmkuYWpheCh7dXJsOm4sdHlwZTpzfHwiR0VUIixkYXRhVHlwZToiaHRtbCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihuKXtoPWFyZ3VtZW50cztlLmh0bWwoZj9pKCI8ZGl2PiIpLmFwcGVuZChpLnBhcnNlSFRNTChuKSkuZmluZChmKTpuKX0pLmFsd2F5cyhyJiZmdW5jdGlvbihuLHQpe2UuZWFjaChmdW5jdGlvbigpe3IuYXBwbHkodGhpcyxofHxbbi5yZXNwb25zZVRleHQsdCxuXSl9KX0pLHRoaXN9LGkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKG4pe3JldHVybiBpLmdyZXAoaS50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIG49PT10LmVsZW19KS5sZW5ndGh9LGkub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24obix0LHIpe3ZhciB2LG8scyxoLGUsYyxsPWkuY3NzKG4sInBvc2l0aW9uIiksYT1pKG4pLGY9e307InN0YXRpYyI9PT1sJiYobi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTtlPWEub2Zmc2V0KCk7cz1pLmNzcyhuLCJ0b3AiKTtjPWkuY3NzKG4sImxlZnQiKTsoImFic29sdXRlIj09PWx8fCJmaXhlZCI9PT1sKSYmLTE8KHMrYykuaW5kZXhPZigiYXV0byIpPyhoPSh2PWEucG9zaXRpb24oKSkudG9wLG89di5sZWZ0KTooaD1wYXJzZUZsb2F0KHMpfHwwLG89cGFyc2VGbG9hdChjKXx8MCk7dSh0KSYmKHQ9dC5jYWxsKG4scixpLmV4dGVuZCh7fSxlKSkpO251bGwhPXQudG9wJiYoZi50b3A9dC50b3AtZS50b3AraCk7bnVsbCE9dC5sZWZ0JiYoZi5sZWZ0PXQubGVmdC1lLmxlZnQrbyk7InVzaW5nImluIHQ/dC51c2luZy5jYWxsKG4sZik6KCJudW1iZXIiPT10eXBlb2YgZi50b3AmJihmLnRvcCs9InB4IiksIm51bWJlciI9PXR5cGVvZiBmLmxlZnQmJihmLmxlZnQrPSJweCIpLGEuY3NzKGYpKX19LGkuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09bj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0KXtpLm9mZnNldC5zZXRPZmZzZXQodGhpcyxuLHQpfSk7dmFyIHIsdSx0PXRoaXNbMF07aWYodClyZXR1cm4gdC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8ocj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ci50b3ArdS5wYWdlWU9mZnNldCxsZWZ0OnIubGVmdCt1LnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIG4scix1LHQ9dGhpc1swXSxmPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1pLmNzcyh0LCJwb3NpdGlvbiIpKXI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle2ZvcihyPXRoaXMub2Zmc2V0KCksdT10Lm93bmVyRG9jdW1lbnQsbj10Lm9mZnNldFBhcmVudHx8dS5kb2N1bWVudEVsZW1lbnQ7biYmKG49PT11LmJvZHl8fG49PT11LmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09aS5jc3MobiwicG9zaXRpb24iKTspbj1uLnBhcmVudE5vZGU7biYmbiE9PXQmJjE9PT1uLm5vZGVUeXBlJiYoKGY9aShuKS5vZmZzZXQoKSkudG9wKz1pLmNzcyhuLCJib3JkZXJUb3BXaWR0aCIsITApLGYubGVmdCs9aS5jc3MobiwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6ci50b3AtZi50b3AtaS5jc3ModCwibWFyZ2luVG9wIiwhMCksbGVmdDpyLmxlZnQtZi5sZWZ0LWkuY3NzKHQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIG49dGhpcy5vZmZzZXRQYXJlbnQ7biYmInN0YXRpYyI9PT1pLmNzcyhuLCJwb3NpdGlvbiIpOyluPW4ub2Zmc2V0UGFyZW50O3JldHVybiBufHxnfSl9fSksaS5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKG4sdCl7dmFyIHI9InBhZ2VZT2Zmc2V0Ij09PXQ7aS5mbltuXT1mdW5jdGlvbihpKXtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKG4saSx1KXt2YXIgZjtpZihydChuKT9mPW46OT09PW4ubm9kZVR5cGUmJihmPW4uZGVmYXVsdFZpZXcpLHZvaWQgMD09PXUpcmV0dXJuIGY/Zlt0XTpuW2ldO2Y/Zi5zY3JvbGxUbyhyP2YucGFnZVhPZmZzZXQ6dSxyP3U6Zi5wYWdlWU9mZnNldCk6bltpXT11fSxuLGksYXJndW1lbnRzLmxlbmd0aCl9fSksaS5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKG4sdCl7aS5jc3NIb29rc1t0XT1kdShlLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24obixyKXtpZihyKXJldHVybiByPW5pKG4sdCksbnIudGVzdChyKT9pKG4pLnBvc2l0aW9uKClbdF0rInB4IjpyfSl9KSxpLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihuLHQpe2kuZWFjaCh7cGFkZGluZzoiaW5uZXIiK24sY29udGVudDp0LCIiOiJvdXRlciIrbn0sZnVuY3Rpb24ocix1KXtpLmZuW3VdPWZ1bmN0aW9uKGYsZSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aCYmKHJ8fCJib29sZWFuIiE9dHlwZW9mIGYpLHM9cnx8KCEwPT09Znx8ITA9PT1lPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4gdyh0aGlzLGZ1bmN0aW9uKHQscixmKXt2YXIgZTtyZXR1cm4gcnQodCk/MD09PXUuaW5kZXhPZigib3V0ZXIiKT90WyJpbm5lciIrbl06dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrbl06OT09PXQubm9kZVR5cGU/KGU9dC5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgodC5ib2R5WyJzY3JvbGwiK25dLGVbInNjcm9sbCIrbl0sdC5ib2R5WyJvZmZzZXQiK25dLGVbIm9mZnNldCIrbl0sZVsiY2xpZW50IituXSkpOnZvaWQgMD09PWY/aS5jc3ModCxyLHMpOmkuc3R5bGUodCxyLGYscyl9LHQsbz9mOnZvaWQgMCxvKX19KX0pLGkuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKG4sdCl7aS5mblt0XT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vbih0LG4pfX0pLGkuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5vbihuLG51bGwsdCxpKX0sdW5iaW5kOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub2ZmKG4sbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHRoaXMub24odCxuLGkscil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24obix0LGkpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihuLCIqKiIpOnRoaXMub2ZmKHQsbnx8IioqIixpKX0saG92ZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKG4pLm1vdXNlbGVhdmUodHx8bil9fSksaS5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aS5mblt0XT1mdW5jdGlvbihuLGkpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbih0LG51bGwsbixpKTp0aGlzLnRyaWdnZXIodCl9fSksdWU9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLGkucHJveHk9ZnVuY3Rpb24obix0KXt2YXIgcixmLGU7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYocj1uW3RdLHQ9bixuPXIpLHUobikpcmV0dXJuIGY9ay5jYWxsKGFyZ3VtZW50cywyKSwoZT1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHR8fHRoaXMsZi5jb25jYXQoay5jYWxsKGFyZ3VtZW50cykpKX0pLmd1aWQ9bi5ndWlkPW4uZ3VpZHx8aS5ndWlkKyssZX0saS5ob2xkUmVhZHk9ZnVuY3Rpb24obil7bj9pLnJlYWR5V2FpdCsrOmkucmVhZHkoITApfSxpLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxpLnBhcnNlSlNPTj1KU09OLnBhcnNlLGkubm9kZU5hbWU9YyxpLmlzRnVuY3Rpb249dSxpLmlzV2luZG93PXJ0LGkuY2FtZWxDYXNlPXksaS50eXBlPXV0LGkubm93PURhdGUubm93LGkuaXNOdW1lcmljPWZ1bmN0aW9uKG4pe3ZhciB0PWkudHlwZShuKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4obi1wYXJzZUZsb2F0KG4pKX0saS50cmltPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKHVlLCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSxmZT1uLmpRdWVyeSxlZT1uLiQsaS5ub0NvbmZsaWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuLiQ9PT1pJiYobi4kPWVlKSx0JiZuLmpRdWVyeT09PWkmJihuLmpRdWVyeT1mZSksaX0sInVuZGVmaW5lZCI9PXR5cGVvZiB0JiYobi5qUXVlcnk9bi4kPWkpLGl9KTsKLyohIGpRdWVyeSBWYWxpZGF0aW9uIFBsdWdpbiAtIHYxLjE5LjMgLSAxLzkvMjAyMQogKiBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnLwogKiBDb3B5cmlnaHQgKGMpIDIwMjEgSsO2cm4gWmFlZmZlcmVyOyBMaWNlbnNlZCBNSVQgKi8KIWZ1bmN0aW9uKG4peyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sbik6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5IikpOm4oalF1ZXJ5KX0oZnVuY3Rpb24obil7dmFyIGkscix0O3JldHVybiBuLmV4dGVuZChuLmZuLHt2YWxpZGF0ZTpmdW5jdGlvbih0KXtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHZvaWQodCYmdC5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2FybigiTm90aGluZyBzZWxlY3RlZCwgY2FuJ3QgdmFsaWRhdGUsIHJldHVybmluZyBub3RoaW5nLiIpKTt2YXIgaT1uLmRhdGEodGhpc1swXSwidmFsaWRhdG9yIik7cmV0dXJuIGk/aToodGhpcy5hdHRyKCJub3ZhbGlkYXRlIiwibm92YWxpZGF0ZSIpLGk9bmV3IG4udmFsaWRhdG9yKHQsdGhpc1swXSksbi5kYXRhKHRoaXNbMF0sInZhbGlkYXRvciIsaSksaS5zZXR0aW5ncy5vbnN1Ym1pdCYmKHRoaXMub24oImNsaWNrLnZhbGlkYXRlIiwiOnN1Ym1pdCIsZnVuY3Rpb24odCl7aS5zdWJtaXRCdXR0b249dC5jdXJyZW50VGFyZ2V0O24odGhpcykuaGFzQ2xhc3MoImNhbmNlbCIpJiYoaS5jYW5jZWxTdWJtaXQ9ITApO3ZvaWQgMCE9PW4odGhpcykuYXR0cigiZm9ybW5vdmFsaWRhdGUiKSYmKGkuY2FuY2VsU3VibWl0PSEwKX0pLHRoaXMub24oInN1Ym1pdC52YWxpZGF0ZSIsZnVuY3Rpb24odCl7ZnVuY3Rpb24gcigpe3ZhciByLHU7cmV0dXJuIGkuc3VibWl0QnV0dG9uJiYoaS5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyfHxpLmZvcm1TdWJtaXR0ZWQpJiYocj1uKCI8aW5wdXQgdHlwZT0naGlkZGVuJy8+IikuYXR0cigibmFtZSIsaS5zdWJtaXRCdXR0b24ubmFtZSkudmFsKG4oaS5zdWJtaXRCdXR0b24pLnZhbCgpKS5hcHBlbmRUbyhpLmN1cnJlbnRGb3JtKSksIShpLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXImJiFpLnNldHRpbmdzLmRlYnVnKXx8KHU9aS5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyLmNhbGwoaSxpLmN1cnJlbnRGb3JtLHQpLHImJnIucmVtb3ZlKCksdm9pZCAwIT09dSYmdSl9cmV0dXJuIGkuc2V0dGluZ3MuZGVidWcmJnQucHJldmVudERlZmF1bHQoKSxpLmNhbmNlbFN1Ym1pdD8oaS5jYW5jZWxTdWJtaXQ9ITEscigpKTppLmZvcm0oKT9pLnBlbmRpbmdSZXF1ZXN0PyhpLmZvcm1TdWJtaXR0ZWQ9ITAsITEpOnIoKTooaS5mb2N1c0ludmFsaWQoKSwhMSl9KSksaSl9LHZhbGlkOmZ1bmN0aW9uKCl7dmFyIHQsaSxyO3JldHVybiBuKHRoaXNbMF0pLmlzKCJmb3JtIik/dD10aGlzLnZhbGlkYXRlKCkuZm9ybSgpOihyPVtdLHQ9ITAsaT1uKHRoaXNbMF0uZm9ybSkudmFsaWRhdGUoKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0PWkuZWxlbWVudCh0aGlzKSYmdDt0fHwocj1yLmNvbmNhdChpLmVycm9yTGlzdCkpfSksaS5lcnJvckxpc3Q9ciksdH0scnVsZXM6ZnVuY3Rpb24odCxpKXt2YXIgZSxzLGYsdSxvLGgscj10aGlzWzBdLGM9InVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpJiYiZmFsc2UiIT09dGhpcy5hdHRyKCJjb250ZW50ZWRpdGFibGUiKTtpZihudWxsIT1yJiYoIXIuZm9ybSYmYyYmKHIuZm9ybT10aGlzLmNsb3Nlc3QoImZvcm0iKVswXSxyLm5hbWU9dGhpcy5hdHRyKCJuYW1lIikpLG51bGwhPXIuZm9ybSkpe2lmKHQpc3dpdGNoKGU9bi5kYXRhKHIuZm9ybSwidmFsaWRhdG9yIikuc2V0dGluZ3Mscz1lLnJ1bGVzLGY9bi52YWxpZGF0b3Iuc3RhdGljUnVsZXMociksdCl7Y2FzZSJhZGQiOm4uZXh0ZW5kKGYsbi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShpKSk7ZGVsZXRlIGYubWVzc2FnZXM7c1tyLm5hbWVdPWY7aS5tZXNzYWdlcyYmKGUubWVzc2FnZXNbci5uYW1lXT1uLmV4dGVuZChlLm1lc3NhZ2VzW3IubmFtZV0saS5tZXNzYWdlcykpO2JyZWFrO2Nhc2UicmVtb3ZlIjpyZXR1cm4gaT8oaD17fSxuLmVhY2goaS5zcGxpdCgvXHMvKSxmdW5jdGlvbihuLHQpe2hbdF09Zlt0XTtkZWxldGUgZlt0XX0pLGgpOihkZWxldGUgc1tyLm5hbWVdLGYpfXJldHVybiB1PW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGVzKG4uZXh0ZW5kKHt9LG4udmFsaWRhdG9yLmNsYXNzUnVsZXMociksbi52YWxpZGF0b3IuYXR0cmlidXRlUnVsZXMociksbi52YWxpZGF0b3IuZGF0YVJ1bGVzKHIpLG4udmFsaWRhdG9yLnN0YXRpY1J1bGVzKHIpKSxyKSx1LnJlcXVpcmVkJiYobz11LnJlcXVpcmVkLGRlbGV0ZSB1LnJlcXVpcmVkLHU9bi5leHRlbmQoe3JlcXVpcmVkOm99LHUpKSx1LnJlbW90ZSYmKG89dS5yZW1vdGUsZGVsZXRlIHUucmVtb3RlLHU9bi5leHRlbmQodSx7cmVtb3RlOm99KSksdX19fSksaT1mdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywiIil9LG4uZXh0ZW5kKG4uZXhwci5wc2V1ZG9zfHxuLmV4cHJbIjoiXSx7Ymxhbms6ZnVuY3Rpb24odCl7cmV0dXJuIWkoIiIrbih0KS52YWwoKSl9LGZpbGxlZDpmdW5jdGlvbih0KXt2YXIgcj1uKHQpLnZhbCgpO3JldHVybiBudWxsIT09ciYmISFpKCIiK3IpfSx1bmNoZWNrZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIW4odCkucHJvcCgiY2hlY2tlZCIpfX0pLG4udmFsaWRhdG9yPWZ1bmN0aW9uKHQsaSl7dGhpcy5zZXR0aW5ncz1uLmV4dGVuZCghMCx7fSxuLnZhbGlkYXRvci5kZWZhdWx0cyx0KTt0aGlzLmN1cnJlbnRGb3JtPWk7dGhpcy5pbml0KCl9LG4udmFsaWRhdG9yLmZvcm1hdD1mdW5jdGlvbih0LGkpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9mdW5jdGlvbigpe3ZhciBpPW4ubWFrZUFycmF5KGFyZ3VtZW50cyk7cmV0dXJuIGkudW5zaGlmdCh0KSxuLnZhbGlkYXRvci5mb3JtYXQuYXBwbHkodGhpcyxpKX06dm9pZCAwPT09aT90Oihhcmd1bWVudHMubGVuZ3RoPjImJmkuY29uc3RydWN0b3IhPT1BcnJheSYmKGk9bi5tYWtlQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKSksaS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoaT1baV0pLG4uZWFjaChpLGZ1bmN0aW9uKG4saSl7dD10LnJlcGxhY2UobmV3IFJlZ0V4cCgiXFx7IituKyJcXH0iLCJnIiksZnVuY3Rpb24oKXtyZXR1cm4gaX0pfSksdCl9LG4uZXh0ZW5kKG4udmFsaWRhdG9yLHtkZWZhdWx0czp7bWVzc2FnZXM6e30sZ3JvdXBzOnt9LHJ1bGVzOnt9LGVycm9yQ2xhc3M6ImVycm9yIixwZW5kaW5nQ2xhc3M6InBlbmRpbmciLHZhbGlkQ2xhc3M6InZhbGlkIixlcnJvckVsZW1lbnQ6ImxhYmVsIixmb2N1c0NsZWFudXA6ITEsZm9jdXNJbnZhbGlkOiEwLGVycm9yQ29udGFpbmVyOm4oW10pLGVycm9yTGFiZWxDb250YWluZXI6bihbXSksb25zdWJtaXQ6ITAsaWdub3JlOiI6aGlkZGVuIixpZ25vcmVUaXRsZTohMSxvbmZvY3VzaW46ZnVuY3Rpb24obil7dGhpcy5sYXN0QWN0aXZlPW47dGhpcy5zZXR0aW5ncy5mb2N1c0NsZWFudXAmJih0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0JiZ0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxuLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyx0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpLHRoaXMuaGlkZVRoZXNlKHRoaXMuZXJyb3JzRm9yKG4pKSl9LG9uZm9jdXNvdXQ6ZnVuY3Rpb24obil7IXRoaXMuY2hlY2thYmxlKG4pJiYobi5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHwhdGhpcy5vcHRpb25hbChuKSkmJnRoaXMuZWxlbWVudChuKX0sb25rZXl1cDpmdW5jdGlvbih0LGkpezk9PT1pLndoaWNoJiYiIj09PXRoaXMuZWxlbWVudFZhbHVlKHQpfHxuLmluQXJyYXkoaS5rZXlDb2RlLFsxNiwxNywxOCwyMCwzNSwzNiwzNywzOCwzOSw0MCw0NSwxNDQsMjI1XSkhPT0tMXx8KHQubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZHx8dC5uYW1lIGluIHRoaXMuaW52YWxpZCkmJnRoaXMuZWxlbWVudCh0KX0sb25jbGljazpmdW5jdGlvbihuKXtuLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQ/dGhpcy5lbGVtZW50KG4pOm4ucGFyZW50Tm9kZS5uYW1lIGluIHRoaXMuc3VibWl0dGVkJiZ0aGlzLmVsZW1lbnQobi5wYXJlbnROb2RlKX0saGlnaGxpZ2h0OmZ1bmN0aW9uKHQsaSxyKXsicmFkaW8iPT09dC50eXBlP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLmFkZENsYXNzKGkpLnJlbW92ZUNsYXNzKHIpOm4odCkuYWRkQ2xhc3MoaSkucmVtb3ZlQ2xhc3Mocil9LHVuaGlnaGxpZ2h0OmZ1bmN0aW9uKHQsaSxyKXsicmFkaW8iPT09dC50eXBlP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLnJlbW92ZUNsYXNzKGkpLmFkZENsYXNzKHIpOm4odCkucmVtb3ZlQ2xhc3MoaSkuYWRkQ2xhc3Mocil9fSxzZXREZWZhdWx0czpmdW5jdGlvbih0KXtuLmV4dGVuZChuLnZhbGlkYXRvci5kZWZhdWx0cyx0KX0sbWVzc2FnZXM6e3JlcXVpcmVkOiJUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLiIscmVtb3RlOiJQbGVhc2UgZml4IHRoaXMgZmllbGQuIixlbWFpbDoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy4iLHVybDoiUGxlYXNlIGVudGVyIGEgdmFsaWQgVVJMLiIsZGF0ZToiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZS4iLGRhdGVJU086IlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUgKElTTykuIixudW1iZXI6IlBsZWFzZSBlbnRlciBhIHZhbGlkIG51bWJlci4iLGRpZ2l0czoiUGxlYXNlIGVudGVyIG9ubHkgZGlnaXRzLiIsZXF1YWxUbzoiUGxlYXNlIGVudGVyIHRoZSBzYW1lIHZhbHVlIGFnYWluLiIsbWF4bGVuZ3RoOm4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIG5vIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVycy4iKSxtaW5sZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYXQgbGVhc3QgezB9IGNoYXJhY3RlcnMuIikscmFuZ2VsZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9IGNoYXJhY3RlcnMgbG9uZy4iKSxyYW5nZTpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0uIiksbWF4Om4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHswfS4iKSxtaW46bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLHN0ZXA6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSBtdWx0aXBsZSBvZiB7MH0uIil9LGF1dG9DcmVhdGVSYW5nZXM6ITEscHJvdG90eXBlOntpbml0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSh0KXt2YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIG4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1uKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKCF0aGlzLmZvcm0mJmUmJih0aGlzLmZvcm09bih0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPW4odGhpcykuYXR0cigibmFtZSIpKSxyPT09dGhpcy5mb3JtKXt2YXIgdT1uLmRhdGEodGhpcy5mb3JtLCJ2YWxpZGF0b3IiKSxmPSJvbiIrdC50eXBlLnJlcGxhY2UoL152YWxpZGF0ZS8sIiIpLGk9dS5zZXR0aW5ncztpW2ZdJiYhbih0aGlzKS5pcyhpLmlnbm9yZSkmJmlbZl0uY2FsbCh1LHRoaXMsdCl9fXRoaXMubGFiZWxDb250YWluZXI9bih0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpO3RoaXMuZXJyb3JDb250ZXh0PXRoaXMubGFiZWxDb250YWluZXIubGVuZ3RoJiZ0aGlzLmxhYmVsQ29udGFpbmVyfHxuKHRoaXMuY3VycmVudEZvcm0pO3RoaXMuY29udGFpbmVycz1uKHRoaXMuc2V0dGluZ3MuZXJyb3JDb250YWluZXIpLmFkZCh0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIpO3RoaXMuc3VibWl0dGVkPXt9O3RoaXMudmFsdWVDYWNoZT17fTt0aGlzLnBlbmRpbmdSZXF1ZXN0PTA7dGhpcy5wZW5kaW5nPXt9O3RoaXMuaW52YWxpZD17fTt0aGlzLnJlc2V0KCk7dmFyIHQscj10aGlzLmN1cnJlbnRGb3JtLHU9dGhpcy5ncm91cHM9e307bi5lYWNoKHRoaXMuc2V0dGluZ3MuZ3JvdXBzLGZ1bmN0aW9uKHQsaSl7InN0cmluZyI9PXR5cGVvZiBpJiYoaT1pLnNwbGl0KC9ccy8pKTtuLmVhY2goaSxmdW5jdGlvbihuLGkpe3VbaV09dH0pfSk7dD10aGlzLnNldHRpbmdzLnJ1bGVzO24uZWFjaCh0LGZ1bmN0aW9uKGkscil7dFtpXT1uLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHIpfSk7bih0aGlzLmN1cnJlbnRGb3JtKS5vbigiZm9jdXNpbi52YWxpZGF0ZSBmb2N1c291dC52YWxpZGF0ZSBrZXl1cC52YWxpZGF0ZSIsIjp0ZXh0LCBbdHlwZT0ncGFzc3dvcmQnXSwgW3R5cGU9J2ZpbGUnXSwgc2VsZWN0LCB0ZXh0YXJlYSwgW3R5cGU9J251bWJlciddLCBbdHlwZT0nc2VhcmNoJ10sIFt0eXBlPSd0ZWwnXSwgW3R5cGU9J3VybCddLCBbdHlwZT0nZW1haWwnXSwgW3R5cGU9J2RhdGV0aW1lJ10sIFt0eXBlPSdkYXRlJ10sIFt0eXBlPSdtb250aCddLCBbdHlwZT0nd2VlayddLCBbdHlwZT0ndGltZSddLCBbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgW3R5cGU9J3JhbmdlJ10sIFt0eXBlPSdjb2xvciddLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10sIFtjb250ZW50ZWRpdGFibGVdLCBbdHlwZT0nYnV0dG9uJ10iLGkpLm9uKCJjbGljay52YWxpZGF0ZSIsInNlbGVjdCwgb3B0aW9uLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J10iLGkpO3RoaXMuc2V0dGluZ3MuaW52YWxpZEhhbmRsZXImJm4odGhpcy5jdXJyZW50Rm9ybSkub24oImludmFsaWQtZm9ybS52YWxpZGF0ZSIsdGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlcil9LGZvcm06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja0Zvcm0oKSxuLmV4dGVuZCh0aGlzLnN1Ym1pdHRlZCx0aGlzLmVycm9yTWFwKSx0aGlzLmludmFsaWQ9bi5leHRlbmQoe30sdGhpcy5lcnJvck1hcCksdGhpcy52YWxpZCgpfHxuKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5zaG93RXJyb3JzKCksdGhpcy52YWxpZCgpfSxjaGVja0Zvcm06ZnVuY3Rpb24oKXt0aGlzLnByZXBhcmVGb3JtKCk7Zm9yKHZhciBuPTAsdD10aGlzLmN1cnJlbnRFbGVtZW50cz10aGlzLmVsZW1lbnRzKCk7dFtuXTtuKyspdGhpcy5jaGVjayh0W25dKTtyZXR1cm4gdGhpcy52YWxpZCgpfSxlbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBlLG8saT10aGlzLmNsZWFuKHQpLHI9dGhpcy52YWxpZGF0aW9uVGFyZ2V0Rm9yKGkpLHU9dGhpcyxmPSEwO3JldHVybiB2b2lkIDA9PT1yP2RlbGV0ZSB0aGlzLmludmFsaWRbaS5uYW1lXToodGhpcy5wcmVwYXJlRWxlbWVudChyKSx0aGlzLmN1cnJlbnRFbGVtZW50cz1uKHIpLG89dGhpcy5ncm91cHNbci5uYW1lXSxvJiZuLmVhY2godGhpcy5ncm91cHMsZnVuY3Rpb24obix0KXt0PT09byYmbiE9PXIubmFtZSYmKGk9dS52YWxpZGF0aW9uVGFyZ2V0Rm9yKHUuY2xlYW4odS5maW5kQnlOYW1lKG4pKSksaSYmaS5uYW1lIGluIHUuaW52YWxpZCYmKHUuY3VycmVudEVsZW1lbnRzLnB1c2goaSksZj11LmNoZWNrKGkpJiZmKSl9KSxlPXRoaXMuY2hlY2socikhPT0hMSxmPWYmJmUsdGhpcy5pbnZhbGlkW3IubmFtZV09ZT8hMTohMCx0aGlzLm51bWJlck9mSW52YWxpZHMoKXx8KHRoaXMudG9IaWRlPXRoaXMudG9IaWRlLmFkZCh0aGlzLmNvbnRhaW5lcnMpKSx0aGlzLnNob3dFcnJvcnMoKSxuKHQpLmF0dHIoImFyaWEtaW52YWxpZCIsIWUpKSxmfSxzaG93RXJyb3JzOmZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBpPXRoaXM7bi5leHRlbmQodGhpcy5lcnJvck1hcCx0KTt0aGlzLmVycm9yTGlzdD1uLm1hcCh0aGlzLmVycm9yTWFwLGZ1bmN0aW9uKG4sdCl7cmV0dXJue21lc3NhZ2U6bixlbGVtZW50OmkuZmluZEJ5TmFtZSh0KVswXX19KTt0aGlzLnN1Y2Nlc3NMaXN0PW4uZ3JlcCh0aGlzLnN1Y2Nlc3NMaXN0LGZ1bmN0aW9uKG4pe3JldHVybiEobi5uYW1lIGluIHQpfSl9dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzP3RoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycy5jYWxsKHRoaXMsdGhpcy5lcnJvck1hcCx0aGlzLmVycm9yTGlzdCk6dGhpcy5kZWZhdWx0U2hvd0Vycm9ycygpfSxyZXNldEZvcm06ZnVuY3Rpb24oKXtuLmZuLnJlc2V0Rm9ybSYmbih0aGlzLmN1cnJlbnRGb3JtKS5yZXNldEZvcm0oKTt0aGlzLmludmFsaWQ9e307dGhpcy5zdWJtaXR0ZWQ9e307dGhpcy5wcmVwYXJlRm9ybSgpO3RoaXMuaGlkZUVycm9ycygpO3ZhciB0PXRoaXMuZWxlbWVudHMoKS5yZW1vdmVEYXRhKCJwcmV2aW91c1ZhbHVlIikucmVtb3ZlQXR0cigiYXJpYS1pbnZhbGlkIik7dGhpcy5yZXNldEVsZW1lbnRzKHQpfSxyZXNldEVsZW1lbnRzOmZ1bmN0aW9uKG4pe3ZhciB0O2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKHQ9MDtuW3RdO3QrKyl0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxuW3RdLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcywiIiksdGhpcy5maW5kQnlOYW1lKG5bdF0ubmFtZSkucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKTtlbHNlIG4ucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpfSxudW1iZXJPZkludmFsaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKHRoaXMuaW52YWxpZCl9LG9iamVjdExlbmd0aDpmdW5jdGlvbihuKXt2YXIgdCxpPTA7Zm9yKHQgaW4gbil2b2lkIDAhPT1uW3RdJiZudWxsIT09blt0XSYmblt0XSE9PSExJiZpKys7cmV0dXJuIGl9LGhpZGVFcnJvcnM6ZnVuY3Rpb24oKXt0aGlzLmhpZGVUaGVzZSh0aGlzLnRvSGlkZSl9LGhpZGVUaGVzZTpmdW5jdGlvbihuKXtuLm5vdCh0aGlzLmNvbnRhaW5lcnMpLnRleHQoIiIpO3RoaXMuYWRkV3JhcHBlcihuKS5oaWRlKCl9LHZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemUoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVycm9yTGlzdC5sZW5ndGh9LGZvY3VzSW52YWxpZDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0dGluZ3MuZm9jdXNJbnZhbGlkKXRyeXtuKHRoaXMuZmluZExhc3RBY3RpdmUoKXx8dGhpcy5lcnJvckxpc3QubGVuZ3RoJiZ0aGlzLmVycm9yTGlzdFswXS5lbGVtZW50fHxbXSkuZmlsdGVyKCI6dmlzaWJsZSIpLnRyaWdnZXIoImZvY3VzIikudHJpZ2dlcigiZm9jdXNpbiIpfWNhdGNoKHQpe319LGZpbmRMYXN0QWN0aXZlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYXN0QWN0aXZlO3JldHVybiB0JiYxPT09bi5ncmVwKHRoaXMuZXJyb3JMaXN0LGZ1bmN0aW9uKG4pe3JldHVybiBuLmVsZW1lbnQubmFtZT09PXQubmFtZX0pLmxlbmd0aCYmdH0sZWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9e307cmV0dXJuIG4odGhpcy5jdXJyZW50Rm9ybSkuZmluZCgiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIFtjb250ZW50ZWRpdGFibGVdIikubm90KCI6c3VibWl0LCA6cmVzZXQsIDppbWFnZSwgOmRpc2FibGVkIikubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgcj10aGlzLm5hbWV8fG4odGhpcykuYXR0cigibmFtZSIpLHU9InVuZGVmaW5lZCIhPXR5cGVvZiBuKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpJiYiZmFsc2UiIT09bih0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKTtyZXR1cm4hciYmdC5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoIiVvIGhhcyBubyBuYW1lIGFzc2lnbmVkIix0aGlzKSx1JiYodGhpcy5mb3JtPW4odGhpcykuY2xvc2VzdCgiZm9ybSIpWzBdLHRoaXMubmFtZT1yKSx0aGlzLmZvcm09PT10LmN1cnJlbnRGb3JtJiYhKHIgaW4gaXx8IXQub2JqZWN0TGVuZ3RoKG4odGhpcykucnVsZXMoKSkpJiYoaVtyXT0hMCwhMCl9KX0sY2xlYW46ZnVuY3Rpb24odCl7cmV0dXJuIG4odClbMF19LGVycm9yczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcy5zcGxpdCgiICIpLmpvaW4oIi4iKTtyZXR1cm4gbih0aGlzLnNldHRpbmdzLmVycm9yRWxlbWVudCsiLiIrdCx0aGlzLmVycm9yQ29udGV4dCl9LHJlc2V0SW50ZXJuYWxzOmZ1bmN0aW9uKCl7dGhpcy5zdWNjZXNzTGlzdD1bXTt0aGlzLmVycm9yTGlzdD1bXTt0aGlzLmVycm9yTWFwPXt9O3RoaXMudG9TaG93PW4oW10pO3RoaXMudG9IaWRlPW4oW10pfSxyZXNldDpmdW5jdGlvbigpe3RoaXMucmVzZXRJbnRlcm5hbHMoKTt0aGlzLmN1cnJlbnRFbGVtZW50cz1uKFtdKX0scHJlcGFyZUZvcm06ZnVuY3Rpb24oKXt0aGlzLnJlc2V0KCk7dGhpcy50b0hpZGU9dGhpcy5lcnJvcnMoKS5hZGQodGhpcy5jb250YWluZXJzKX0scHJlcGFyZUVsZW1lbnQ6ZnVuY3Rpb24obil7dGhpcy5yZXNldCgpO3RoaXMudG9IaWRlPXRoaXMuZXJyb3JzRm9yKG4pfSxlbGVtZW50VmFsdWU6ZnVuY3Rpb24odCl7dmFyIGkscix1PW4odCksZj10LnR5cGUsZT0idW5kZWZpbmVkIiE9dHlwZW9mIHUuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT11LmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiJyYWRpbyI9PT1mfHwiY2hlY2tib3giPT09Zj90aGlzLmZpbmRCeU5hbWUodC5uYW1lKS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCk6Im51bWJlciI9PT1mJiYidW5kZWZpbmVkIiE9dHlwZW9mIHQudmFsaWRpdHk/dC52YWxpZGl0eS5iYWRJbnB1dD8iTmFOIjp1LnZhbCgpOihpPWU/dS50ZXh0KCk6dS52YWwoKSwiZmlsZSI9PT1mPyJDOlxcZmFrZXBhdGhcXCI9PT1pLnN1YnN0cigwLDEyKT9pLnN1YnN0cigxMik6KHI9aS5sYXN0SW5kZXhPZigiLyIpLHI+PTA/aS5zdWJzdHIocisxKToocj1pLmxhc3RJbmRleE9mKCJcXCIpLHI+PTA/aS5zdWJzdHIocisxKTppKSk6InN0cmluZyI9PXR5cGVvZiBpP2kucmVwbGFjZSgvXHIvZywiIik6aSl9LGNoZWNrOmZ1bmN0aW9uKHQpe3Q9dGhpcy52YWxpZGF0aW9uVGFyZ2V0Rm9yKHRoaXMuY2xlYW4odCkpO3ZhciB1LGYscixlLGk9bih0KS5ydWxlcygpLGM9bi5tYXAoaSxmdW5jdGlvbihuLHQpe3JldHVybiB0fSkubGVuZ3RoLHM9ITEsaD10aGlzLmVsZW1lbnRWYWx1ZSh0KTsiZnVuY3Rpb24iPT10eXBlb2YgaS5ub3JtYWxpemVyP2U9aS5ub3JtYWxpemVyOiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLm5vcm1hbGl6ZXImJihlPXRoaXMuc2V0dGluZ3Mubm9ybWFsaXplcik7ZSYmKGg9ZS5jYWxsKHQsaCksZGVsZXRlIGkubm9ybWFsaXplcik7Zm9yKGYgaW4gaSl7cj17bWV0aG9kOmYscGFyYW1ldGVyczppW2ZdfTt0cnl7aWYodT1uLnZhbGlkYXRvci5tZXRob2RzW2ZdLmNhbGwodGhpcyxoLHQsci5wYXJhbWV0ZXJzKSwiZGVwZW5kZW5jeS1taXNtYXRjaCI9PT11JiYxPT09Yyl7cz0hMDtjb250aW51ZX1pZihzPSExLCJwZW5kaW5nIj09PXUpcmV0dXJuIHZvaWQodGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMuZXJyb3JzRm9yKHQpKSk7aWYoIXUpcmV0dXJuIHRoaXMuZm9ybWF0QW5kQWRkKHQsciksITF9Y2F0Y2gobyl7dGhyb3cgdGhpcy5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFeGNlcHRpb24gb2NjdXJyZWQgd2hlbiBjaGVja2luZyBlbGVtZW50ICIrdC5pZCsiLCBjaGVjayB0aGUgJyIrci5tZXRob2QrIicgbWV0aG9kLiIsbyksbyBpbnN0YW5jZW9mIFR5cGVFcnJvciYmKG8ubWVzc2FnZSs9Ii4gIEV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIit0LmlkKyIsIGNoZWNrIHRoZSAnIityLm1ldGhvZCsiJyBtZXRob2QuIiksbzt9fWlmKCFzKXJldHVybiB0aGlzLm9iamVjdExlbmd0aChpKSYmdGhpcy5zdWNjZXNzTGlzdC5wdXNoKHQpLCEwfSxjdXN0b21EYXRhTWVzc2FnZTpmdW5jdGlvbih0LGkpe3JldHVybiBuKHQpLmRhdGEoIm1zZyIraS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpKXx8bih0KS5kYXRhKCJtc2ciKX0sY3VzdG9tTWVzc2FnZTpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuc2V0dGluZ3MubWVzc2FnZXNbbl07cmV0dXJuIGkmJihpLmNvbnN0cnVjdG9yPT09U3RyaW5nP2k6aVt0XSl9LGZpbmREZWZpbmVkOmZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKylpZih2b2lkIDAhPT1hcmd1bWVudHNbbl0pcmV0dXJuIGFyZ3VtZW50c1tuXX0sZGVmYXVsdE1lc3NhZ2U6ZnVuY3Rpb24odCxpKXsic3RyaW5nIj09dHlwZW9mIGkmJihpPXttZXRob2Q6aX0pO3ZhciByPXRoaXMuZmluZERlZmluZWQodGhpcy5jdXN0b21NZXNzYWdlKHQubmFtZSxpLm1ldGhvZCksdGhpcy5jdXN0b21EYXRhTWVzc2FnZSh0LGkubWV0aG9kKSwhdGhpcy5zZXR0aW5ncy5pZ25vcmVUaXRsZSYmdC50aXRsZXx8dm9pZCAwLG4udmFsaWRhdG9yLm1lc3NhZ2VzW2kubWV0aG9kXSwiPHN0cm9uZz5XYXJuaW5nOiBObyBtZXNzYWdlIGRlZmluZWQgZm9yICIrdC5uYW1lKyI8XC9zdHJvbmc+IiksdT0vXCQ/XHsoXGQrKVx9L2c7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHI/cj1yLmNhbGwodGhpcyxpLnBhcmFtZXRlcnMsdCk6dS50ZXN0KHIpJiYocj1uLnZhbGlkYXRvci5mb3JtYXQoci5yZXBsYWNlKHUsInskMX0iKSxpLnBhcmFtZXRlcnMpKSxyfSxmb3JtYXRBbmRBZGQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmRlZmF1bHRNZXNzYWdlKG4sdCk7dGhpcy5lcnJvckxpc3QucHVzaCh7bWVzc2FnZTppLGVsZW1lbnQ6bixtZXRob2Q6dC5tZXRob2R9KTt0aGlzLmVycm9yTWFwW24ubmFtZV09aTt0aGlzLnN1Ym1pdHRlZFtuLm5hbWVdPWl9LGFkZFdyYXBwZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuc2V0dGluZ3Mud3JhcHBlciYmKG49bi5hZGQobi5wYXJlbnQodGhpcy5zZXR0aW5ncy53cmFwcGVyKSkpLG59LGRlZmF1bHRTaG93RXJyb3JzOmZ1bmN0aW9uKCl7Zm9yKHZhciBpLHQsbj0wO3RoaXMuZXJyb3JMaXN0W25dO24rKyl0PXRoaXMuZXJyb3JMaXN0W25dLHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0JiZ0aGlzLnNldHRpbmdzLmhpZ2hsaWdodC5jYWxsKHRoaXMsdC5lbGVtZW50LHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyx0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpLHRoaXMuc2hvd0xhYmVsKHQuZWxlbWVudCx0Lm1lc3NhZ2UpO2lmKHRoaXMuZXJyb3JMaXN0Lmxlbmd0aCYmKHRoaXMudG9TaG93PXRoaXMudG9TaG93LmFkZCh0aGlzLmNvbnRhaW5lcnMpKSx0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpZm9yKG49MDt0aGlzLnN1Y2Nlc3NMaXN0W25dO24rKyl0aGlzLnNob3dMYWJlbCh0aGlzLnN1Y2Nlc3NMaXN0W25dKTtpZih0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0KWZvcihuPTAsaT10aGlzLnZhbGlkRWxlbWVudHMoKTtpW25dO24rKyl0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxpW25dLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyx0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO3RoaXMudG9IaWRlPXRoaXMudG9IaWRlLm5vdCh0aGlzLnRvU2hvdyk7dGhpcy5oaWRlRXJyb3JzKCk7dGhpcy5hZGRXcmFwcGVyKHRoaXMudG9TaG93KS5zaG93KCl9LHZhbGlkRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50RWxlbWVudHMubm90KHRoaXMuaW52YWxpZEVsZW1lbnRzKCkpfSxpbnZhbGlkRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLmVycm9yTGlzdCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0pfSxzaG93TGFiZWw6ZnVuY3Rpb24odCxpKXt2YXIgdSxzLGUsbyxyPXRoaXMuZXJyb3JzRm9yKHQpLGg9dGhpcy5pZE9yTmFtZSh0KSxmPW4odCkuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpO3IubGVuZ3RoPyhyLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcykuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKSxyLmh0bWwoaSkpOihyPW4oIjwiK3RoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyI+IikuYXR0cigiaWQiLGgrIi1lcnJvciIpLmFkZENsYXNzKHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcykuaHRtbChpfHwiIiksdT1yLHRoaXMuc2V0dGluZ3Mud3JhcHBlciYmKHU9ci5oaWRlKCkuc2hvdygpLndyYXAoIjwiK3RoaXMuc2V0dGluZ3Mud3JhcHBlcisiLz4iKS5wYXJlbnQoKSksdGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGg/dGhpcy5sYWJlbENvbnRhaW5lci5hcHBlbmQodSk6dGhpcy5zZXR0aW5ncy5lcnJvclBsYWNlbWVudD90aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50LmNhbGwodGhpcyx1LG4odCkpOnUuaW5zZXJ0QWZ0ZXIodCksci5pcygibGFiZWwiKT9yLmF0dHIoImZvciIsaCk6MD09PXIucGFyZW50cygibGFiZWxbZm9yPSciK3RoaXMuZXNjYXBlQ3NzTWV0YShoKSsiJ10iKS5sZW5ndGgmJihlPXIuYXR0cigiaWQiKSxmP2YubWF0Y2gobmV3IFJlZ0V4cCgiXFxiIit0aGlzLmVzY2FwZUNzc01ldGEoZSkrIlxcYiIpKXx8KGYrPSIgIitlKTpmPWUsbih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixmKSxzPXRoaXMuZ3JvdXBzW3QubmFtZV0scyYmKG89dGhpcyxuLmVhY2goby5ncm91cHMsZnVuY3Rpb24odCxpKXtpPT09cyYmbigiW25hbWU9JyIrby5lc2NhcGVDc3NNZXRhKHQpKyInXSIsby5jdXJyZW50Rm9ybSkuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsci5hdHRyKCJpZCIpKX0pKSkpOyFpJiZ0aGlzLnNldHRpbmdzLnN1Y2Nlc3MmJihyLnRleHQoIiIpLCJzdHJpbmciPT10eXBlb2YgdGhpcy5zZXR0aW5ncy5zdWNjZXNzP3IuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5zdWNjZXNzKTp0aGlzLnNldHRpbmdzLnN1Y2Nlc3Mocix0KSk7dGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHIpfSxlcnJvcnNGb3I6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5lc2NhcGVDc3NNZXRhKHRoaXMuaWRPck5hbWUodCkpLHU9bih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IiksaT0ibGFiZWxbZm9yPSciK3IrIiddLCBsYWJlbFtmb3I9JyIrcisiJ10gKiI7cmV0dXJuIHUmJihpPWkrIiwgIyIrdGhpcy5lc2NhcGVDc3NNZXRhKHUpLnJlcGxhY2UoL1xzKy9nLCIsICMiKSksdGhpcy5lcnJvcnMoKS5maWx0ZXIoaSl9LGVzY2FwZUNzc01ldGE6ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvKFtcXCEiIyQlJicoKSorLC5cLzo7PD0+P0BcW1xdXmB7fH1+XSkvZywiXFwkMSIpfSxpZE9yTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5ncm91cHNbbi5uYW1lXXx8KHRoaXMuY2hlY2thYmxlKG4pP24ubmFtZTpuLmlkfHxuLm5hbWUpfSx2YWxpZGF0aW9uVGFyZ2V0Rm9yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrYWJsZSh0KSYmKHQ9dGhpcy5maW5kQnlOYW1lKHQubmFtZSkpLG4odCkubm90KHRoaXMuc2V0dGluZ3MuaWdub3JlKVswXX0sY2hlY2thYmxlOmZ1bmN0aW9uKG4pe3JldHVybi9yYWRpb3xjaGVja2JveC9pLnRlc3Qobi50eXBlKX0sZmluZEJ5TmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJbbmFtZT0nIit0aGlzLmVzY2FwZUNzc01ldGEodCkrIiddIil9LGdldExlbmd0aDpmdW5jdGlvbih0LGkpe3N3aXRjaChpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2Uic2VsZWN0IjpyZXR1cm4gbigib3B0aW9uOnNlbGVjdGVkIixpKS5sZW5ndGg7Y2FzZSJpbnB1dCI6aWYodGhpcy5jaGVja2FibGUoaSkpcmV0dXJuIHRoaXMuZmluZEJ5TmFtZShpLm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS5sZW5ndGh9cmV0dXJuIHQubGVuZ3RofSxkZXBlbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4hdGhpcy5kZXBlbmRUeXBlc1t0eXBlb2Ygbl18fHRoaXMuZGVwZW5kVHlwZXNbdHlwZW9mIG5dKG4sdCl9LGRlcGVuZFR5cGVzOntib29sZWFuOmZ1bmN0aW9uKG4pe3JldHVybiBufSxzdHJpbmc6ZnVuY3Rpb24odCxpKXtyZXR1cm4hIW4odCxpLmZvcm0pLmxlbmd0aH0sImZ1bmN0aW9uIjpmdW5jdGlvbihuLHQpe3JldHVybiBuKHQpfX0sb3B0aW9uYWw6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5lbGVtZW50VmFsdWUodCk7cmV0dXJuIW4udmFsaWRhdG9yLm1ldGhvZHMucmVxdWlyZWQuY2FsbCh0aGlzLGksdCkmJiJkZXBlbmRlbmN5LW1pc21hdGNoIn0sc3RhcnRSZXF1ZXN0OmZ1bmN0aW9uKHQpe3RoaXMucGVuZGluZ1t0Lm5hbWVdfHwodGhpcy5wZW5kaW5nUmVxdWVzdCsrLG4odCkuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5wZW5kaW5nQ2xhc3MpLHRoaXMucGVuZGluZ1t0Lm5hbWVdPSEwKX0sc3RvcFJlcXVlc3Q6ZnVuY3Rpb24odCxpKXt0aGlzLnBlbmRpbmdSZXF1ZXN0LS07dGhpcy5wZW5kaW5nUmVxdWVzdDwwJiYodGhpcy5wZW5kaW5nUmVxdWVzdD0wKTtkZWxldGUgdGhpcy5wZW5kaW5nW3QubmFtZV07bih0KS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyk7aSYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3QmJnRoaXMuZm9ybVN1Ym1pdHRlZCYmdGhpcy5mb3JtKCk/KG4odGhpcy5jdXJyZW50Rm9ybSkuc3VibWl0KCksdGhpcy5zdWJtaXRCdXR0b24mJm4oImlucHV0OmhpZGRlbltuYW1lPSciK3RoaXMuc3VibWl0QnV0dG9uLm5hbWUrIiddIix0aGlzLmN1cnJlbnRGb3JtKS5yZW1vdmUoKSx0aGlzLmZvcm1TdWJtaXR0ZWQ9ITEpOiFpJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiYobih0aGlzLmN1cnJlbnRGb3JtKS50cmlnZ2VySGFuZGxlcigiaW52YWxpZC1mb3JtIixbdGhpc10pLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSl9LHByZXZpb3VzVmFsdWU6ZnVuY3Rpb24odCxpKXtyZXR1cm4gaT0ic3RyaW5nIj09dHlwZW9mIGkmJml8fCJyZW1vdGUiLG4uZGF0YSh0LCJwcmV2aW91c1ZhbHVlIil8fG4uZGF0YSh0LCJwcmV2aW91c1ZhbHVlIix7b2xkOm51bGwsdmFsaWQ6ITAsbWVzc2FnZTp0aGlzLmRlZmF1bHRNZXNzYWdlKHQse21ldGhvZDppfSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmVzZXRGb3JtKCk7bih0aGlzLmN1cnJlbnRGb3JtKS5vZmYoIi52YWxpZGF0ZSIpLnJlbW92ZURhdGEoInZhbGlkYXRvciIpLmZpbmQoIi52YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1lcXVhbFRvIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikub2ZmKCIudmFsaWRhdGUtbGVzc1RoYW4iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW4tYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1sZXNzVGhhbkVxdWFsLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbkVxdWFsIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLmZpbmQoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIikub2ZmKCIudmFsaWRhdGUtZ3JlYXRlclRoYW4iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW4tYmx1ciIpfX0sY2xhc3NSdWxlU2V0dGluZ3M6e3JlcXVpcmVkOntyZXF1aXJlZDohMH0sZW1haWw6e2VtYWlsOiEwfSx1cmw6e3VybDohMH0sZGF0ZTp7ZGF0ZTohMH0sZGF0ZUlTTzp7ZGF0ZUlTTzohMH0sbnVtYmVyOntudW1iZXI6ITB9LGRpZ2l0czp7ZGlnaXRzOiEwfSxjcmVkaXRjYXJkOntjcmVkaXRjYXJkOiEwfX0sYWRkQ2xhc3NSdWxlczpmdW5jdGlvbih0LGkpe3QuY29uc3RydWN0b3I9PT1TdHJpbmc/dGhpcy5jbGFzc1J1bGVTZXR0aW5nc1t0XT1pOm4uZXh0ZW5kKHRoaXMuY2xhc3NSdWxlU2V0dGluZ3MsdCl9LGNsYXNzUnVsZXM6ZnVuY3Rpb24odCl7dmFyIGk9e30scj1uKHQpLmF0dHIoImNsYXNzIik7cmV0dXJuIHImJm4uZWFjaChyLnNwbGl0KCIgIiksZnVuY3Rpb24oKXt0aGlzIGluIG4udmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzJiZuLmV4dGVuZChpLG4udmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzW3RoaXNdKX0pLGl9LG5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGU6ZnVuY3Rpb24obix0LGkscil7L21pbnxtYXh8c3RlcC8udGVzdChpKSYmKG51bGw9PT10fHwvbnVtYmVyfHJhbmdlfHRleHQvLnRlc3QodCkpJiYocj1OdW1iZXIociksaXNOYU4ocikmJihyPXZvaWQgMCkpO3J8fDA9PT1yP25baV09cjp0PT09aSYmInJhbmdlIiE9PXQmJihuW2ldPSEwKX0sYXR0cmlidXRlUnVsZXM6ZnVuY3Rpb24odCl7dmFyIHIsaSx1PXt9LGY9bih0KSxlPXQuZ2V0QXR0cmlidXRlKCJ0eXBlIik7Zm9yKHIgaW4gbi52YWxpZGF0b3IubWV0aG9kcykicmVxdWlyZWQiPT09cj8oaT10LmdldEF0dHJpYnV0ZShyKSwiIj09PWkmJihpPSEwKSxpPSEhaSk6aT1mLmF0dHIociksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKHUsZSxyLGkpO3JldHVybiB1Lm1heGxlbmd0aCYmLy0xfDIxNDc0ODM2NDd8NTI0Mjg4Ly50ZXN0KHUubWF4bGVuZ3RoKSYmZGVsZXRlIHUubWF4bGVuZ3RoLHV9LGRhdGFSdWxlczpmdW5jdGlvbih0KXt2YXIgaSxyLHU9e30sZj1uKHQpLGU9dC5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IoaSBpbiBuLnZhbGlkYXRvci5tZXRob2RzKXI9Zi5kYXRhKCJydWxlIitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpLCIiPT09ciYmKHI9ITApLHRoaXMubm9ybWFsaXplQXR0cmlidXRlUnVsZSh1LGUsaSxyKTtyZXR1cm4gdX0sc3RhdGljUnVsZXM6ZnVuY3Rpb24odCl7dmFyIGk9e30scj1uLmRhdGEodC5mb3JtLCJ2YWxpZGF0b3IiKTtyZXR1cm4gci5zZXR0aW5ncy5ydWxlcyYmKGk9bi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShyLnNldHRpbmdzLnJ1bGVzW3QubmFtZV0pfHx7fSksaX0sbm9ybWFsaXplUnVsZXM6ZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24ocix1KXtpZih1PT09ITEpcmV0dXJuIHZvaWQgZGVsZXRlIHRbcl07aWYodS5wYXJhbXx8dS5kZXBlbmRzKXt2YXIgZj0hMDtzd2l0Y2godHlwZW9mIHUuZGVwZW5kcyl7Y2FzZSJzdHJpbmciOmY9ISFuKHUuZGVwZW5kcyxpLmZvcm0pLmxlbmd0aDticmVhaztjYXNlImZ1bmN0aW9uIjpmPXUuZGVwZW5kcy5jYWxsKGksaSl9Zj90W3JdPXZvaWQgMD09PXUucGFyYW18fHUucGFyYW06KG4uZGF0YShpLmZvcm0sInZhbGlkYXRvciIpLnJlc2V0RWxlbWVudHMobihpKSksZGVsZXRlIHRbcl0pfX0pLG4uZWFjaCh0LGZ1bmN0aW9uKG4scil7dFtuXT0iZnVuY3Rpb24iPT10eXBlb2YgciYmIm5vcm1hbGl6ZXIiIT09bj9yKGkpOnJ9KSxuLmVhY2goWyJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiXSxmdW5jdGlvbigpe3RbdGhpc10mJih0W3RoaXNdPU51bWJlcih0W3RoaXNdKSl9KSxuLmVhY2goWyJyYW5nZWxlbmd0aCIsInJhbmdlIl0sZnVuY3Rpb24oKXt2YXIgbjt0W3RoaXNdJiYoQXJyYXkuaXNBcnJheSh0W3RoaXNdKT90W3RoaXNdPVtOdW1iZXIodFt0aGlzXVswXSksTnVtYmVyKHRbdGhpc11bMV0pXToic3RyaW5nIj09dHlwZW9mIHRbdGhpc10mJihuPXRbdGhpc10ucmVwbGFjZSgvW1xbXF1dL2csIiIpLnNwbGl0KC9bXHMsXSsvKSx0W3RoaXNdPVtOdW1iZXIoblswXSksTnVtYmVyKG5bMV0pXSkpfSksbi52YWxpZGF0b3IuYXV0b0NyZWF0ZVJhbmdlcyYmKG51bGwhPXQubWluJiZudWxsIT10Lm1heCYmKHQucmFuZ2U9W3QubWluLHQubWF4XSxkZWxldGUgdC5taW4sZGVsZXRlIHQubWF4KSxudWxsIT10Lm1pbmxlbmd0aCYmbnVsbCE9dC5tYXhsZW5ndGgmJih0LnJhbmdlbGVuZ3RoPVt0Lm1pbmxlbmd0aCx0Lm1heGxlbmd0aF0sZGVsZXRlIHQubWlubGVuZ3RoLGRlbGV0ZSB0Lm1heGxlbmd0aCkpLHR9LG5vcm1hbGl6ZVJ1bGU6ZnVuY3Rpb24odCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXt2YXIgaT17fTtuLmVhY2godC5zcGxpdCgvXHMvKSxmdW5jdGlvbigpe2lbdGhpc109ITB9KTt0PWl9cmV0dXJuIHR9LGFkZE1ldGhvZDpmdW5jdGlvbih0LGkscil7bi52YWxpZGF0b3IubWV0aG9kc1t0XT1pO24udmFsaWRhdG9yLm1lc3NhZ2VzW3RdPXZvaWQgMCE9PXI/cjpuLnZhbGlkYXRvci5tZXNzYWdlc1t0XTtpLmxlbmd0aDwzJiZuLnZhbGlkYXRvci5hZGRDbGFzc1J1bGVzKHQsbi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZSh0KSl9LG1ldGhvZHM6e3JlcXVpcmVkOmZ1bmN0aW9uKHQsaSxyKXtpZighdGhpcy5kZXBlbmQocixpKSlyZXR1cm4iZGVwZW5kZW5jeS1taXNtYXRjaCI7aWYoInNlbGVjdCI9PT1pLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciB1PW4oaSkudmFsKCk7cmV0dXJuIHUmJnUubGVuZ3RoPjB9cmV0dXJuIHRoaXMuY2hlY2thYmxlKGkpP3RoaXMuZ2V0TGVuZ3RoKHQsaSk+MDp2b2lkIDAhPT10JiZudWxsIT09dCYmdC5sZW5ndGg+MH0sZW1haWw6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8L15bYS16QS1aMC05LiEjJCUmJyorXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvLnRlc3Qobil9LHVybDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXig/Oig/Oig/Omh0dHBzP3xmdHApOik/XC9cLykoPzpcUysoPzo6XFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XC5cZHsxLDN9KXszfSkoPyEoPzoxNjlcLjI1NHwxOTJcLjE2OCkoPzpcLlxkezEsM30pezJ9KSg/ITE3MlwuKD86MVs2LTldfDJcZHwzWzAtMV0pKD86XC5cZHsxLDN9KXsyfSkoPzpbMS05XVxkP3wxXGRcZHwyWzAxXVxkfDIyWzAtM10pKD86XC4oPzoxP1xkezEsMn18MlswLTRdXGR8MjVbMC01XSkpezJ9KD86XC4oPzpbMS05XVxkP3wxXGRcZHwyWzAtNF1cZHwyNVswLTRdKSl8KD86KD86W2EtejAtOVx1MDBhMS1cdWZmZmZdW2EtejAtOVx1MDBhMS1cdWZmZmZfLV17MCw2Mn0pP1thLXowLTlcdTAwYTEtXHVmZmZmXVwuKSsoPzpbYS16XHUwMGExLVx1ZmZmZl17Mix9XC4/KSkoPzo6XGR7Miw1fSk/KD86W1wvPyNdXFMqKT8kL2kudGVzdChuKX0sZGF0ZTpmdW5jdGlvbigpe3ZhciBuPSExO3JldHVybiBmdW5jdGlvbih0LGkpe3JldHVybiBufHwobj0hMCx0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKCJUaGUgYGRhdGVgIG1ldGhvZCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiAnMi4wLjAnLlxuUGxlYXNlIGRvbid0IHVzZSBpdCwgc2luY2UgaXQgcmVsaWVzIG9uIHRoZSBEYXRlIGNvbnN0cnVjdG9yLCB3aGljaFxuYmVoYXZlcyB2ZXJ5IGRpZmZlcmVudGx5IGFjcm9zcyBicm93c2VycyBhbmQgbG9jYWxlcy4gVXNlIGBkYXRlSVNPYFxuaW5zdGVhZCBvciBvbmUgb2YgdGhlIGxvY2FsZSBzcGVjaWZpYyBtZXRob2RzIGluIGBsb2NhbGl6YXRpb25zL2BcbmFuZCBgYWRkaXRpb25hbC1tZXRob2RzLmpzYC4iKSksdGhpcy5vcHRpb25hbChpKXx8IS9JbnZhbGlkfE5hTi8udGVzdChuZXcgRGF0ZSh0KS50b1N0cmluZygpKX19KCksZGF0ZUlTTzpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXlxkezR9W1wvXC1dKDA/WzEtOV18MVswMTJdKVtcL1wtXSgwP1sxLTldfFsxMl1bMC05XXwzWzAxXSkkLy50ZXN0KG4pfSxudW1iZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8L14oPzotP1xkK3wtP1xkezEsM30oPzosXGR7M30pKyk/KD86XC5cZCspPyQvLnRlc3Qobil9LGRpZ2l0czpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXlxkKyQvLnRlc3Qobil9LG1pbmxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPj1pfSxtYXhsZW5ndGg6ZnVuY3Rpb24obix0LGkpe3ZhciByPUFycmF5LmlzQXJyYXkobik/bi5sZW5ndGg6dGhpcy5nZXRMZW5ndGgobix0KTtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8cjw9aX0scmFuZ2VsZW5ndGg6ZnVuY3Rpb24obix0LGkpe3ZhciByPUFycmF5LmlzQXJyYXkobik/bi5sZW5ndGg6dGhpcy5nZXRMZW5ndGgobix0KTtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8cj49aVswXSYmcjw9aVsxXX0sbWluOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8bj49aX0sbWF4OmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5vcHRpb25hbCh0KXx8bjw9aX0scmFuZ2U6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPj1pWzBdJiZuPD1pWzFdfSxzdGVwOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdSxmPW4oaSkuYXR0cigidHlwZSIpLGg9IlN0ZXAgYXR0cmlidXRlIG9uIGlucHV0IHR5cGUgIitmKyIgaXMgbm90IHN1cHBvcnRlZC4iLGM9bmV3IFJlZ0V4cCgiXFxiIitmKyJcXGIiKSxsPWYmJiFjLnRlc3QoInRleHQsbnVtYmVyLHJhbmdlIiksZT1mdW5jdGlvbihuKXt2YXIgdD0oIiIrbikubWF0Y2goLyg/OlwuKFxkKykpPyQvKTtyZXR1cm4gdCYmdFsxXT90WzFdLmxlbmd0aDowfSxvPWZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLnJvdW5kKG4qTWF0aC5wb3coMTAsdSkpfSxzPSEwO2lmKGwpdGhyb3cgbmV3IEVycm9yKGgpO3JldHVybiB1PWUociksKGUodCk+dXx8byh0KSVvKHIpIT0wKSYmKHM9ITEpLHRoaXMub3B0aW9uYWwoaSl8fHN9LGVxdWFsVG86ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4ocik7cmV0dXJuIHRoaXMuc2V0dGluZ3Mub25mb2N1c291dCYmdS5ub3QoIi52YWxpZGF0ZS1lcXVhbFRvLWJsdXIiKS5sZW5ndGgmJnUuYWRkQ2xhc3MoInZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLm9uKCJibHVyLnZhbGlkYXRlLWVxdWFsVG8iLGZ1bmN0aW9uKCl7bihpKS52YWxpZCgpfSksdD09PXUudmFsKCl9LHJlbW90ZTpmdW5jdGlvbih0LGkscix1KXtpZih0aGlzLm9wdGlvbmFsKGkpKXJldHVybiJkZXBlbmRlbmN5LW1pc21hdGNoIjt1PSJzdHJpbmciPT10eXBlb2YgdSYmdXx8InJlbW90ZSI7dmFyIGYsbyxzLGU9dGhpcy5wcmV2aW91c1ZhbHVlKGksdSk7cmV0dXJuIHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXXx8KHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXT17fSksZS5vcmlnaW5hbE1lc3NhZ2U9ZS5vcmlnaW5hbE1lc3NhZ2V8fHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XSx0aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2kubmFtZV1bdV09ZS5tZXNzYWdlLHI9InN0cmluZyI9PXR5cGVvZiByJiZ7dXJsOnJ9fHxyLHM9bi5wYXJhbShuLmV4dGVuZCh7ZGF0YTp0fSxyLmRhdGEpKSxlLm9sZD09PXM/ZS52YWxpZDooZS5vbGQ9cyxmPXRoaXMsdGhpcy5zdGFydFJlcXVlc3QoaSksbz17fSxvW2kubmFtZV09dCxuLmFqYXgobi5leHRlbmQoITAse21vZGU6ImFib3J0Iixwb3J0OiJ2YWxpZGF0ZSIraS5uYW1lLGRhdGFUeXBlOiJqc29uIixkYXRhOm8sY29udGV4dDpmLmN1cnJlbnRGb3JtLHN1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIHIscyxoLG89bj09PSEwfHwidHJ1ZSI9PT1uO2Yuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XT1lLm9yaWdpbmFsTWVzc2FnZTtvPyhoPWYuZm9ybVN1Ym1pdHRlZCxmLnJlc2V0SW50ZXJuYWxzKCksZi50b0hpZGU9Zi5lcnJvcnNGb3IoaSksZi5mb3JtU3VibWl0dGVkPWgsZi5zdWNjZXNzTGlzdC5wdXNoKGkpLGYuaW52YWxpZFtpLm5hbWVdPSExLGYuc2hvd0Vycm9ycygpKToocj17fSxzPW58fGYuZGVmYXVsdE1lc3NhZ2UoaSx7bWV0aG9kOnUscGFyYW1ldGVyczp0fSkscltpLm5hbWVdPWUubWVzc2FnZT1zLGYuaW52YWxpZFtpLm5hbWVdPSEwLGYuc2hvd0Vycm9ycyhyKSk7ZS52YWxpZD1vO2Yuc3RvcFJlcXVlc3QoaSxvKX19LHIpKSwicGVuZGluZyIpfX19KSx0PXt9LG4uYWpheFByZWZpbHRlcj9uLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obixpLHIpe3ZhciB1PW4ucG9ydDsiYWJvcnQiPT09bi5tb2RlJiYodFt1XSYmdFt1XS5hYm9ydCgpLHRbdV09cil9KToocj1uLmFqYXgsbi5hamF4PWZ1bmN0aW9uKGkpe3ZhciBmPSgibW9kZSJpbiBpP2k6bi5hamF4U2V0dGluZ3MpLm1vZGUsdT0oInBvcnQiaW4gaT9pOm4uYWpheFNldHRpbmdzKS5wb3J0O3JldHVybiJhYm9ydCI9PT1mPyh0W3VdJiZ0W3VdLmFib3J0KCksdFt1XT1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0W3VdKTpyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLG59KTshZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoImpxdWVyeS52YWxpZGF0ZS51bm9idHJ1c2l2ZSIsWyJqcXVlcnktdmFsaWRhdGlvbiJdLG4pOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKHJlcXVpcmUoImpxdWVyeS12YWxpZGF0aW9uIikpOmpRdWVyeS52YWxpZGF0b3IudW5vYnRydXNpdmU9bihqUXVlcnkpfShmdW5jdGlvbihuKXtmdW5jdGlvbiBpKG4sdCxpKXtuLnJ1bGVzW3RdPWk7bi5tZXNzYWdlJiYobi5tZXNzYWdlc1t0XT1uLm1lc3NhZ2UpfWZ1bmN0aW9uIGgobil7cmV0dXJuIG4ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLnNwbGl0KC9ccyosXHMqL2cpfWZ1bmN0aW9uIGYobil7cmV0dXJuIG4ucmVwbGFjZSgvKFshIiMkJSYnKCkqKywuXC86Ozw9Pj9AXFtcXFxdXmB7fH1+XSkvZywiXFwkMSIpfWZ1bmN0aW9uIGUobil7cmV0dXJuIG4uc3Vic3RyKDAsbi5sYXN0SW5kZXhPZigiLiIpKzEpfWZ1bmN0aW9uIG8obix0KXtyZXR1cm4gMD09PW4uaW5kZXhPZigiKi4iKSYmKG49bi5yZXBsYWNlKCIqLiIsdCkpLG59ZnVuY3Rpb24gYyh0LGkpe3ZhciByPW4odGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLWZvcj0nIitmKGlbMF0ubmFtZSkrIiddIiksdT1yLmF0dHIoImRhdGEtdmFsbXNnLXJlcGxhY2UiKSxlPXU/bi5wYXJzZUpTT04odSkhPT0hMTpudWxsO3IucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tdmFsaWQiKS5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpO3QuZGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiLHIpO2U/KHIuZW1wdHkoKSx0LnJlbW92ZUNsYXNzKCJpbnB1dC12YWxpZGF0aW9uLWVycm9yIikuYXBwZW5kVG8ocikpOnQuaGlkZSgpfWZ1bmN0aW9uIGwodCxpKXt2YXIgdT1uKHRoaXMpLmZpbmQoIltkYXRhLXZhbG1zZy1zdW1tYXJ5PXRydWVdIikscj11LmZpbmQoInVsIik7ciYmci5sZW5ndGgmJmkuZXJyb3JMaXN0Lmxlbmd0aCYmKHIuZW1wdHkoKSx1LmFkZENsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIikucmVtb3ZlQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS12YWxpZCIpLG4uZWFjaChpLmVycm9yTGlzdCxmdW5jdGlvbigpe24oIjxsaSAvPiIpLmh0bWwodGhpcy5tZXNzYWdlKS5hcHBlbmRUbyhyKX0pKX1mdW5jdGlvbiBhKHQpe3ZhciBpPXQuZGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKSxyLHU7aSYmKHI9aS5hdHRyKCJkYXRhLXZhbG1zZy1yZXBsYWNlIiksdT1yP24ucGFyc2VKU09OKHIpOm51bGwsaS5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIiksdC5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLHUmJmkuZW1wdHkoKSl9ZnVuY3Rpb24gdigpe3ZhciB0PW4odGhpcyksaT0iX19qcXVlcnlfdW5vYnRydXNpdmVfdmFsaWRhdGlvbl9mb3JtX3Jlc2V0IjtpZighdC5kYXRhKGkpKXt0LmRhdGEoaSwhMCk7dHJ5e3QuZGF0YSgidmFsaWRhdG9yIikucmVzZXRGb3JtKCl9ZmluYWxseXt0LnJlbW92ZURhdGEoaSl9dC5maW5kKCIudmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9ycyIpLmFkZENsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktdmFsaWQiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LWVycm9ycyIpO3QuZmluZCgiLmZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5hZGRDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLnJlbW92ZUNsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKS5maW5kKCI+KiIpLnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIil9fWZ1bmN0aW9uIHModCl7dmFyIGk9bih0KSxmPWkuZGF0YSh1KSxzPW4ucHJveHkodix0KSxlPXIudW5vYnRydXNpdmUub3B0aW9uc3x8e30sbz1mdW5jdGlvbihpLHIpe3ZhciB1PWVbaV07dSYmbi5pc0Z1bmN0aW9uKHUpJiZ1LmFwcGx5KHQscil9O3JldHVybiBmfHwoZj17b3B0aW9uczp7ZXJyb3JDbGFzczplLmVycm9yQ2xhc3N8fCJpbnB1dC12YWxpZGF0aW9uLWVycm9yIixlcnJvckVsZW1lbnQ6ZS5lcnJvckVsZW1lbnR8fCJzcGFuIixlcnJvclBsYWNlbWVudDpmdW5jdGlvbigpe2MuYXBwbHkodCxhcmd1bWVudHMpO28oImVycm9yUGxhY2VtZW50Iixhcmd1bWVudHMpfSxpbnZhbGlkSGFuZGxlcjpmdW5jdGlvbigpe2wuYXBwbHkodCxhcmd1bWVudHMpO28oImludmFsaWRIYW5kbGVyIixhcmd1bWVudHMpfSxtZXNzYWdlczp7fSxydWxlczp7fSxzdWNjZXNzOmZ1bmN0aW9uKCl7YS5hcHBseSh0LGFyZ3VtZW50cyk7bygic3VjY2VzcyIsYXJndW1lbnRzKX19LGF0dGFjaFZhbGlkYXRpb246ZnVuY3Rpb24oKXtpLm9mZigicmVzZXQuIit1LHMpLm9uKCJyZXNldC4iK3UscykudmFsaWRhdGUodGhpcy5vcHRpb25zKX0sdmFsaWRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaS52YWxpZGF0ZSgpLGkudmFsaWQoKX19LGkuZGF0YSh1LGYpKSxmfXZhciB0LHI9bi52YWxpZGF0b3IsdT0idW5vYnRydXNpdmVWYWxpZGF0aW9uIjtyZXR1cm4gci51bm9idHJ1c2l2ZT17YWRhcHRlcnM6W10scGFyc2VFbGVtZW50OmZ1bmN0aW9uKHQsaSl7dmFyIHIsdSxvLGY9bih0KSxlPWYucGFyZW50cygiZm9ybSIpWzBdO2UmJihyPXMoZSksci5vcHRpb25zLnJ1bGVzW3QubmFtZV09dT17fSxyLm9wdGlvbnMubWVzc2FnZXNbdC5uYW1lXT1vPXt9LG4uZWFjaCh0aGlzLmFkYXB0ZXJzLGZ1bmN0aW9uKCl7dmFyIGk9ImRhdGEtdmFsLSIrdGhpcy5uYW1lLHI9Zi5hdHRyKGkpLHM9e307dm9pZCAwIT09ciYmKGkrPSItIixuLmVhY2godGhpcy5wYXJhbXMsZnVuY3Rpb24oKXtzW3RoaXNdPWYuYXR0cihpK3RoaXMpfSksdGhpcy5hZGFwdCh7ZWxlbWVudDp0LGZvcm06ZSxtZXNzYWdlOnIscGFyYW1zOnMscnVsZXM6dSxtZXNzYWdlczpvfSkpfSksbi5leHRlbmQodSx7X19kdW1teV9fOiEwfSksaXx8ci5hdHRhY2hWYWxpZGF0aW9uKCkpfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgaT1uKHQpLHU9aS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcigiZm9ybSIpLmFkZChpLmZpbmQoImZvcm0iKSkuaGFzKCJbZGF0YS12YWw9dHJ1ZV0iKTtpLmZpbmQoIltkYXRhLXZhbD10cnVlXSIpLmVhY2goZnVuY3Rpb24oKXtyLnVub2J0cnVzaXZlLnBhcnNlRWxlbWVudCh0aGlzLCEwKX0pO3UuZWFjaChmdW5jdGlvbigpe3ZhciBuPXModGhpcyk7biYmbi5hdHRhY2hWYWxpZGF0aW9uKCl9KX19LHQ9ci51bm9idHJ1c2l2ZS5hZGFwdGVycyx0LmFkZD1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIGl8fChpPXQsdD1bXSksdGhpcy5wdXNoKHtuYW1lOm4scGFyYW1zOnQsYWRhcHQ6aX0pLHRoaXN9LHQuYWRkQm9vbD1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmFkZChuLGZ1bmN0aW9uKHIpe2kocix0fHxuLCEwKX0pfSx0LmFkZE1pbk1heD1mdW5jdGlvbihuLHQscix1LGYsZSl7cmV0dXJuIHRoaXMuYWRkKG4sW2Z8fCJtaW4iLGV8fCJtYXgiXSxmdW5jdGlvbihuKXt2YXIgZj1uLnBhcmFtcy5taW4sZT1uLnBhcmFtcy5tYXg7ZiYmZT9pKG4sdSxbZixlXSk6Zj9pKG4sdCxmKTplJiZpKG4scixlKX0pfSx0LmFkZFNpbmdsZVZhbD1mdW5jdGlvbihuLHQscil7cmV0dXJuIHRoaXMuYWRkKG4sW3R8fCJ2YWwiXSxmdW5jdGlvbih1KXtpKHUscnx8bix1LnBhcmFtc1t0XSl9KX0sci5hZGRNZXRob2QoIl9fZHVtbXlfXyIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pLHIuYWRkTWV0aG9kKCJyZWdleCIsZnVuY3Rpb24obix0LGkpe3ZhciByO3JldHVybiEhdGhpcy5vcHRpb25hbCh0KXx8KHI9bmV3IFJlZ0V4cChpKS5leGVjKG4pLHImJjA9PT1yLmluZGV4JiZyWzBdLmxlbmd0aD09PW4ubGVuZ3RoKX0pLHIuYWRkTWV0aG9kKCJub25hbHBoYW1pbiIsZnVuY3Rpb24obix0LGkpe3ZhciByO3JldHVybiBpJiYocj1uLm1hdGNoKC9cVy9nKSxyPXImJnIubGVuZ3RoPj1pKSxyfSksci5tZXRob2RzLmV4dGVuc2lvbj8odC5hZGRTaW5nbGVWYWwoImFjY2VwdCIsIm1pbXR5cGUiKSx0LmFkZFNpbmdsZVZhbCgiZXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIikpOnQuYWRkU2luZ2xlVmFsKCJleHRlbnNpb24iLCJleHRlbnNpb24iLCJhY2NlcHQiKSx0LmFkZFNpbmdsZVZhbCgicmVnZXgiLCJwYXR0ZXJuIiksdC5hZGRCb29sKCJjcmVkaXRjYXJkIikuYWRkQm9vbCgiZGF0ZSIpLmFkZEJvb2woImRpZ2l0cyIpLmFkZEJvb2woImVtYWlsIikuYWRkQm9vbCgibnVtYmVyIikuYWRkQm9vbCgidXJsIiksdC5hZGRNaW5NYXgoImxlbmd0aCIsIm1pbmxlbmd0aCIsIm1heGxlbmd0aCIsInJhbmdlbGVuZ3RoIikuYWRkTWluTWF4KCJyYW5nZSIsIm1pbiIsIm1heCIsInJhbmdlIiksdC5hZGRNaW5NYXgoIm1pbmxlbmd0aCIsIm1pbmxlbmd0aCIpLmFkZE1pbk1heCgibWF4bGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiksdC5hZGQoImVxdWFsdG8iLFsib3RoZXIiXSxmdW5jdGlvbih0KXt2YXIgcj1lKHQuZWxlbWVudC5uYW1lKSx1PXQucGFyYW1zLm90aGVyLHM9byh1LHIpLGg9bih0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrZihzKSsiJ10iKVswXTtpKHQsImVxdWFsVG8iLGgpfSksdC5hZGQoInJlcXVpcmVkIixmdW5jdGlvbihuKXsiSU5QVVQiPT09bi5lbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKSYmIkNIRUNLQk9YIj09PW4uZWxlbWVudC50eXBlLnRvVXBwZXJDYXNlKCl8fGkobiwicmVxdWlyZWQiLCEwKX0pLHQuYWRkKCJyZW1vdGUiLFsidXJsIiwidHlwZSIsImFkZGl0aW9uYWxmaWVsZHMiXSxmdW5jdGlvbih0KXt2YXIgcj17dXJsOnQucGFyYW1zLnVybCx0eXBlOnQucGFyYW1zLnR5cGV8fCJHRVQiLGRhdGE6e319LHU9ZSh0LmVsZW1lbnQubmFtZSk7bi5lYWNoKGgodC5wYXJhbXMuYWRkaXRpb25hbGZpZWxkc3x8dC5lbGVtZW50Lm5hbWUpLGZ1bmN0aW9uKGksZSl7dmFyIHM9byhlLHUpO3IuZGF0YVtzXT1mdW5jdGlvbigpe3ZhciBpPW4odC5mb3JtKS5maW5kKCI6aW5wdXQiKS5maWx0ZXIoIltuYW1lPSciK2YocykrIiddIik7cmV0dXJuIGkuaXMoIjpjaGVja2JveCIpP2kuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHxpLmZpbHRlcigiOmhpZGRlbiIpLnZhbCgpfHwiIjppLmlzKCI6cmFkaW8iKT9pLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKXx8IiI6aS52YWwoKX19KTtpKHQsInJlbW90ZSIscil9KSx0LmFkZCgicGFzc3dvcmQiLFsibWluIiwibm9uYWxwaGFtaW4iLCJyZWdleCJdLGZ1bmN0aW9uKG4pe24ucGFyYW1zLm1pbiYmaShuLCJtaW5sZW5ndGgiLG4ucGFyYW1zLm1pbik7bi5wYXJhbXMubm9uYWxwaGFtaW4mJmkobiwibm9uYWxwaGFtaW4iLG4ucGFyYW1zLm5vbmFscGhhbWluKTtuLnBhcmFtcy5yZWdleCYmaShuLCJyZWdleCIsbi5wYXJhbXMucmVnZXgpfSksdC5hZGQoImZpbGVleHRlbnNpb25zIixbImV4dGVuc2lvbnMiXSxmdW5jdGlvbihuKXtpKG4sImV4dGVuc2lvbiIsbi5wYXJhbXMuZXh0ZW5zaW9ucyl9KSxuKGZ1bmN0aW9uKCl7ci51bm9idHJ1c2l2ZS5wYXJzZShkb2N1bWVudCl9KSxyLnVub2J0cnVzaXZlfSk7Ci8qISBqUXVlcnkgVUkgLSB2MS4xMi4xIC0gMjAxNi0wOS0xNAoqIGh0dHA6Ly9qcXVlcnl1aS5jb20KKiBJbmNsdWRlczogd2lkZ2V0LmpzLCBwb3NpdGlvbi5qcywgZGF0YS5qcywgZGlzYWJsZS1zZWxlY3Rpb24uanMsIGVmZmVjdC5qcywgZWZmZWN0cy9lZmZlY3QtYmxpbmQuanMsIGVmZmVjdHMvZWZmZWN0LWJvdW5jZS5qcywgZWZmZWN0cy9lZmZlY3QtY2xpcC5qcywgZWZmZWN0cy9lZmZlY3QtZHJvcC5qcywgZWZmZWN0cy9lZmZlY3QtZXhwbG9kZS5qcywgZWZmZWN0cy9lZmZlY3QtZmFkZS5qcywgZWZmZWN0cy9lZmZlY3QtZm9sZC5qcywgZWZmZWN0cy9lZmZlY3QtaGlnaGxpZ2h0LmpzLCBlZmZlY3RzL2VmZmVjdC1wdWZmLmpzLCBlZmZlY3RzL2VmZmVjdC1wdWxzYXRlLmpzLCBlZmZlY3RzL2VmZmVjdC1zY2FsZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2hha2UuanMsIGVmZmVjdHMvZWZmZWN0LXNpemUuanMsIGVmZmVjdHMvZWZmZWN0LXNsaWRlLmpzLCBlZmZlY3RzL2VmZmVjdC10cmFuc2Zlci5qcywgZm9jdXNhYmxlLmpzLCBmb3JtLXJlc2V0LW1peGluLmpzLCBqcXVlcnktMS03LmpzLCBrZXljb2RlLmpzLCBsYWJlbHMuanMsIHNjcm9sbC1wYXJlbnQuanMsIHRhYmJhYmxlLmpzLCB1bmlxdWUtaWQuanMsIHdpZGdldHMvYWNjb3JkaW9uLmpzLCB3aWRnZXRzL2F1dG9jb21wbGV0ZS5qcywgd2lkZ2V0cy9idXR0b24uanMsIHdpZGdldHMvY2hlY2tib3hyYWRpby5qcywgd2lkZ2V0cy9jb250cm9sZ3JvdXAuanMsIHdpZGdldHMvZGF0ZXBpY2tlci5qcywgd2lkZ2V0cy9kaWFsb2cuanMsIHdpZGdldHMvZHJhZ2dhYmxlLmpzLCB3aWRnZXRzL2Ryb3BwYWJsZS5qcywgd2lkZ2V0cy9tZW51LmpzLCB3aWRnZXRzL21vdXNlLmpzLCB3aWRnZXRzL3Byb2dyZXNzYmFyLmpzLCB3aWRnZXRzL3Jlc2l6YWJsZS5qcywgd2lkZ2V0cy9zZWxlY3RhYmxlLmpzLCB3aWRnZXRzL3NlbGVjdG1lbnUuanMsIHdpZGdldHMvc2xpZGVyLmpzLCB3aWRnZXRzL3NvcnRhYmxlLmpzLCB3aWRnZXRzL3NwaW5uZXIuanMsIHdpZGdldHMvdGFicy5qcywgd2lkZ2V0cy90b29sdGlwLmpzCiogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVCAqLwooZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKTpuKGpRdWVyeSl9KShmdW5jdGlvbihuKXtmdW5jdGlvbiBiKG4pe2Zvcih2YXIgdD1uLmNzcygidmlzaWJpbGl0eSIpOyJpbmhlcml0Ij09PXQ7KW49bi5wYXJlbnQoKSx0PW4uY3NzKCJ2aXNpYmlsaXR5Iik7cmV0dXJuImhpZGRlbiIhPT10fWZ1bmN0aW9uIGsobil7Zm9yKHZhciB0LGk7bi5sZW5ndGgmJm5bMF0hPT1kb2N1bWVudDspe2lmKHQ9bi5jc3MoInBvc2l0aW9uIiksKCJhYnNvbHV0ZSI9PT10fHwicmVsYXRpdmUiPT09dHx8ImZpeGVkIj09PXQpJiYoaT1wYXJzZUludChuLmNzcygiekluZGV4IiksMTApLCFpc05hTihpKSYmMCE9PWkpKXJldHVybiBpO249bi5wYXJlbnQoKX1yZXR1cm4gMH1mdW5jdGlvbiBjKCl7dGhpcy5fY3VySW5zdD1udWxsO3RoaXMuX2tleUV2ZW50PSExO3RoaXMuX2Rpc2FibGVkSW5wdXRzPVtdO3RoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExO3RoaXMuX2luRGlhbG9nPSExO3RoaXMuX21haW5EaXZJZD0idWktZGF0ZXBpY2tlci1kaXYiO3RoaXMuX2lubGluZUNsYXNzPSJ1aS1kYXRlcGlja2VyLWlubGluZSI7dGhpcy5fYXBwZW5kQ2xhc3M9InVpLWRhdGVwaWNrZXItYXBwZW5kIjt0aGlzLl90cmlnZ2VyQ2xhc3M9InVpLWRhdGVwaWNrZXItdHJpZ2dlciI7dGhpcy5fZGlhbG9nQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlhbG9nIjt0aGlzLl9kaXNhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItZGlzYWJsZWQiO3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzPSJ1aS1kYXRlcGlja2VyLXVuc2VsZWN0YWJsZSI7dGhpcy5fY3VycmVudENsYXNzPSJ1aS1kYXRlcGlja2VyLWN1cnJlbnQtZGF5Ijt0aGlzLl9kYXlPdmVyQ2xhc3M9InVpLWRhdGVwaWNrZXItZGF5cy1jZWxsLW92ZXIiO3RoaXMucmVnaW9uYWw9W107dGhpcy5yZWdpb25hbFsiIl09e2Nsb3NlVGV4dDoiRG9uZSIscHJldlRleHQ6IlByZXYiLG5leHRUZXh0OiJOZXh0IixjdXJyZW50VGV4dDoiVG9kYXkiLG1vbnRoTmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoTmFtZXNTaG9ydDpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdLGRheU5hbWVzOlsiU3VuZGF5IiwiTW9uZGF5IiwiVHVlc2RheSIsIldlZG5lc2RheSIsIlRodXJzZGF5IiwiRnJpZGF5IiwiU2F0dXJkYXkiXSxkYXlOYW1lc1Nob3J0OlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sZGF5TmFtZXNNaW46WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdLHdlZWtIZWFkZXI6IldrIixkYXRlRm9ybWF0OiJtbS9kZC95eSIsZmlyc3REYXk6MCxpc1JUTDohMSxzaG93TW9udGhBZnRlclllYXI6ITEseWVhclN1ZmZpeDoiIn07dGhpcy5fZGVmYXVsdHM9e3Nob3dPbjoiZm9jdXMiLHNob3dBbmltOiJmYWRlSW4iLHNob3dPcHRpb25zOnt9LGRlZmF1bHREYXRlOm51bGwsYXBwZW5kVGV4dDoiIixidXR0b25UZXh0OiIuLi4iLGJ1dHRvbkltYWdlOiIiLGJ1dHRvbkltYWdlT25seTohMSxoaWRlSWZOb1ByZXZOZXh0OiExLG5hdmlnYXRpb25Bc0RhdGVGb3JtYXQ6ITEsZ290b0N1cnJlbnQ6ITEsY2hhbmdlTW9udGg6ITEsY2hhbmdlWWVhcjohMSx5ZWFyUmFuZ2U6ImMtMTA6YysxMCIsc2hvd090aGVyTW9udGhzOiExLHNlbGVjdE90aGVyTW9udGhzOiExLHNob3dXZWVrOiExLGNhbGN1bGF0ZVdlZWs6dGhpcy5pc284NjAxV2VlayxzaG9ydFllYXJDdXRvZmY6IisxMCIsbWluRGF0ZTpudWxsLG1heERhdGU6bnVsbCxkdXJhdGlvbjoiZmFzdCIsYmVmb3JlU2hvd0RheTpudWxsLGJlZm9yZVNob3c6bnVsbCxvblNlbGVjdDpudWxsLG9uQ2hhbmdlTW9udGhZZWFyOm51bGwsb25DbG9zZTpudWxsLG51bWJlck9mTW9udGhzOjEsc2hvd0N1cnJlbnRBdFBvczowLHN0ZXBNb250aHM6MSxzdGVwQmlnTW9udGhzOjEyLGFsdEZpZWxkOiIiLGFsdEZvcm1hdDoiIixjb25zdHJhaW5JbnB1dDohMCxzaG93QnV0dG9uUGFuZWw6ITEsYXV0b1NpemU6ITEsZGlzYWJsZWQ6ITF9O24uZXh0ZW5kKHRoaXMuX2RlZmF1bHRzLHRoaXMucmVnaW9uYWxbIiJdKTt0aGlzLnJlZ2lvbmFsLmVuPW4uZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWxbIiJdKTt0aGlzLnJlZ2lvbmFsWyJlbi1VUyJdPW4uZXh0ZW5kKCEwLHt9LHRoaXMucmVnaW9uYWwuZW4pO3RoaXMuZHBEaXY9bChuKCI8ZGl2IGlkPSciK3RoaXMuX21haW5EaXZJZCsiJyBjbGFzcz0ndWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjxcL2Rpdj4iKSl9ZnVuY3Rpb24gbCh0KXt2YXIgaT0iYnV0dG9uLCAudWktZGF0ZXBpY2tlci1wcmV2LCAudWktZGF0ZXBpY2tlci1uZXh0LCAudWktZGF0ZXBpY2tlci1jYWxlbmRhciB0ZCBhIjtyZXR1cm4gdC5vbigibW91c2VvdXQiLGksZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpOy0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikmJm4odGhpcykucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItcHJldi1ob3ZlciIpOy0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikmJm4odGhpcykucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlciIpfSkub24oIm1vdXNlb3ZlciIsaSxhKX1mdW5jdGlvbiBhKCl7bi5kYXRlcGlja2VyLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihpLmlubGluZT9pLmRwRGl2LnBhcmVudCgpWzBdOmkuaW5wdXRbMF0pfHwobih0aGlzKS5wYXJlbnRzKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpLmZpbmQoImEiKS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSxuKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLC0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikmJm4odGhpcykuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItcHJldi1ob3ZlciIpLC0xIT09dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikmJm4odGhpcykuYWRkQ2xhc3MoInVpLWRhdGVwaWNrZXItbmV4dC1ob3ZlciIpKX1mdW5jdGlvbiB1KHQsaSl7bi5leHRlbmQodCxpKTtmb3IodmFyIHIgaW4gaSludWxsPT1pW3JdJiYodFtyXT1pW3JdKTtyZXR1cm4gdH1mdW5jdGlvbiB0KG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC52YWwoKTtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yZWZyZXNoKCk7dCE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIil9fXZhciB2LG8scCx3LGkscixlO24udWk9bi51aXx8e307bi51aS52ZXJzaW9uPSIxLjEyLjEiO3Y9MDtvPUFycmF5LnByb3RvdHlwZS5zbGljZTtuLmNsZWFuRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7Zm9yKHZhciByLHUsZj0wO251bGwhPSh1PWlbZl0pO2YrKyl0cnl7cj1uLl9kYXRhKHUsImV2ZW50cyIpO3ImJnIucmVtb3ZlJiZuKHUpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX1jYXRjaChlKXt9dChpKX19KG4uY2xlYW5EYXRhKTtuLndpZGdldD1mdW5jdGlvbih0LGkscil7dmFyIGYsdSxvLGg9e30sZT10LnNwbGl0KCIuIilbMF0scztyZXR1cm4gdD10LnNwbGl0KCIuIilbMV0scz1lKyItIit0LHJ8fChyPWksaT1uLldpZGdldCksbi5pc0FycmF5KHIpJiYocj1uLmV4dGVuZC5hcHBseShudWxsLFt7fV0uY29uY2F0KHIpKSksbi5leHByWyI6Il1bcy50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbih0KXtyZXR1cm4hIW4uZGF0YSh0LHMpfSxuW2VdPW5bZV18fHt9LGY9bltlXVt0XSx1PW5bZV1bdF09ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0Pyhhcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQobix0KSx2b2lkIDApOm5ldyB1KG4sdCl9LG4uZXh0ZW5kKHUsZix7dmVyc2lvbjpyLnZlcnNpb24sX3Byb3RvOm4uZXh0ZW5kKHt9LHIpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLG89bmV3IGksby5vcHRpb25zPW4ud2lkZ2V0LmV4dGVuZCh7fSxvLm9wdGlvbnMpLG4uZWFjaChyLGZ1bmN0aW9uKHQscil7cmV0dXJuIG4uaXNGdW5jdGlvbihyKT8oaFt0XT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4oKXtyZXR1cm4gaS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHUobil7cmV0dXJuIGkucHJvdG90eXBlW3RdLmFwcGx5KHRoaXMsbil9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLl9zdXBlcixmPXRoaXMuX3N1cGVyQXBwbHk7cmV0dXJuIHRoaXMuX3N1cGVyPW4sdGhpcy5fc3VwZXJBcHBseT11LHQ9ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fc3VwZXI9aSx0aGlzLl9zdXBlckFwcGx5PWYsdH19KCksdm9pZCAwKTooaFt0XT1yLHZvaWQgMCl9KSx1LnByb3RvdHlwZT1uLndpZGdldC5leHRlbmQobyx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9vLndpZGdldEV2ZW50UHJlZml4fHx0OnR9LGgse2NvbnN0cnVjdG9yOnUsbmFtZXNwYWNlOmUsd2lkZ2V0TmFtZTp0LHdpZGdldEZ1bGxOYW1lOnN9KSxmPyhuLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24odCxpKXt2YXIgcj1pLnByb3RvdHlwZTtuLndpZGdldChyLm5hbWVzcGFjZSsiLiIrci53aWRnZXROYW1lLHUsaS5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTppLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKHUpLG4ud2lkZ2V0LmJyaWRnZSh0LHUpLHV9O24ud2lkZ2V0LmV4dGVuZD1mdW5jdGlvbih0KXtmb3IodmFyIGkscixmPW8uY2FsbChhcmd1bWVudHMsMSksdT0wLGU9Zi5sZW5ndGg7ZT51O3UrKylmb3IoaSBpbiBmW3VdKXI9Zlt1XVtpXSxmW3VdLmhhc093blByb3BlcnR5KGkpJiZ2b2lkIDAhPT1yJiYodFtpXT1uLmlzUGxhaW5PYmplY3Qocik/bi5pc1BsYWluT2JqZWN0KHRbaV0pP24ud2lkZ2V0LmV4dGVuZCh7fSx0W2ldLHIpOm4ud2lkZ2V0LmV4dGVuZCh7fSxyKTpyKTtyZXR1cm4gdH07bi53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKHQsaSl7dmFyIHI9aS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fHQ7bi5mblt0XT1mdW5jdGlvbih1KXt2YXIgcz0ic3RyaW5nIj09dHlwZW9mIHUsZT1vLmNhbGwoYXJndW1lbnRzLDEpLGY9dGhpcztyZXR1cm4gcz90aGlzLmxlbmd0aHx8Imluc3RhbmNlIiE9PXU/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksbz1uLmRhdGEodGhpcyxyKTtyZXR1cm4iaW5zdGFuY2UiPT09dT8oZj1vLCExKTpvP24uaXNGdW5jdGlvbihvW3VdKSYmIl8iIT09dS5jaGFyQXQoMCk/KGk9b1t1XS5hcHBseShvLGUpLGkhPT1vJiZ2b2lkIDAhPT1pPyhmPWkmJmkuanF1ZXJ5P2YucHVzaFN0YWNrKGkuZ2V0KCkpOmksITEpOnZvaWQgMCk6bi5lcnJvcigibm8gc3VjaCBtZXRob2QgJyIrdSsiJyBmb3IgIit0KyIgd2lkZ2V0IGluc3RhbmNlIik6bi5lcnJvcigiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiK3QrIiBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciK3UrIiciKX0pOmY9dm9pZCAwOihlLmxlbmd0aCYmKHU9bi53aWRnZXQuZXh0ZW5kLmFwcGx5KG51bGwsW3VdLmNvbmNhdChlKSkpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4uZGF0YSh0aGlzLHIpO3Q/KHQub3B0aW9uKHV8fHt9KSx0Ll9pbml0JiZ0Ll9pbml0KCkpOm4uZGF0YSh0aGlzLHIsbmV3IGkodSx0aGlzKSl9KSksZn19O24uV2lkZ2V0PWZ1bmN0aW9uKCl7fTtuLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W107bi5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7Y2xhc3Nlczp7fSxkaXNhYmxlZDohMSxjcmVhdGU6bnVsbH0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbih0LGkpe2k9bihpfHx0aGlzLmRlZmF1bHRFbGVtZW50fHx0aGlzKVswXTt0aGlzLmVsZW1lbnQ9bihpKTt0aGlzLnV1aWQ9disrO3RoaXMuZXZlbnROYW1lc3BhY2U9Ii4iK3RoaXMud2lkZ2V0TmFtZSt0aGlzLnV1aWQ7dGhpcy5iaW5kaW5ncz1uKCk7dGhpcy5ob3ZlcmFibGU9bigpO3RoaXMuZm9jdXNhYmxlPW4oKTt0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwPXt9O2khPT10aGlzJiYobi5kYXRhKGksdGhpcy53aWRnZXRGdWxsTmFtZSx0aGlzKSx0aGlzLl9vbighMCx0aGlzLmVsZW1lbnQse3JlbW92ZTpmdW5jdGlvbihuKXtuLnRhcmdldD09PWkmJnRoaXMuZGVzdHJveSgpfX0pLHRoaXMuZG9jdW1lbnQ9bihpLnN0eWxlP2kub3duZXJEb2N1bWVudDppLmRvY3VtZW50fHxpKSx0aGlzLndpbmRvdz1uKHRoaXMuZG9jdW1lbnRbMF0uZGVmYXVsdFZpZXd8fHRoaXMuZG9jdW1lbnRbMF0ucGFyZW50V2luZG93KSk7dGhpcy5vcHRpb25zPW4ud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLHQpO3RoaXMuX2NyZWF0ZSgpO3RoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl90cmlnZ2VyKCJjcmVhdGUiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpO3RoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm57fX0sX2dldENyZWF0ZUV2ZW50RGF0YTpuLm5vb3AsX2NyZWF0ZTpuLm5vb3AsX2luaXQ6bi5ub29wLGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2Rlc3Ryb3koKTtuLmVhY2godGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cCxmdW5jdGlvbihuLGkpe3QuX3JlbW92ZUNsYXNzKGksbil9KTt0aGlzLmVsZW1lbnQub2ZmKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSk7dGhpcy53aWRnZXQoKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpO3RoaXMuYmluZGluZ3Mub2ZmKHRoaXMuZXZlbnROYW1lc3BhY2UpfSxfZGVzdHJveTpuLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIHIsdSxmLGU9dDtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYoInN0cmluZyI9PXR5cGVvZiB0KWlmKGU9e30scj10LnNwbGl0KCIuIiksdD1yLnNoaWZ0KCksci5sZW5ndGgpe2Zvcih1PWVbdF09bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1t0XSksZj0wO3IubGVuZ3RoLTE+ZjtmKyspdVtyW2ZdXT11W3JbZl1dfHx7fSx1PXVbcltmXV07aWYodD1yLnBvcCgpLDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT11W3RdP251bGw6dVt0XTt1W3RdPWl9ZWxzZXtpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09dGhpcy5vcHRpb25zW3RdP251bGw6dGhpcy5vcHRpb25zW3RdO2VbdF09aX1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhlKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gbil0aGlzLl9zZXRPcHRpb24odCxuW3RdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3JldHVybiJjbGFzc2VzIj09PW4mJnRoaXMuX3NldE9wdGlvbkNsYXNzZXModCksdGhpcy5vcHRpb25zW25dPXQsImRpc2FibGVkIj09PW4mJnRoaXMuX3NldE9wdGlvbkRpc2FibGVkKHQpLHRoaXN9LF9zZXRPcHRpb25DbGFzc2VzOmZ1bmN0aW9uKHQpe3ZhciBpLHUscjtmb3IoaSBpbiB0KXI9dGhpcy5jbGFzc2VzRWxlbWVudExvb2t1cFtpXSx0W2ldIT09dGhpcy5vcHRpb25zLmNsYXNzZXNbaV0mJnImJnIubGVuZ3RoJiYodT1uKHIuZ2V0KCkpLHRoaXMuX3JlbW92ZUNsYXNzKHIsaSksdS5hZGRDbGFzcyh0aGlzLl9jbGFzc2VzKHtlbGVtZW50OnUsa2V5czppLGNsYXNzZXM6dCxhZGQ6ITB9KSkpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy53aWRnZXQoKSx0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLG51bGwsISFuKTtuJiYodGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5ob3ZlcmFibGUsbnVsbCwidWktc3RhdGUtaG92ZXIiKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmZvY3VzYWJsZSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpKX0sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiExfSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITB9KX0sX2NsYXNzZXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihyLGYpe2Zvcih2YXIgbyxlPTA7ci5sZW5ndGg+ZTtlKyspbz11LmNsYXNzZXNFbGVtZW50TG9va3VwW3JbZV1dfHxuKCksbz10LmFkZD9uKG4udW5pcXVlKG8uZ2V0KCkuY29uY2F0KHQuZWxlbWVudC5nZXQoKSkpKTpuKG8ubm90KHQuZWxlbWVudCkuZ2V0KCkpLHUuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcltlXV09byxpLnB1c2gocltlXSksZiYmdC5jbGFzc2VzW3JbZV1dJiZpLnB1c2godC5jbGFzc2VzW3JbZV1dKX12YXIgaT1bXSx1PXRoaXM7cmV0dXJuIHQ9bi5leHRlbmQoe2VsZW1lbnQ6dGhpcy5lbGVtZW50LGNsYXNzZXM6dGhpcy5vcHRpb25zLmNsYXNzZXN8fHt9fSx0KSx0aGlzLl9vbih0LmVsZW1lbnQse3JlbW92ZToiX3VudHJhY2tDbGFzc2VzRWxlbWVudCJ9KSx0LmtleXMmJnIodC5rZXlzLm1hdGNoKC9cUysvZyl8fFtdLCEwKSx0LmV4dHJhJiZyKHQuZXh0cmEubWF0Y2goL1xTKy9nKXx8W10pLGkuam9pbigiICIpfSxfdW50cmFja0NsYXNzZXNFbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7bi5lYWNoKGkuY2xhc3Nlc0VsZW1lbnRMb29rdXAsZnVuY3Rpb24ocix1KXstMSE9PW4uaW5BcnJheSh0LnRhcmdldCx1KSYmKGkuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcl09bih1Lm5vdCh0LnRhcmdldCkuZ2V0KCkpKX0pfSxfcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLl90b2dnbGVDbGFzcyhuLHQsaSwhMSl9LF9hZGRDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKG4sdCxpLCEwKX0sX3RvZ2dsZUNsYXNzOmZ1bmN0aW9uKG4sdCxpLHIpe3I9ImJvb2xlYW4iPT10eXBlb2Ygcj9yOmk7dmFyIHU9InN0cmluZyI9PXR5cGVvZiBufHxudWxsPT09bixmPXtleHRyYTp1P3Q6aSxrZXlzOnU/bjp0LGVsZW1lbnQ6dT90aGlzLmVsZW1lbnQ6bixhZGQ6cn07cmV0dXJuIGYuZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLl9jbGFzc2VzKGYpLHIpLHRoaXN9LF9vbjpmdW5jdGlvbih0LGkscil7dmFyIGYsdT10aGlzOyJib29sZWFuIiE9dHlwZW9mIHQmJihyPWksaT10LHQ9ITEpO3I/KGk9Zj1uKGkpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoaSkpOihyPWksaT10aGlzLmVsZW1lbnQsZj10aGlzLndpZGdldCgpKTtuLmVhY2gocixmdW5jdGlvbihyLGUpe2Z1bmN0aW9uIG8oKXtpZih0fHx1Lm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIW4odGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikpcmV0dXJuKCJzdHJpbmciPT10eXBlb2YgZT91W2VdOmUpLmFwcGx5KHUsYXJndW1lbnRzKX0ic3RyaW5nIiE9dHlwZW9mIGUmJihvLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8by5ndWlkfHxuLmd1aWQrKyk7dmFyIHM9ci5tYXRjaCgvXihbXHc6LV0qKVxzKiguKikkLyksaD1zWzFdK3UuZXZlbnROYW1lc3BhY2UsYz1zWzJdO2M/Zi5vbihoLGMsbyk6aS5vbihoLG8pfSl9LF9vZmY6ZnVuY3Rpb24odCxpKXtpPShpfHwiIikuc3BsaXQoIiAiKS5qb2luKHRoaXMuZXZlbnROYW1lc3BhY2UrIiAiKSt0aGlzLmV2ZW50TmFtZXNwYWNlO3Qub2ZmKGkpLm9mZihpKTt0aGlzLmJpbmRpbmdzPW4odGhpcy5iaW5kaW5ncy5ub3QodCkuZ2V0KCkpO3RoaXMuZm9jdXNhYmxlPW4odGhpcy5mb2N1c2FibGUubm90KHQpLmdldCgpKTt0aGlzLmhvdmVyYWJsZT1uKHRoaXMuaG92ZXJhYmxlLm5vdCh0KS5nZXQoKSl9LF9kZWxheTpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIoKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBuP2lbbl06bikuYXBwbHkoaSxhcmd1bWVudHMpfXZhciBpPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQocix0fHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQodCk7dGhpcy5fb24odCx7bW91c2VlbnRlcjpmdW5jdGlvbih0KXt0aGlzLl9hZGRDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtaG92ZXIiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbih0KXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQodCk7dGhpcy5fb24odCx7Zm9jdXNpbjpmdW5jdGlvbih0KXt0aGlzLl9hZGRDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVtb3ZlQ2xhc3Mobih0LmN1cnJlbnRUYXJnZXQpLG51bGwsInVpLXN0YXRlLWZvY3VzIil9fSl9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdSxmLGU9dGhpcy5vcHRpb25zW3RdO2lmKHI9cnx8e30saT1uLkV2ZW50KGkpLGkudHlwZT0odD09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/dDp0aGlzLndpZGdldEV2ZW50UHJlZml4K3QpLnRvTG93ZXJDYXNlKCksaS50YXJnZXQ9dGhpcy5lbGVtZW50WzBdLGY9aS5vcmlnaW5hbEV2ZW50KWZvcih1IGluIGYpdSBpbiBpfHwoaVt1XT1mW3VdKTtyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoaSxyKSwhKG4uaXNGdW5jdGlvbihlKSYmZS5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2ldLmNvbmNhdChyKSk9PT0hMXx8aS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fTtuLmVhY2goe3Nob3c6ImZhZGVJbiIsaGlkZToiZmFkZU91dCJ9LGZ1bmN0aW9uKHQsaSl7bi5XaWRnZXQucHJvdG90eXBlWyJfIit0XT1mdW5jdGlvbihyLHUsZil7InN0cmluZyI9PXR5cGVvZiB1JiYodT17ZWZmZWN0OnV9KTt2YXIgbyxlPXU/dT09PSEwfHwibnVtYmVyIj09dHlwZW9mIHU/aTp1LmVmZmVjdHx8aTp0O3U9dXx8e307Im51bWJlciI9PXR5cGVvZiB1JiYodT17ZHVyYXRpb246dX0pO289IW4uaXNFbXB0eU9iamVjdCh1KTt1LmNvbXBsZXRlPWY7dS5kZWxheSYmci5kZWxheSh1LmRlbGF5KTtvJiZuLmVmZmVjdHMmJm4uZWZmZWN0cy5lZmZlY3RbZV0/clt0XSh1KTplIT09dCYmcltlXT9yW2VdKHUuZHVyYXRpb24sdS5lYXNpbmcsZik6ci5xdWV1ZShmdW5jdGlvbihpKXtuKHRoaXMpW3RdKCk7ZiYmZi5jYWxsKHJbMF0pO2koKX0pfX0pO24ud2lkZ2V0LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihuLHQsaSl7cmV0dXJuW3BhcnNlRmxvYXQoblswXSkqKGMudGVzdChuWzBdKT90LzEwMDoxKSxwYXJzZUZsb2F0KG5bMV0pKihjLnRlc3QoblsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIGkodCxpKXtyZXR1cm4gcGFyc2VJbnQobi5jc3ModCxpKSwxMCl8fDB9ZnVuY3Rpb24gbCh0KXt2YXIgaT10WzBdO3JldHVybiA5PT09aS5ub2RlVHlwZT97d2lkdGg6dC53aWR0aCgpLGhlaWdodDp0LmhlaWdodCgpLG9mZnNldDp7dG9wOjAsbGVmdDowfX06bi5pc1dpbmRvdyhpKT97d2lkdGg6dC53aWR0aCgpLGhlaWdodDp0LmhlaWdodCgpLG9mZnNldDp7dG9wOnQuc2Nyb2xsVG9wKCksbGVmdDp0LnNjcm9sbExlZnQoKX19OmkucHJldmVudERlZmF1bHQ/e3dpZHRoOjAsaGVpZ2h0OjAsb2Zmc2V0Ont0b3A6aS5wYWdlWSxsZWZ0OmkucGFnZVh9fTp7d2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSxvZmZzZXQ6dC5vZmZzZXQoKX19dmFyIHUscj1NYXRoLm1heCx0PU1hdGguYWJzLGU9L2xlZnR8Y2VudGVyfHJpZ2h0LyxvPS90b3B8Y2VudGVyfGJvdHRvbS8scz0vW1wrXC1dXGQrKFwuW1xkXSspPyU/LyxoPS9eXHcrLyxjPS8lJC8sYT1uLmZuLnBvc2l0aW9uO24ucG9zaXRpb249e3Njcm9sbGJhcldpZHRoOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dSlyZXR1cm4gdTt2YXIgcixpLHQ9bigiPGRpdiBzdHlsZT0nZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OmhpZGRlbjsnPjxkaXYgc3R5bGU9J2hlaWdodDoxMDBweDt3aWR0aDphdXRvOyc+PFwvZGl2PjxcL2Rpdj4iKSxmPXQuY2hpbGRyZW4oKVswXTtyZXR1cm4gbigiYm9keSIpLmFwcGVuZCh0KSxyPWYub2Zmc2V0V2lkdGgsdC5jc3MoIm92ZXJmbG93Iiwic2Nyb2xsIiksaT1mLm9mZnNldFdpZHRoLHI9PT1pJiYoaT10WzBdLmNsaWVudFdpZHRoKSx0LnJlbW92ZSgpLHU9ci1pfSxnZXRTY3JvbGxJbmZvOmZ1bmN0aW9uKHQpe3ZhciBpPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy14Iikscj10LmlzV2luZG93fHx0LmlzRG9jdW1lbnQ/IiI6dC5lbGVtZW50LmNzcygib3ZlcmZsb3cteSIpLHU9InNjcm9sbCI9PT1pfHwiYXV0byI9PT1pJiZ0LndpZHRoPHQuZWxlbWVudFswXS5zY3JvbGxXaWR0aCxmPSJzY3JvbGwiPT09cnx8ImF1dG8iPT09ciYmdC5oZWlnaHQ8dC5lbGVtZW50WzBdLnNjcm9sbEhlaWdodDtyZXR1cm57d2lkdGg6Zj9uLnBvc2l0aW9uLnNjcm9sbGJhcldpZHRoKCk6MCxoZWlnaHQ6dT9uLnBvc2l0aW9uLnNjcm9sbGJhcldpZHRoKCk6MH19LGdldFdpdGhpbkluZm86ZnVuY3Rpb24odCl7dmFyIGk9bih0fHx3aW5kb3cpLHI9bi5pc1dpbmRvdyhpWzBdKSx1PSEhaVswXSYmOT09PWlbMF0ubm9kZVR5cGUsZj0hciYmIXU7cmV0dXJue2VsZW1lbnQ6aSxpc1dpbmRvdzpyLGlzRG9jdW1lbnQ6dSxvZmZzZXQ6Zj9uKHQpLm9mZnNldCgpOntsZWZ0OjAsdG9wOjB9LHNjcm9sbExlZnQ6aS5zY3JvbGxMZWZ0KCksc2Nyb2xsVG9wOmkuc2Nyb2xsVG9wKCksd2lkdGg6aS5vdXRlcldpZHRoKCksaGVpZ2h0Omkub3V0ZXJIZWlnaHQoKX19fTtuLmZuLnBvc2l0aW9uPWZ1bmN0aW9uKHUpe2lmKCF1fHwhdS5vZilyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dT1uLmV4dGVuZCh7fSx1KTt2YXIgdyxjLHYscCx5LGssZD1uKHUub2YpLG50PW4ucG9zaXRpb24uZ2V0V2l0aGluSW5mbyh1LndpdGhpbiksdHQ9bi5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKG50KSxiPSh1LmNvbGxpc2lvbnx8ImZsaXAiKS5zcGxpdCgiICIpLGc9e307cmV0dXJuIGs9bChkKSxkWzBdLnByZXZlbnREZWZhdWx0JiYodS5hdD0ibGVmdCB0b3AiKSxjPWsud2lkdGgsdj1rLmhlaWdodCxwPWsub2Zmc2V0LHk9bi5leHRlbmQoe30scCksbi5lYWNoKFsibXkiLCJhdCJdLGZ1bmN0aW9uKCl7dmFyIHQsaSxuPSh1W3RoaXNdfHwiIikuc3BsaXQoIiAiKTsxPT09bi5sZW5ndGgmJihuPWUudGVzdChuWzBdKT9uLmNvbmNhdChbImNlbnRlciJdKTpvLnRlc3QoblswXSk/WyJjZW50ZXIiXS5jb25jYXQobik6WyJjZW50ZXIiLCJjZW50ZXIiXSk7blswXT1lLnRlc3QoblswXSk/blswXToiY2VudGVyIjtuWzFdPW8udGVzdChuWzFdKT9uWzFdOiJjZW50ZXIiO3Q9cy5leGVjKG5bMF0pO2k9cy5leGVjKG5bMV0pO2dbdGhpc109W3Q/dFswXTowLGk/aVswXTowXTt1W3RoaXNdPVtoLmV4ZWMoblswXSlbMF0saC5leGVjKG5bMV0pWzBdXX0pLDE9PT1iLmxlbmd0aCYmKGJbMV09YlswXSksInJpZ2h0Ij09PXUuYXRbMF0/eS5sZWZ0Kz1jOiJjZW50ZXIiPT09dS5hdFswXSYmKHkubGVmdCs9Yy8yKSwiYm90dG9tIj09PXUuYXRbMV0/eS50b3ArPXY6ImNlbnRlciI9PT11LmF0WzFdJiYoeS50b3ArPXYvMiksdz1mKGcuYXQsYyx2KSx5LmxlZnQrPXdbMF0seS50b3ArPXdbMV0sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGEsayxvPW4odGhpcykscz1vLm91dGVyV2lkdGgoKSxoPW8ub3V0ZXJIZWlnaHQoKSxpdD1pKHRoaXMsIm1hcmdpbkxlZnQiKSxydD1pKHRoaXMsIm1hcmdpblRvcCIpLHV0PXMraXQraSh0aGlzLCJtYXJnaW5SaWdodCIpK3R0LndpZHRoLGZ0PWgrcnQraSh0aGlzLCJtYXJnaW5Cb3R0b20iKSt0dC5oZWlnaHQsZT1uLmV4dGVuZCh7fSx5KSxsPWYoZy5teSxvLm91dGVyV2lkdGgoKSxvLm91dGVySGVpZ2h0KCkpOyJyaWdodCI9PT11Lm15WzBdP2UubGVmdC09czoiY2VudGVyIj09PXUubXlbMF0mJihlLmxlZnQtPXMvMik7ImJvdHRvbSI9PT11Lm15WzFdP2UudG9wLT1oOiJjZW50ZXIiPT09dS5teVsxXSYmKGUudG9wLT1oLzIpO2UubGVmdCs9bFswXTtlLnRvcCs9bFsxXTthPXttYXJnaW5MZWZ0Oml0LG1hcmdpblRvcDpydH07bi5lYWNoKFsibGVmdCIsInRvcCJdLGZ1bmN0aW9uKHQsaSl7bi51aS5wb3NpdGlvbltiW3RdXSYmbi51aS5wb3NpdGlvbltiW3RdXVtpXShlLHt0YXJnZXRXaWR0aDpjLHRhcmdldEhlaWdodDp2LGVsZW1XaWR0aDpzLGVsZW1IZWlnaHQ6aCxjb2xsaXNpb25Qb3NpdGlvbjphLGNvbGxpc2lvbldpZHRoOnV0LGNvbGxpc2lvbkhlaWdodDpmdCxvZmZzZXQ6W3dbMF0rbFswXSx3WzFdK2xbMV1dLG15OnUubXksYXQ6dS5hdCx3aXRoaW46bnQsZWxlbTpvfSl9KTt1LnVzaW5nJiYoaz1mdW5jdGlvbihuKXt2YXIgaT1wLmxlZnQtZS5sZWZ0LGE9aStjLXMsZj1wLnRvcC1lLnRvcCx5PWYrdi1oLGw9e3RhcmdldDp7ZWxlbWVudDpkLGxlZnQ6cC5sZWZ0LHRvcDpwLnRvcCx3aWR0aDpjLGhlaWdodDp2fSxlbGVtZW50OntlbGVtZW50Om8sbGVmdDplLmxlZnQsdG9wOmUudG9wLHdpZHRoOnMsaGVpZ2h0Omh9LGhvcml6b250YWw6MD5hPyJsZWZ0IjppPjA/InJpZ2h0IjoiY2VudGVyIix2ZXJ0aWNhbDowPnk/InRvcCI6Zj4wPyJib3R0b20iOiJtaWRkbGUifTtzPmMmJmM+dChpK2EpJiYobC5ob3Jpem9udGFsPSJjZW50ZXIiKTtoPnYmJnY+dChmK3kpJiYobC52ZXJ0aWNhbD0ibWlkZGxlIik7bC5pbXBvcnRhbnQ9cih0KGkpLHQoYSkpPnIodChmKSx0KHkpKT8iaG9yaXpvbnRhbCI6InZlcnRpY2FsIjt1LnVzaW5nLmNhbGwodGhpcyxuLGwpfSk7by5vZmZzZXQobi5leHRlbmQoZSx7dXNpbmc6a30pKX0pfTtuLnVpLnBvc2l0aW9uPXtmaXQ6e2xlZnQ6ZnVuY3Rpb24obix0KXt2YXIgaCxlPXQud2l0aGluLHU9ZS5pc1dpbmRvdz9lLnNjcm9sbExlZnQ6ZS5vZmZzZXQubGVmdCxvPWUud2lkdGgscz1uLmxlZnQtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGk9dS1zLGY9cyt0LmNvbGxpc2lvbldpZHRoLW8tdTt0LmNvbGxpc2lvbldpZHRoPm8/aT4wJiYwPj1mPyhoPW4ubGVmdCtpK3QuY29sbGlzaW9uV2lkdGgtby11LG4ubGVmdCs9aS1oKTpuLmxlZnQ9Zj4wJiYwPj1pP3U6aT5mP3Urby10LmNvbGxpc2lvbldpZHRoOnU6aT4wP24ubGVmdCs9aTpmPjA/bi5sZWZ0LT1mOm4ubGVmdD1yKG4ubGVmdC1zLG4ubGVmdCl9LHRvcDpmdW5jdGlvbihuLHQpe3ZhciBoLG89dC53aXRoaW4sdT1vLmlzV2luZG93P28uc2Nyb2xsVG9wOm8ub2Zmc2V0LnRvcCxlPXQud2l0aGluLmhlaWdodCxzPW4udG9wLXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLGk9dS1zLGY9cyt0LmNvbGxpc2lvbkhlaWdodC1lLXU7dC5jb2xsaXNpb25IZWlnaHQ+ZT9pPjAmJjA+PWY/KGg9bi50b3AraSt0LmNvbGxpc2lvbkhlaWdodC1lLXUsbi50b3ArPWktaCk6bi50b3A9Zj4wJiYwPj1pP3U6aT5mP3UrZS10LmNvbGxpc2lvbkhlaWdodDp1Omk+MD9uLnRvcCs9aTpmPjA/bi50b3AtPWY6bi50b3A9cihuLnRvcC1zLG4udG9wKX19LGZsaXA6e2xlZnQ6ZnVuY3Rpb24obixpKXt2YXIgbyxzLHI9aS53aXRoaW4seT1yLm9mZnNldC5sZWZ0K3Iuc2Nyb2xsTGVmdCxjPXIud2lkdGgsaD1yLmlzV2luZG93P3Iuc2Nyb2xsTGVmdDpyLm9mZnNldC5sZWZ0LGw9bi5sZWZ0LWkuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luTGVmdCxhPWwtaCx2PWwraS5jb2xsaXNpb25XaWR0aC1jLWgsdT0ibGVmdCI9PT1pLm15WzBdPy1pLmVsZW1XaWR0aDoicmlnaHQiPT09aS5teVswXT9pLmVsZW1XaWR0aDowLGY9ImxlZnQiPT09aS5hdFswXT9pLnRhcmdldFdpZHRoOiJyaWdodCI9PT1pLmF0WzBdPy1pLnRhcmdldFdpZHRoOjAsZT0tMippLm9mZnNldFswXTswPmE/KG89bi5sZWZ0K3UrZitlK2kuY29sbGlzaW9uV2lkdGgtYy15LCgwPm98fHQoYSk+bykmJihuLmxlZnQrPXUrZitlKSk6dj4wJiYocz1uLmxlZnQtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0K3UrZitlLWgsKHM+MHx8dj50KHMpKSYmKG4ubGVmdCs9dStmK2UpKX0sdG9wOmZ1bmN0aW9uKG4saSl7dmFyIG8scyxyPWkud2l0aGluLHk9ci5vZmZzZXQudG9wK3Iuc2Nyb2xsVG9wLGM9ci5oZWlnaHQsaD1yLmlzV2luZG93P3Iuc2Nyb2xsVG9wOnIub2Zmc2V0LnRvcCxsPW4udG9wLWkuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLGE9bC1oLHY9bCtpLmNvbGxpc2lvbkhlaWdodC1jLWgscD0idG9wIj09PWkubXlbMV0sdT1wPy1pLmVsZW1IZWlnaHQ6ImJvdHRvbSI9PT1pLm15WzFdP2kuZWxlbUhlaWdodDowLGY9InRvcCI9PT1pLmF0WzFdP2kudGFyZ2V0SGVpZ2h0OiJib3R0b20iPT09aS5hdFsxXT8taS50YXJnZXRIZWlnaHQ6MCxlPS0yKmkub2Zmc2V0WzFdOzA+YT8ocz1uLnRvcCt1K2YrZStpLmNvbGxpc2lvbkhlaWdodC1jLXksKDA+c3x8dChhKT5zKSYmKG4udG9wKz11K2YrZSkpOnY+MCYmKG89bi50b3AtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3ArdStmK2UtaCwobz4wfHx2PnQobykpJiYobi50b3ArPXUrZitlKSl9fSxmbGlwZml0OntsZWZ0OmZ1bmN0aW9uKCl7bi51aS5wb3NpdGlvbi5mbGlwLmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LmxlZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0b3A6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAudG9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtuLnVpLnBvc2l0aW9uLmZpdC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fSgpO24udWkucG9zaXRpb247bi5leHRlbmQobi5leHByWyI6Il0se2RhdGE6bi5leHByLmNyZWF0ZVBzZXVkbz9uLmV4cHIuY3JlYXRlUHNldWRvKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4hIW4uZGF0YShpLHQpfX0pOmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4hIW4uZGF0YSh0LHJbM10pfX0pO24uZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG49Im9uc2VsZWN0c3RhcnQiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik/InNlbGVjdHN0YXJ0IjoibW91c2Vkb3duIjtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbihuKyIudWktZGlzYWJsZVNlbGVjdGlvbiIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfSl9fSgpLGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZigiLnVpLWRpc2FibGVTZWxlY3Rpb24iKX19KTt2YXIgZj0idWktZWZmZWN0cy0iLHM9InVpLWVmZmVjdHMtc3R5bGUiLGg9InVpLWVmZmVjdHMtYW5pbWF0ZWQiLHk9bjtuLmVmZmVjdHM9e2VmZmVjdDp7fX0sZnVuY3Rpb24obix0KXtmdW5jdGlvbiBmKG4sdCxpKXt2YXIgcj1oW3QudHlwZV18fHt9O3JldHVybiBudWxsPT1uP2l8fCF0LmRlZj9udWxsOnQuZGVmOihuPXIuZmxvb3I/fn5uOnBhcnNlRmxvYXQobiksaXNOYU4obik/dC5kZWY6ci5tb2Q/KG4rci5tb2QpJXIubW9kOjA+bj8wOm4+ci5tYXg/ci5tYXg6bil9ZnVuY3Rpb24gcyhmKXt2YXIgbz1pKCkscz1vLl9yZ2JhPVtdO3JldHVybiBmPWYudG9Mb3dlckNhc2UoKSxyKHYsZnVuY3Rpb24obixpKXt2YXIgcixoPWkucmUuZXhlYyhmKSxjPWgmJmkucGFyc2UoaCksZT1pLnNwYWNlfHwicmdiYSI7cmV0dXJuIGM/KHI9b1tlXShjKSxvW3VbZV0uY2FjaGVdPXJbdVtlXS5jYWNoZV0scz1vLl9yZ2JhPXIuX3JnYmEsITEpOnR9KSxzLmxlbmd0aD8oIjAsMCwwLDAiPT09cy5qb2luKCkmJm4uZXh0ZW5kKHMsZS50cmFuc3BhcmVudCksbyk6ZVtmXX1mdW5jdGlvbiBvKG4sdCxpKXtyZXR1cm4gaT0oaSsxKSUxLDE+NippP24rNioodC1uKSppOjE+MippP3Q6Mj4zKmk/bis2Kih0LW4pKigyLzMtaSk6bn12YXIgZSxhPS9eKFtcLStdKT1ccyooXGQrXC4/XGQqKS8sdj1be3JlOi9yZ2JhP1woXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKixccyooXGR7MSwzfSlccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuW25bMV0sblsyXSxuWzNdLG5bNF1dfX0se3JlOi9yZ2JhP1woXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuWzIuNTUqblsxXSwyLjU1Km5bMl0sMi41NSpuWzNdLG5bNF1dfX0se3JlOi8jKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bcGFyc2VJbnQoblsxXSwxNikscGFyc2VJbnQoblsyXSwxNikscGFyc2VJbnQoblszXSwxNildfX0se3JlOi8jKFthLWYwLTldKShbYS1mMC05XSkoW2EtZjAtOV0pLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bcGFyc2VJbnQoblsxXStuWzFdLDE2KSxwYXJzZUludChuWzJdK25bMl0sMTYpLHBhcnNlSW50KG5bM10rblszXSwxNildfX0se3JlOi9oc2xhP1woXHMqKFxkKyg/OlwuXGQrKT8pXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHNwYWNlOiJoc2xhIixwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bblsxXSxuWzJdLzEwMCxuWzNdLzEwMCxuWzRdXX19XSxpPW4uQ29sb3I9ZnVuY3Rpb24odCxpLHIsdSl7cmV0dXJuIG5ldyBuLkNvbG9yLmZuLnBhcnNlKHQsaSxyLHUpfSx1PXtyZ2JhOntwcm9wczp7cmVkOntpZHg6MCx0eXBlOiJieXRlIn0sZ3JlZW46e2lkeDoxLHR5cGU6ImJ5dGUifSxibHVlOntpZHg6Mix0eXBlOiJieXRlIn19fSxoc2xhOntwcm9wczp7aHVlOntpZHg6MCx0eXBlOiJkZWdyZWVzIn0sc2F0dXJhdGlvbjp7aWR4OjEsdHlwZToicGVyY2VudCJ9LGxpZ2h0bmVzczp7aWR4OjIsdHlwZToicGVyY2VudCJ9fX19LGg9e2J5dGU6e2Zsb29yOiEwLG1heDoyNTV9LHBlcmNlbnQ6e21heDoxfSxkZWdyZWVzOnttb2Q6MzYwLGZsb29yOiEwfX0sYz1pLnN1cHBvcnQ9e30sbD1uKCI8cD4iKVswXSxyPW4uZWFjaDtsLnN0eWxlLmNzc1RleHQ9ImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSkiO2MucmdiYT1sLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCJyZ2JhIik+LTE7cih1LGZ1bmN0aW9uKG4sdCl7dC5jYWNoZT0iXyIrbjt0LnByb3BzLmFscGhhPXtpZHg6Myx0eXBlOiJwZXJjZW50IixkZWY6MX19KTtpLmZuPW4uZXh0ZW5kKGkucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihvLGgsYyxsKXtpZihvPT09dClyZXR1cm4gdGhpcy5fcmdiYT1bbnVsbCxudWxsLG51bGwsbnVsbF0sdGhpczsoby5qcXVlcnl8fG8ubm9kZVR5cGUpJiYobz1uKG8pLmNzcyhoKSxoPXQpO3ZhciBhPXRoaXMsdj1uLnR5cGUobykseT10aGlzLl9yZ2JhPVtdO3JldHVybiBoIT09dCYmKG89W28saCxjLGxdLHY9ImFycmF5IiksInN0cmluZyI9PT12P3RoaXMucGFyc2UocyhvKXx8ZS5fZGVmYXVsdCk6ImFycmF5Ij09PXY/KHIodS5yZ2JhLnByb3BzLGZ1bmN0aW9uKG4sdCl7eVt0LmlkeF09ZihvW3QuaWR4XSx0KX0pLHRoaXMpOiJvYmplY3QiPT09dj8obyBpbnN0YW5jZW9mIGk/cih1LGZ1bmN0aW9uKG4sdCl7b1t0LmNhY2hlXSYmKGFbdC5jYWNoZV09b1t0LmNhY2hlXS5zbGljZSgpKX0pOnIodSxmdW5jdGlvbih0LGkpe3ZhciB1PWkuY2FjaGU7cihpLnByb3BzLGZ1bmN0aW9uKG4sdCl7aWYoIWFbdV0mJmkudG8pe2lmKCJhbHBoYSI9PT1ufHxudWxsPT1vW25dKXJldHVybjthW3VdPWkudG8oYS5fcmdiYSl9YVt1XVt0LmlkeF09ZihvW25dLHQsITApfSk7YVt1XSYmMD5uLmluQXJyYXkobnVsbCxhW3VdLnNsaWNlKDAsMykpJiYoYVt1XVszXT0xLGkuZnJvbSYmKGEuX3JnYmE9aS5mcm9tKGFbdV0pKSl9KSx0aGlzKTp0fSxpczpmdW5jdGlvbihuKXt2YXIgbz1pKG4pLGY9ITAsZT10aGlzO3JldHVybiByKHUsZnVuY3Rpb24obixpKXt2YXIgcyx1PW9baS5jYWNoZV07cmV0dXJuIHUmJihzPWVbaS5jYWNoZV18fGkudG8mJmkudG8oZS5fcmdiYSl8fFtdLHIoaS5wcm9wcyxmdW5jdGlvbihuLGkpe3JldHVybiBudWxsIT11W2kuaWR4XT9mPXVbaS5pZHhdPT09c1tpLmlkeF06dH0pKSxmfSksZn0sX3NwYWNlOmZ1bmN0aW9uKCl7dmFyIG49W10sdD10aGlzO3JldHVybiByKHUsZnVuY3Rpb24oaSxyKXt0W3IuY2FjaGVdJiZuLnB1c2goaSl9KSxuLnBvcCgpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGU9aShuKSxjPWUuX3NwYWNlKCksbz11W2NdLGw9MD09PXRoaXMuYWxwaGEoKT9pKCJ0cmFuc3BhcmVudCIpOnRoaXMsYT1sW28uY2FjaGVdfHxvLnRvKGwuX3JnYmEpLHM9YS5zbGljZSgpO3JldHVybiBlPWVbby5jYWNoZV0scihvLnByb3BzLGZ1bmN0aW9uKG4saSl7dmFyIGM9aS5pZHgscj1hW2NdLHU9ZVtjXSxvPWhbaS50eXBlXXx8e307bnVsbCE9PXUmJihudWxsPT09cj9zW2NdPXU6KG8ubW9kJiYodS1yPm8ubW9kLzI/cis9by5tb2Q6ci11Pm8ubW9kLzImJihyLT1vLm1vZCkpLHNbY109ZigodS1yKSp0K3IsaSkpKX0pLHRoaXNbY10ocyl9LGJsZW5kOmZ1bmN0aW9uKHQpe2lmKDE9PT10aGlzLl9yZ2JhWzNdKXJldHVybiB0aGlzO3ZhciByPXRoaXMuX3JnYmEuc2xpY2UoKSx1PXIucG9wKCksZj1pKHQpLl9yZ2JhO3JldHVybiBpKG4ubWFwKHIsZnVuY3Rpb24obix0KXtyZXR1cm4oMS11KSpmW3RdK3Uqbn0pKX0sdG9SZ2JhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGk9InJnYmEoIix0PW4ubWFwKHRoaXMuX3JnYmEsZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09bj90PjI/MTowOm59KTtyZXR1cm4gMT09PXRbM10mJih0LnBvcCgpLGk9InJnYigiKSxpK3Quam9pbigpKyIpIn0sdG9Ic2xhU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGk9ImhzbGEoIix0PW4ubWFwKHRoaXMuaHNsYSgpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PW4mJihuPXQ+Mj8xOjApLHQmJjM+dCYmKG49TWF0aC5yb3VuZCgxMDAqbikrIiUiKSxufSk7cmV0dXJuIDE9PT10WzNdJiYodC5wb3AoKSxpPSJoc2woIiksaSt0LmpvaW4oKSsiKSJ9LHRvSGV4U3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX3JnYmEuc2xpY2UoKSxyPWkucG9wKCk7cmV0dXJuIHQmJmkucHVzaCh+figyNTUqcikpLCIjIituLm1hcChpLGZ1bmN0aW9uKG4pe3JldHVybiBuPShufHwwKS50b1N0cmluZygxNiksMT09PW4ubGVuZ3RoPyIwIituOm59KS5qb2luKCIiKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX3JnYmFbM10/InRyYW5zcGFyZW50Ijp0aGlzLnRvUmdiYVN0cmluZygpfX0pO2kuZm4ucGFyc2UucHJvdG90eXBlPWkuZm47dS5oc2xhLnRvPWZ1bmN0aW9uKG4pe2lmKG51bGw9PW5bMF18fG51bGw9PW5bMV18fG51bGw9PW5bMl0pcmV0dXJuW251bGwsbnVsbCxudWxsLG5bM11dO3ZhciBzLGgsaT1uWzBdLzI1NSxyPW5bMV0vMjU1LGY9blsyXS8yNTUsYz1uWzNdLHU9TWF0aC5tYXgoaSxyLGYpLGU9TWF0aC5taW4oaSxyLGYpLHQ9dS1lLG89dStlLGw9LjUqbztyZXR1cm4gcz1lPT09dT8wOmk9PT11PzYwKihyLWYpL3QrMzYwOnI9PT11PzYwKihmLWkpL3QrMTIwOjYwKihpLXIpL3QrMjQwLGg9MD09PXQ/MDouNT49bD90L286dC8oMi1vKSxbTWF0aC5yb3VuZChzKSUzNjAsaCxsLG51bGw9PWM/MTpjXX07dS5oc2xhLmZyb209ZnVuY3Rpb24obil7aWYobnVsbD09blswXXx8bnVsbD09blsxXXx8bnVsbD09blsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsblszXV07dmFyIHI9blswXS8zNjAsdT1uWzFdLHQ9blsyXSxlPW5bM10saT0uNT49dD90KigxK3UpOnQrdS10KnUsZj0yKnQtaTtyZXR1cm5bTWF0aC5yb3VuZCgyNTUqbyhmLGkscisxLzMpKSxNYXRoLnJvdW5kKDI1NSpvKGYsaSxyKSksTWF0aC5yb3VuZCgyNTUqbyhmLGksci0xLzMpKSxlXX07cih1LGZ1bmN0aW9uKHUsZSl7dmFyIHM9ZS5wcm9wcyxvPWUuY2FjaGUsaD1lLnRvLGM9ZS5mcm9tO2kuZm5bdV09ZnVuY3Rpb24odSl7aWYoaCYmIXRoaXNbb10mJih0aGlzW29dPWgodGhpcy5fcmdiYSkpLHU9PT10KXJldHVybiB0aGlzW29dLnNsaWNlKCk7dmFyIGwsYT1uLnR5cGUodSksdj0iYXJyYXkiPT09YXx8Im9iamVjdCI9PT1hP3U6YXJndW1lbnRzLGU9dGhpc1tvXS5zbGljZSgpO3JldHVybiByKHMsZnVuY3Rpb24obix0KXt2YXIgaT12WyJvYmplY3QiPT09YT9uOnQuaWR4XTtudWxsPT1pJiYoaT1lW3QuaWR4XSk7ZVt0LmlkeF09ZihpLHQpfSksYz8obD1pKGMoZSkpLGxbb109ZSxsKTppKGUpfTtyKHMsZnVuY3Rpb24odCxyKXtpLmZuW3RdfHwoaS5mblt0XT1mdW5jdGlvbihpKXt2YXIgZixlPW4udHlwZShpKSxoPSJhbHBoYSI9PT10P3RoaXMuX2hzbGE/ImhzbGEiOiJyZ2JhIjp1LG89dGhpc1toXSgpLHM9b1tyLmlkeF07cmV0dXJuInVuZGVmaW5lZCI9PT1lP3M6KCJmdW5jdGlvbiI9PT1lJiYoaT1pLmNhbGwodGhpcyxzKSxlPW4udHlwZShpKSksbnVsbD09aSYmci5lbXB0eT90aGlzOigic3RyaW5nIj09PWUmJihmPWEuZXhlYyhpKSxmJiYoaT1zK3BhcnNlRmxvYXQoZlsyXSkqKCIrIj09PWZbMV0/MTotMSkpKSxvW3IuaWR4XT1pLHRoaXNbaF0obykpKX0pfSl9KTtpLmhvb2s9ZnVuY3Rpb24odCl7dmFyIHU9dC5zcGxpdCgiICIpO3IodSxmdW5jdGlvbih0LHIpe24uY3NzSG9va3Nbcl09e3NldDpmdW5jdGlvbih0LHUpe3ZhciBvLGYsZT0iIjtpZigidHJhbnNwYXJlbnQiIT09dSYmKCJzdHJpbmciIT09bi50eXBlKHUpfHwobz1zKHUpKSkpe2lmKHU9aShvfHx1KSwhYy5yZ2JhJiYxIT09dS5fcmdiYVszXSl7Zm9yKGY9ImJhY2tncm91bmRDb2xvciI9PT1yP3QucGFyZW50Tm9kZTp0OygiIj09PWV8fCJ0cmFuc3BhcmVudCI9PT1lKSYmZiYmZi5zdHlsZTspdHJ5e2U9bi5jc3MoZiwiYmFja2dyb3VuZENvbG9yIik7Zj1mLnBhcmVudE5vZGV9Y2F0Y2goaCl7fXU9dS5ibGVuZChlJiYidHJhbnNwYXJlbnQiIT09ZT9lOiJfZGVmYXVsdCIpfXU9dS50b1JnYmFTdHJpbmcoKX10cnl7dC5zdHlsZVtyXT11fWNhdGNoKGgpe319fTtuLmZ4LnN0ZXBbcl09ZnVuY3Rpb24odCl7dC5jb2xvckluaXR8fCh0LnN0YXJ0PWkodC5lbGVtLHIpLHQuZW5kPWkodC5lbmQpLHQuY29sb3JJbml0PSEwKTtuLmNzc0hvb2tzW3JdLnNldCh0LmVsZW0sdC5zdGFydC50cmFuc2l0aW9uKHQuZW5kLHQucG9zKSl9fSl9O2kuaG9vaygiYmFja2dyb3VuZENvbG9yIGJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckxlZnRDb2xvciBib3JkZXJSaWdodENvbG9yIGJvcmRlclRvcENvbG9yIGNvbG9yIGNvbHVtblJ1bGVDb2xvciBvdXRsaW5lQ29sb3IgdGV4dERlY29yYXRpb25Db2xvciB0ZXh0RW1waGFzaXNDb2xvciIpO24uY3NzSG9va3MuYm9yZGVyQ29sb3I9e2V4cGFuZDpmdW5jdGlvbihuKXt2YXIgdD17fTtyZXR1cm4gcihbIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGZ1bmN0aW9uKGkscil7dFsiYm9yZGVyIityKyJDb2xvciJdPW59KSx0fX07ZT1uLkNvbG9yLm5hbWVzPXthcXVhOiIjMDBmZmZmIixibGFjazoiIzAwMDAwMCIsYmx1ZToiIzAwMDBmZiIsZnVjaHNpYToiI2ZmMDBmZiIsZ3JheToiIzgwODA4MCIsZ3JlZW46IiMwMDgwMDAiLGxpbWU6IiMwMGZmMDAiLG1hcm9vbjoiIzgwMDAwMCIsbmF2eToiIzAwMDA4MCIsb2xpdmU6IiM4MDgwMDAiLHB1cnBsZToiIzgwMDA4MCIscmVkOiIjZmYwMDAwIixzaWx2ZXI6IiNjMGMwYzAiLHRlYWw6IiMwMDgwODAiLHdoaXRlOiIjZmZmZmZmIix5ZWxsb3c6IiNmZmZmMDAiLHRyYW5zcGFyZW50OltudWxsLG51bGwsbnVsbCwwXSxfZGVmYXVsdDoiI2ZmZmZmZiJ9fSh5KSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIHIsdSxpPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpOnQuY3VycmVudFN0eWxlLGY9e307aWYoaSYmaS5sZW5ndGgmJmlbMF0mJmlbaVswXV0pZm9yKHU9aS5sZW5ndGg7dS0tOylyPWlbdV0sInN0cmluZyI9PXR5cGVvZiBpW3JdJiYoZltuLmNhbWVsQ2FzZShyKV09aVtyXSk7ZWxzZSBmb3IociBpbiBpKSJzdHJpbmciPT10eXBlb2YgaVtyXSYmKGZbcl09aVtyXSk7cmV0dXJuIGZ9ZnVuY3Rpb24gaSh0LGkpe3ZhciByLGYsZT17fTtmb3IociBpbiBpKWY9aVtyXSx0W3JdIT09ZiYmKHVbcl18fChuLmZ4LnN0ZXBbcl18fCFpc05hTihwYXJzZUZsb2F0KGYpKSkmJihlW3JdPWYpKTtyZXR1cm4gZX12YXIgcj1bImFkZCIsInJlbW92ZSIsInRvZ2dsZSJdLHU9e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O24uZWFjaChbImJvcmRlckxlZnRTdHlsZSIsImJvcmRlclJpZ2h0U3R5bGUiLCJib3JkZXJCb3R0b21TdHlsZSIsImJvcmRlclRvcFN0eWxlIl0sZnVuY3Rpb24odCxpKXtuLmZ4LnN0ZXBbaV09ZnVuY3Rpb24obil7KCJub25lIj09PW4uZW5kfHxuLnNldEF0dHIpJiYoMSE9PW4ucG9zfHxuLnNldEF0dHIpfHwoeS5zdHlsZShuLmVsZW0saSxuLmVuZCksbi5zZXRBdHRyPSEwKX19KTtuLmZuLmFkZEJhY2t8fChuLmZuLmFkZEJhY2s9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuYWRkKG51bGw9PW4/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIobikpfSk7bi5lZmZlY3RzLmFuaW1hdGVDbGFzcz1mdW5jdGlvbih1LGYsZSxvKXt2YXIgcz1uLnNwZWVkKGYsZSxvKTtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBvLGU9bih0aGlzKSxoPWUuYXR0cigiY2xhc3MiKXx8IiIsZj1zLmNoaWxkcmVuP2UuZmluZCgiKiIpLmFkZEJhY2soKTplO2Y9Zi5tYXAoZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpO3JldHVybntlbDppLHN0YXJ0OnQodGhpcyl9fSk7bz1mdW5jdGlvbigpe24uZWFjaChyLGZ1bmN0aW9uKG4sdCl7dVt0XSYmZVt0KyJDbGFzcyJdKHVbdF0pfSl9O28oKTtmPWYubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPXQodGhpcy5lbFswXSksdGhpcy5kaWZmPWkodGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pO2UuYXR0cigiY2xhc3MiLGgpO2Y9Zi5tYXAoZnVuY3Rpb24oKXt2YXIgaT10aGlzLHQ9bi5EZWZlcnJlZCgpLHI9bi5leHRlbmQoe30scyx7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXt0LnJlc29sdmUoaSl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYsciksdC5wcm9taXNlKCl9KTtuLndoZW4uYXBwbHkobixmLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7bygpO24uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO24uZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24obil7dC5jc3MobiwiIil9KX0pO3MuY29tcGxldGUuY2FsbChlWzBdKX0pfSl9O24uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSxyLHUsZil7cmV0dXJuIHI/bi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDppfSxyLHUsZik6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShuLmZuLmFkZENsYXNzKSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSxyLHUsZil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7cmVtb3ZlOml9LHIsdSxmKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4ucmVtb3ZlQ2xhc3MpLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmLGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIHJ8fHZvaWQgMD09PXI/dT9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyxyP3thZGQ6aX06e3JlbW92ZTppfSx1LGYsZSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6bi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse3RvZ2dsZTppfSxyLHUsZil9fShuLmZuLnRvZ2dsZUNsYXNzKSxzd2l0Y2hDbGFzczpmdW5jdGlvbih0LGkscix1LGYpe3JldHVybiBuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOmkscmVtb3ZlOnR9LHIsdSxmKX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxpLHIsdSl7cmV0dXJuIG4uaXNQbGFpbk9iamVjdCh0KSYmKGk9dCx0PXQuZWZmZWN0KSx0PXtlZmZlY3Q6dH0sbnVsbD09aSYmKGk9e30pLG4uaXNGdW5jdGlvbihpKSYmKHU9aSxyPW51bGwsaT17fSksKCJudW1iZXIiPT10eXBlb2YgaXx8bi5meC5zcGVlZHNbaV0pJiYodT1yLHI9aSxpPXt9KSxuLmlzRnVuY3Rpb24ocikmJih1PXIscj1udWxsKSxpJiZuLmV4dGVuZCh0LGkpLHI9cnx8aS5kdXJhdGlvbix0LmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiByP3I6ciBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tyXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCx0LmNvbXBsZXRlPXV8fGkuY29tcGxldGUsdH1mdW5jdGlvbiBpKHQpe3JldHVybiF0fHwibnVtYmVyIj09dHlwZW9mIHR8fG4uZnguc3BlZWRzW3RdPyEwOiJzdHJpbmciIT10eXBlb2YgdHx8bi5lZmZlY3RzLmVmZmVjdFt0XT9uLmlzRnVuY3Rpb24odCk/ITA6Im9iamVjdCIhPXR5cGVvZiB0fHx0LmVmZmVjdD8hMTohMDohMH1mdW5jdGlvbiByKG4sdCl7dmFyIHI9dC5vdXRlcldpZHRoKCksdT10Lm91dGVySGVpZ2h0KCksaT0vXnJlY3RcKCgtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKVwpJC8uZXhlYyhuKXx8WyIiLDAscix1LDBdO3JldHVybnt0b3A6cGFyc2VGbG9hdChpWzFdKXx8MCxyaWdodDoiYXV0byI9PT1pWzJdP3I6cGFyc2VGbG9hdChpWzJdKSxib3R0b206ImF1dG8iPT09aVszXT91OnBhcnNlRmxvYXQoaVszXSksbGVmdDpwYXJzZUZsb2F0KGlbNF0pfHwwfX1uLmV4cHImJm4uZXhwci5maWx0ZXJzJiZuLmV4cHIuZmlsdGVycy5hbmltYXRlZCYmKG4uZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4hIW4oaSkuZGF0YShoKXx8dChpKX19KG4uZXhwci5maWx0ZXJzLmFuaW1hdGVkKSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi5leHRlbmQobi5lZmZlY3RzLHtzYXZlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtyPmk7aSsrKW51bGwhPT10W2ldJiZuLmRhdGEoZit0W2ldLG5bMF0uc3R5bGVbdFtpXV0pfSxyZXN0b3JlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGk9MCx1PXQubGVuZ3RoO3U+aTtpKyspbnVsbCE9PXRbaV0mJihyPW4uZGF0YShmK3RbaV0pLG4uY3NzKHRbaV0scikpfSxzZXRNb2RlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuInRvZ2dsZSI9PT10JiYodD1uLmlzKCI6aGlkZGVuIik/InNob3ciOiJoaWRlIiksdH0sY3JlYXRlV3JhcHBlcjpmdW5jdGlvbih0KXtpZih0LnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikpcmV0dXJuIHQucGFyZW50KCk7dmFyIGk9e3dpZHRoOnQub3V0ZXJXaWR0aCghMCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoITApLGZsb2F0OnQuY3NzKCJmbG9hdCIpfSx1PW4oIjxkaXY+PFwvZGl2PiIpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLXdyYXBwZXIiKS5jc3Moe2ZvbnRTaXplOiIxMDAlIixiYWNrZ3JvdW5kOiJ0cmFuc3BhcmVudCIsYm9yZGVyOiJub25lIixtYXJnaW46MCxwYWRkaW5nOjB9KSxmPXt3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCl9LHI9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDt0cnl7ci5pZH1jYXRjaChlKXtyPWRvY3VtZW50LmJvZHl9cmV0dXJuIHQud3JhcCh1KSwodFswXT09PXJ8fG4uY29udGFpbnModFswXSxyKSkmJm4ocikudHJpZ2dlcigiZm9jdXMiKSx1PXQucGFyZW50KCksInN0YXRpYyI9PT10LmNzcygicG9zaXRpb24iKT8odS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KSx0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pKToobi5leHRlbmQoaSx7cG9zaXRpb246dC5jc3MoInBvc2l0aW9uIiksekluZGV4OnQuY3NzKCJ6LWluZGV4Iil9KSxuLmVhY2goWyJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiXSxmdW5jdGlvbihuLHIpe2lbcl09dC5jc3Mocik7aXNOYU4ocGFyc2VJbnQoaVtyXSwxMCkpJiYoaVtyXT0iYXV0byIpfSksdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOjAsbGVmdDowLHJpZ2h0OiJhdXRvIixib3R0b206ImF1dG8ifSkpLHQuY3NzKGYpLHUuY3NzKGkpLnNob3coKX0scmVtb3ZlV3JhcHBlcjpmdW5jdGlvbih0KXt2YXIgaT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3JldHVybiB0LnBhcmVudCgpLmlzKCIudWktZWZmZWN0cy13cmFwcGVyIikmJih0LnBhcmVudCgpLnJlcGxhY2VXaXRoKHQpLCh0WzBdPT09aXx8bi5jb250YWlucyh0WzBdLGkpKSYmbihpKS50cmlnZ2VyKCJmb2N1cyIpKSx0fX0pO24uZXh0ZW5kKG4uZWZmZWN0cyx7dmVyc2lvbjoiMS4xMi4xIixkZWZpbmU6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByfHwocj1pLGk9ImVmZmVjdCIpLG4uZWZmZWN0cy5lZmZlY3RbdF09cixuLmVmZmVjdHMuZWZmZWN0W3RdLm1vZGU9aSxyfSxzY2FsZWREaW1lbnNpb25zOmZ1bmN0aW9uKG4sdCxpKXtpZigwPT09dClyZXR1cm57aGVpZ2h0OjAsd2lkdGg6MCxvdXRlckhlaWdodDowLG91dGVyV2lkdGg6MH07dmFyIHI9Imhvcml6b250YWwiIT09aT8odHx8MTAwKS8xMDA6MSx1PSJ2ZXJ0aWNhbCIhPT1pPyh0fHwxMDApLzEwMDoxO3JldHVybntoZWlnaHQ6bi5oZWlnaHQoKSp1LHdpZHRoOm4ud2lkdGgoKSpyLG91dGVySGVpZ2h0Om4ub3V0ZXJIZWlnaHQoKSp1LG91dGVyV2lkdGg6bi5vdXRlcldpZHRoKCkqcn19LGNsaXBUb0JveDpmdW5jdGlvbihuKXtyZXR1cm57d2lkdGg6bi5jbGlwLnJpZ2h0LW4uY2xpcC5sZWZ0LGhlaWdodDpuLmNsaXAuYm90dG9tLW4uY2xpcC50b3AsbGVmdDpuLmNsaXAubGVmdCx0b3A6bi5jbGlwLnRvcH19LHVuc2hpZnQ6ZnVuY3Rpb24obix0LGkpe3ZhciByPW4ucXVldWUoKTt0PjEmJnIuc3BsaWNlLmFwcGx5KHIsWzEsMF0uY29uY2F0KHIuc3BsaWNlKHQsaSkpKTtuLmRlcXVldWUoKX0sc2F2ZVN0eWxlOmZ1bmN0aW9uKG4pe24uZGF0YShzLG5bMF0uc3R5bGUuY3NzVGV4dCl9LHJlc3RvcmVTdHlsZTpmdW5jdGlvbihuKXtuWzBdLnN0eWxlLmNzc1RleHQ9bi5kYXRhKHMpfHwiIjtuLnJlbW92ZURhdGEocyl9LG1vZGU6ZnVuY3Rpb24obix0KXt2YXIgaT1uLmlzKCI6aGlkZGVuIik7cmV0dXJuInRvZ2dsZSI9PT10JiYodD1pPyJzaG93IjoiaGlkZSIpLChpPyJoaWRlIj09PXQ6InNob3ciPT09dCkmJih0PSJub25lIiksdH0sZ2V0QmFzZWxpbmU6ZnVuY3Rpb24obix0KXt2YXIgaSxyO3N3aXRjaChuWzBdKXtjYXNlInRvcCI6aT0wO2JyZWFrO2Nhc2UibWlkZGxlIjppPS41O2JyZWFrO2Nhc2UiYm90dG9tIjppPTE7YnJlYWs7ZGVmYXVsdDppPW5bMF0vdC5oZWlnaHR9c3dpdGNoKG5bMV0pe2Nhc2UibGVmdCI6cj0wO2JyZWFrO2Nhc2UiY2VudGVyIjpyPS41O2JyZWFrO2Nhc2UicmlnaHQiOnI9MTticmVhaztkZWZhdWx0OnI9blsxXS90LndpZHRofXJldHVybnt4OnIseTppfX0sY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dmFyIGkscj10LmNzcygicG9zaXRpb24iKSx1PXQucG9zaXRpb24oKTtyZXR1cm4gdC5jc3Moe21hcmdpblRvcDp0LmNzcygibWFyZ2luVG9wIiksbWFyZ2luQm90dG9tOnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnQuY3NzKCJtYXJnaW5MZWZ0IiksbWFyZ2luUmlnaHQ6dC5jc3MoIm1hcmdpblJpZ2h0Iil9KS5vdXRlcldpZHRoKHQub3V0ZXJXaWR0aCgpKS5vdXRlckhlaWdodCh0Lm91dGVySGVpZ2h0KCkpLC9eKHN0YXRpY3xyZWxhdGl2ZSkvLnRlc3QocikmJihyPSJhYnNvbHV0ZSIsaT1uKCI8Iit0WzBdLm5vZGVOYW1lKyI+IikuaW5zZXJ0QWZ0ZXIodCkuY3NzKHtkaXNwbGF5Oi9eKGlubGluZXxydWJ5KS8udGVzdCh0LmNzcygiZGlzcGxheSIpKT8iaW5saW5lLWJsb2NrIjoiYmxvY2siLHZpc2liaWxpdHk6ImhpZGRlbiIsbWFyZ2luVG9wOnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5Cb3R0b206dC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0LmNzcygibWFyZ2luUmlnaHQiKSxmbG9hdDp0LmNzcygiZmxvYXQiKX0pLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSkuYWRkQ2xhc3MoInVpLWVmZmVjdHMtcGxhY2Vob2xkZXIiKSx0LmRhdGEoZisicGxhY2Vob2xkZXIiLGkpKSx0LmNzcyh7cG9zaXRpb246cixsZWZ0OnUubGVmdCx0b3A6dS50b3B9KSxpfSxyZW1vdmVQbGFjZWhvbGRlcjpmdW5jdGlvbihuKXt2YXIgdD1mKyJwbGFjZWhvbGRlciIsaT1uLmRhdGEodCk7aSYmKGkucmVtb3ZlKCksbi5yZW1vdmVEYXRhKHQpKX0sY2xlYW5VcDpmdW5jdGlvbih0KXtuLmVmZmVjdHMucmVzdG9yZVN0eWxlKHQpO24uZWZmZWN0cy5yZW1vdmVQbGFjZWhvbGRlcih0KX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gdT11fHx7fSxuLmVhY2goaSxmdW5jdGlvbihuLGkpe3ZhciBmPXQuY3NzVW5pdChpKTtmWzBdPjAmJih1W2ldPWZbMF0qcitmWzFdKX0pLHV9fSk7bi5mbi5leHRlbmQoe2VmZmVjdDpmdW5jdGlvbigpe2Z1bmN0aW9uIG8odCl7ZnVuY3Rpb24gYygpe28ucmVtb3ZlRGF0YShoKTtuLmVmZmVjdHMuY2xlYW5VcChvKTsiaGlkZSI9PT1pLm1vZGUmJm8uaGlkZSgpO3MoKX1mdW5jdGlvbiBzKCl7bi5pc0Z1bmN0aW9uKGYpJiZmLmNhbGwob1swXSk7bi5pc0Z1bmN0aW9uKHQpJiZ0KCl9dmFyIG89bih0aGlzKTtpLm1vZGU9bC5zaGlmdCgpO24udWlCYWNrQ29tcGF0PT09ITF8fHU/Im5vbmUiPT09aS5tb2RlPyhvW3JdKCkscygpKTplLmNhbGwob1swXSxpLGMpOihvLmlzKCI6aGlkZGVuIik/ImhpZGUiPT09cjoic2hvdyI9PT1yKT8ob1tyXSgpLHMoKSk6ZS5jYWxsKG9bMF0saSxzKX12YXIgaT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPW4uZWZmZWN0cy5lZmZlY3RbaS5lZmZlY3RdLHU9ZS5tb2RlLHM9aS5xdWV1ZSxjPXN8fCJmeCIsZj1pLmNvbXBsZXRlLHI9aS5tb2RlLGw9W10sYT1mdW5jdGlvbih0KXt2YXIgZj1uKHRoaXMpLGk9bi5lZmZlY3RzLm1vZGUoZixyKXx8dTtmLmRhdGEoaCwhMCk7bC5wdXNoKGkpO3UmJigic2hvdyI9PT1pfHxpPT09dSYmImhpZGUiPT09aSkmJmYuc2hvdygpO3UmJiJub25lIj09PWl8fG4uZWZmZWN0cy5zYXZlU3R5bGUoZik7bi5pc0Z1bmN0aW9uKHQpJiZ0KCl9O3JldHVybiBuLmZ4Lm9mZnx8IWU/cj90aGlzW3JdKGkuZHVyYXRpb24sZik6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZiYmZi5jYWxsKHRoaXMpfSk6cz09PSExP3RoaXMuZWFjaChhKS5lYWNoKG8pOnRoaXMucXVldWUoYyxhKS5xdWV1ZShjLG8pfSxzaG93OmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihyKXtpZihpKHIpKXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdS5tb2RlPSJzaG93Iix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsdSl9fShuLmZuLnNob3cpLGhpZGU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocikpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9ImhpZGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4uaGlkZSksdG9nZ2xlOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihyKXtpZihpKHIpfHwiYm9vbGVhbiI9PXR5cGVvZiByKXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdS5tb2RlPSJ0b2dnbGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4udG9nZ2xlKSxjc3NVbml0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKHQpLHI9W107cmV0dXJuIG4uZWFjaChbImVtIiwicHgiLCIlIiwicHQiXSxmdW5jdGlvbihuLHQpe2kuaW5kZXhPZih0KT4wJiYocj1bcGFyc2VGbG9hdChpKSx0XSl9KSxyfSxjc3NDbGlwOmZ1bmN0aW9uKG4pe3JldHVybiBuP3RoaXMuY3NzKCJjbGlwIiwicmVjdCgiK24udG9wKyJweCAiK24ucmlnaHQrInB4ICIrbi5ib3R0b20rInB4ICIrbi5sZWZ0KyJweCkiKTpyKHRoaXMuY3NzKCJjbGlwIiksdGhpcyl9LHRyYW5zZmVyOmZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxyPW4odC50byksZj0iZml4ZWQiPT09ci5jc3MoInBvc2l0aW9uIiksZT1uKCJib2R5Iiksbz1mP2Uuc2Nyb2xsVG9wKCk6MCxzPWY/ZS5zY3JvbGxMZWZ0KCk6MCxoPXIub2Zmc2V0KCksbD17dG9wOmgudG9wLW8sbGVmdDpoLmxlZnQtcyxoZWlnaHQ6ci5pbm5lckhlaWdodCgpLHdpZHRoOnIuaW5uZXJXaWR0aCgpfSxjPXUub2Zmc2V0KCksYT1uKCI8ZGl2IGNsYXNzPSd1aS1lZmZlY3RzLXRyYW5zZmVyJz48XC9kaXY+IikuYXBwZW5kVG8oImJvZHkiKS5hZGRDbGFzcyh0LmNsYXNzTmFtZSkuY3NzKHt0b3A6Yy50b3AtbyxsZWZ0OmMubGVmdC1zLGhlaWdodDp1LmlubmVySGVpZ2h0KCksd2lkdGg6dS5pbm5lcldpZHRoKCkscG9zaXRpb246Zj8iZml4ZWQiOiJhYnNvbHV0ZSJ9KS5hbmltYXRlKGwsdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe2EucmVtb3ZlKCk7bi5pc0Z1bmN0aW9uKGkpJiZpKCl9KX19KTtuLmZ4LnN0ZXAuY2xpcD1mdW5jdGlvbih0KXt0LmNsaXBJbml0fHwodC5zdGFydD1uKHQuZWxlbSkuY3NzQ2xpcCgpLCJzdHJpbmciPT10eXBlb2YgdC5lbmQmJih0LmVuZD1yKHQuZW5kLHQuZWxlbSkpLHQuY2xpcEluaXQ9ITApO24odC5lbGVtKS5jc3NDbGlwKHt0b3A6dC5wb3MqKHQuZW5kLnRvcC10LnN0YXJ0LnRvcCkrdC5zdGFydC50b3AscmlnaHQ6dC5wb3MqKHQuZW5kLnJpZ2h0LXQuc3RhcnQucmlnaHQpK3Quc3RhcnQucmlnaHQsYm90dG9tOnQucG9zKih0LmVuZC5ib3R0b20tdC5zdGFydC5ib3R0b20pK3Quc3RhcnQuYm90dG9tLGxlZnQ6dC5wb3MqKHQuZW5kLmxlZnQtdC5zdGFydC5sZWZ0KSt0LnN0YXJ0LmxlZnR9KX19KCksZnVuY3Rpb24oKXt2YXIgdD17fTtuLmVhY2goWyJRdWFkIiwiQ3ViaWMiLCJRdWFydCIsIlF1aW50IiwiRXhwbyJdLGZ1bmN0aW9uKG4saSl7dFtpXT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxuKzIpfX0pO24uZXh0ZW5kKHQse1NpbmU6ZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5jb3MobipNYXRoLlBJLzIpfSxDaXJjOmZ1bmN0aW9uKG4pe3JldHVybiAxLU1hdGguc3FydCgxLW4qbil9LEVsYXN0aWM6ZnVuY3Rpb24obil7cmV0dXJuIDA9PT1ufHwxPT09bj9uOi1NYXRoLnBvdygyLDgqKG4tMSkpKk1hdGguc2luKCg4MCoobi0xKS03LjUpKk1hdGguUEkvMTUpfSxCYWNrOmZ1bmN0aW9uKG4pe3JldHVybiBuKm4qKDMqbi0yKX0sQm91bmNlOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpPTQ7KCh0PU1hdGgucG93KDIsLS1pKSktMSkvMTE+bjspO3JldHVybiAxL01hdGgucG93KDQsMy1pKS03LjU2MjUqTWF0aC5wb3coKDMqdC0yKS8yMi1uLDIpfX0pO24uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bi5lYXNpbmdbImVhc2VJbiIrdF09aTtuLmVhc2luZ1siZWFzZU91dCIrdF09ZnVuY3Rpb24obil7cmV0dXJuIDEtaSgxLW4pfTtuLmVhc2luZ1siZWFzZUluT3V0Iit0XT1mdW5jdGlvbihuKXtyZXR1cm4uNT5uP2koMipuKS8yOjEtaSgtMipuKzIpLzJ9fSl9KCk7cD1uLmVmZmVjdHM7bi5lZmZlY3RzLmRlZmluZSgiYmxpbmQiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciBlPXt1cDpbImJvdHRvbSIsInRvcCJdLHZlcnRpY2FsOlsiYm90dG9tIiwidG9wIl0sZG93bjpbInRvcCIsImJvdHRvbSJdLGxlZnQ6WyJyaWdodCIsImxlZnQiXSxob3Jpem9udGFsOlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sdT1uKHRoaXMpLG89dC5kaXJlY3Rpb258fCJ1cCIscz11LmNzc0NsaXAoKSxyPXtjbGlwOm4uZXh0ZW5kKHt9LHMpfSxmPW4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KTtyLmNsaXBbZVtvXVswXV09ci5jbGlwW2Vbb11bMV1dOyJzaG93Ij09PXQubW9kZSYmKHUuY3NzQ2xpcChyLmNsaXApLGYmJmYuY3NzKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikpLHIuY2xpcD1zKTtmJiZmLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChyKSx0LmR1cmF0aW9uLHQuZWFzaW5nKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiYm91bmNlIixmdW5jdGlvbih0LGkpe3ZhciBlLG8sYSx1PW4odGhpcykscD10Lm1vZGUscz0iaGlkZSI9PT1wLHc9InNob3ciPT09cCxoPXQuZGlyZWN0aW9ufHwidXAiLHI9dC5kaXN0YW5jZSx2PXQudGltZXN8fDUsYj0yKnYrKHd8fHM/MTowKSxjPXQuZHVyYXRpb24vYixsPXQuZWFzaW5nLGY9InVwIj09PWh8fCJkb3duIj09PWg/InRvcCI6ImxlZnQiLHk9InVwIj09PWh8fCJsZWZ0Ij09PWgsaz0wLGQ9dS5xdWV1ZSgpLmxlbmd0aDtmb3Iobi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpLGE9dS5jc3MoZikscnx8KHI9dVsidG9wIj09PWY/Im91dGVySGVpZ2h0Ijoib3V0ZXJXaWR0aCJdKCkvMyksdyYmKG89e29wYWNpdHk6MX0sb1tmXT1hLHUuY3NzKCJvcGFjaXR5IiwwKS5jc3MoZix5PzIqLXI6MipyKS5hbmltYXRlKG8sYyxsKSkscyYmKHIvPU1hdGgucG93KDIsdi0xKSksbz17fSxvW2ZdPWE7dj5rO2srKyllPXt9LGVbZl09KHk/Ii09IjoiKz0iKStyLHUuYW5pbWF0ZShlLGMsbCkuYW5pbWF0ZShvLGMsbCkscj1zPzIqcjpyLzI7cyYmKGU9e29wYWNpdHk6MH0sZVtmXT0oeT8iLT0iOiIrPSIpK3IsdS5hbmltYXRlKGUsYyxsKSk7dS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdCh1LGQsYisxKX0pO24uZWZmZWN0cy5kZWZpbmUoImNsaXAiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciByLHU9e30sZj1uKHRoaXMpLGU9dC5kaXJlY3Rpb258fCJ2ZXJ0aWNhbCIsbz0iYm90aCI9PT1lLHM9b3x8Imhvcml6b250YWwiPT09ZSxoPW98fCJ2ZXJ0aWNhbCI9PT1lO3I9Zi5jc3NDbGlwKCk7dS5jbGlwPXt0b3A6aD8oci5ib3R0b20tci50b3ApLzI6ci50b3AscmlnaHQ6cz8oci5yaWdodC1yLmxlZnQpLzI6ci5yaWdodCxib3R0b206aD8oci5ib3R0b20tci50b3ApLzI6ci5ib3R0b20sbGVmdDpzPyhyLnJpZ2h0LXIubGVmdCkvMjpyLmxlZnR9O24uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihmKTsic2hvdyI9PT10Lm1vZGUmJihmLmNzc0NsaXAodS5jbGlwKSx1LmNsaXA9cik7Zi5hbmltYXRlKHUse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOml9KX0pO24uZWZmZWN0cy5kZWZpbmUoImRyb3AiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciBlLHU9bih0aGlzKSxoPXQubW9kZSxjPSJzaG93Ij09PWgsZj10LmRpcmVjdGlvbnx8ImxlZnQiLG89InVwIj09PWZ8fCJkb3duIj09PWY/InRvcCI6ImxlZnQiLHM9InVwIj09PWZ8fCJsZWZ0Ij09PWY/Ii09IjoiKz0iLGw9Iis9Ij09PXM/Ii09IjoiKz0iLHI9e29wYWNpdHk6MH07bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO2U9dC5kaXN0YW5jZXx8dVsidG9wIj09PW8/Im91dGVySGVpZ2h0Ijoib3V0ZXJXaWR0aCJdKCEwKS8yO3Jbb109cytlO2MmJih1LmNzcyhyKSxyW29dPWwrZSxyLm9wYWNpdHk9MSk7dS5hbmltYXRlKHIse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOml9KX0pO24uZWZmZWN0cy5kZWZpbmUoImV4cGxvZGUiLCJoaWRlIixmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGIoKXtwLnB1c2godGhpcyk7cC5sZW5ndGg9PT1lKmMmJmsoKX1mdW5jdGlvbiBrKCl7by5jc3Moe3Zpc2liaWxpdHk6InZpc2libGUifSk7bihwKS5yZW1vdmUoKTtpKCl9Zm9yKHZhciB1LGwsYSx2LHksZT10LnBpZWNlcz9NYXRoLnJvdW5kKE1hdGguc3FydCh0LnBpZWNlcykpOjMsYz1lLG89bih0aGlzKSxkPXQubW9kZSxmPSJzaG93Ij09PWQsdz1vLnNob3coKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKS5vZmZzZXQoKSxzPU1hdGguY2VpbChvLm91dGVyV2lkdGgoKS9jKSxoPU1hdGguY2VpbChvLm91dGVySGVpZ2h0KCkvZSkscD1bXSxyPTA7ZT5yO3IrKylmb3IoYT13LnRvcCtyKmgseT1yLShlLTEpLzIsdT0wO2M+dTt1KyspbD13LmxlZnQrdSpzLHY9dS0oYy0xKS8yLG8uY2xvbmUoKS5hcHBlbmRUbygiYm9keSIpLndyYXAoIjxkaXY+PFwvZGl2PiIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJ2aXNpYmxlIixsZWZ0Oi11KnMsdG9wOi1yKmh9KS5wYXJlbnQoKS5hZGRDbGFzcygidWktZWZmZWN0cy1leHBsb2RlIikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLG92ZXJmbG93OiJoaWRkZW4iLHdpZHRoOnMsaGVpZ2h0OmgsbGVmdDpsKyhmP3YqczowKSx0b3A6YSsoZj95Kmg6MCksb3BhY2l0eTpmPzA6MX0pLmFuaW1hdGUoe2xlZnQ6bCsoZj8wOnYqcyksdG9wOmErKGY/MDp5KmgpLG9wYWNpdHk6Zj8xOjB9LHQuZHVyYXRpb258fDUwMCx0LmVhc2luZyxiKX0pO24uZWZmZWN0cy5kZWZpbmUoImZhZGUiLCJ0b2dnbGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHI9InNob3ciPT09dC5tb2RlO24odGhpcykuY3NzKCJvcGFjaXR5IixyPzA6MSkuYW5pbWF0ZSh7b3BhY2l0eTpyPzE6MH0se3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOml9KX0pO24uZWZmZWN0cy5kZWZpbmUoImZvbGQiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciB1PW4odGhpcyksbD10Lm1vZGUsdj0ic2hvdyI9PT1sLHk9ImhpZGUiPT09bCxvPXQuc2l6ZXx8MTUsYT0vKFswLTldKyklLy5leGVjKG8pLHA9ISF0Lmhvcml6Rmlyc3QsZj1wP1sicmlnaHQiLCJib3R0b20iXTpbImJvdHRvbSIsInJpZ2h0Il0scz10LmR1cmF0aW9uLzIsaD1uLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSksZT11LmNzc0NsaXAoKSxjPXtjbGlwOm4uZXh0ZW5kKHt9LGUpfSxyPXtjbGlwOm4uZXh0ZW5kKHt9LGUpfSx3PVtlW2ZbMF1dLGVbZlsxXV1dLGI9dS5xdWV1ZSgpLmxlbmd0aDthJiYobz1wYXJzZUludChhWzFdLDEwKS8xMDAqd1t5PzA6MV0pO2MuY2xpcFtmWzBdXT1vO3IuY2xpcFtmWzBdXT1vO3IuY2xpcFtmWzFdXT0wO3YmJih1LmNzc0NsaXAoci5jbGlwKSxoJiZoLmNzcyhuLmVmZmVjdHMuY2xpcFRvQm94KHIpKSxyLmNsaXA9ZSk7dS5xdWV1ZShmdW5jdGlvbihpKXtoJiZoLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChjKSxzLHQuZWFzaW5nKS5hbmltYXRlKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikscyx0LmVhc2luZyk7aSgpfSkuYW5pbWF0ZShjLHMsdC5lYXNpbmcpLmFuaW1hdGUocixzLHQuZWFzaW5nKS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdCh1LGIsNCl9KTtuLmVmZmVjdHMuZGVmaW5lKCJoaWdobGlnaHQiLCJzaG93IixmdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcyksdT17YmFja2dyb3VuZENvbG9yOnIuY3NzKCJiYWNrZ3JvdW5kQ29sb3IiKX07ImhpZGUiPT09dC5tb2RlJiYodS5vcGFjaXR5PTApO24uZWZmZWN0cy5zYXZlU3R5bGUocik7ci5jc3Moe2JhY2tncm91bmRJbWFnZToibm9uZSIsYmFja2dyb3VuZENvbG9yOnQuY29sb3J8fCIjZmZmZjk5In0pLmFuaW1hdGUodSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgic2l6ZSIsZnVuY3Rpb24odCxpKXt2YXIgbCxyLHAsdT1uKHRoaXMpLHY9WyJmb250U2l6ZSJdLHM9WyJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxoPVsiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sdz10Lm1vZGUseT0iZWZmZWN0IiE9PXcsYz10LnNjYWxlfHwiYm90aCIsYj10Lm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXSxrPXUuY3NzKCJwb3NpdGlvbiIpLGE9dS5wb3NpdGlvbigpLG89bi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnModSksZj10LmZyb218fG8sZT10LnRvfHxuLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1LDApO24uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KTsic2hvdyI9PT13JiYocD1mLGY9ZSxlPXApO3I9e2Zyb206e3k6Zi5oZWlnaHQvby5oZWlnaHQseDpmLndpZHRoL28ud2lkdGh9LHRvOnt5OmUuaGVpZ2h0L28uaGVpZ2h0LHg6ZS53aWR0aC9vLndpZHRofX07KCJib3giPT09Y3x8ImJvdGgiPT09YykmJihyLmZyb20ueSE9PXIudG8ueSYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxzLHIuZnJvbS55LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxzLHIudG8ueSxlKSksci5mcm9tLnghPT1yLnRvLngmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsaCxyLmZyb20ueCxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsaCxyLnRvLngsZSkpKTsoImNvbnRlbnQiPT09Y3x8ImJvdGgiPT09YykmJnIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHYsci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHYsci50by55LGUpKTtiJiYobD1uLmVmZmVjdHMuZ2V0QmFzZWxpbmUoYixvKSxmLnRvcD0oby5vdXRlckhlaWdodC1mLm91dGVySGVpZ2h0KSpsLnkrYS50b3AsZi5sZWZ0PShvLm91dGVyV2lkdGgtZi5vdXRlcldpZHRoKSpsLngrYS5sZWZ0LGUudG9wPShvLm91dGVySGVpZ2h0LWUub3V0ZXJIZWlnaHQpKmwueSthLnRvcCxlLmxlZnQ9KG8ub3V0ZXJXaWR0aC1lLm91dGVyV2lkdGgpKmwueCthLmxlZnQpO3UuY3NzKGYpOygiY29udGVudCI9PT1jfHwiYm90aCI9PT1jKSYmKHM9cy5jb25jYXQoWyJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iXSkuY29uY2F0KHYpLGg9aC5jb25jYXQoWyJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiXSksdS5maW5kKCIqW3dpZHRoXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHU9bi5lZmZlY3RzLnNjYWxlZERpbWVuc2lvbnMoaSksZj17aGVpZ2h0OnUuaGVpZ2h0KnIuZnJvbS55LHdpZHRoOnUud2lkdGgqci5mcm9tLngsb3V0ZXJIZWlnaHQ6dS5vdXRlckhlaWdodCpyLmZyb20ueSxvdXRlcldpZHRoOnUub3V0ZXJXaWR0aCpyLmZyb20ueH0sZT17aGVpZ2h0OnUuaGVpZ2h0KnIudG8ueSx3aWR0aDp1LndpZHRoKnIudG8ueCxvdXRlckhlaWdodDp1LmhlaWdodCpyLnRvLnksb3V0ZXJXaWR0aDp1LndpZHRoKnIudG8ueH07ci5mcm9tLnkhPT1yLnRvLnkmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGkscyxyLmZyb20ueSxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGkscyxyLnRvLnksZSkpO3IuZnJvbS54IT09ci50by54JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGgsci5mcm9tLngsZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGgsci50by54LGUpKTt5JiZuLmVmZmVjdHMuc2F2ZVN0eWxlKGkpO2kuY3NzKGYpO2kuYW5pbWF0ZShlLHQuZHVyYXRpb24sdC5lYXNpbmcsZnVuY3Rpb24oKXt5JiZuLmVmZmVjdHMucmVzdG9yZVN0eWxlKGkpfSl9KSk7dS5hbmltYXRlKGUse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dS5vZmZzZXQoKTswPT09ZS5vcGFjaXR5JiZ1LmNzcygib3BhY2l0eSIsZi5vcGFjaXR5KTt5fHwodS5jc3MoInBvc2l0aW9uIiwic3RhdGljIj09PWs/InJlbGF0aXZlIjprKS5vZmZzZXQodCksbi5lZmZlY3RzLnNhdmVTdHlsZSh1KSk7aSgpfX0pfSk7bi5lZmZlY3RzLmRlZmluZSgic2NhbGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxmPXQubW9kZSxlPXBhcnNlSW50KHQucGVyY2VudCwxMCl8fCgwPT09cGFyc2VJbnQodC5wZXJjZW50LDEwKT8wOiJlZmZlY3QiIT09Zj8wOjEwMCkscj1uLmV4dGVuZCghMCx7ZnJvbTpuLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1KSx0bzpuLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1LGUsdC5kaXJlY3Rpb258fCJib3RoIiksb3JpZ2luOnQub3JpZ2lufHxbIm1pZGRsZSIsImNlbnRlciJdfSx0KTt0LmZhZGUmJihyLmZyb20ub3BhY2l0eT0xLHIudG8ub3BhY2l0eT0wKTtuLmVmZmVjdHMuZWZmZWN0LnNpemUuY2FsbCh0aGlzLHIsaSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJwdWZmIiwiaGlkZSIsZnVuY3Rpb24odCxpKXt2YXIgcj1uLmV4dGVuZCghMCx7fSx0LHtmYWRlOiEwLHBlcmNlbnQ6cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8MTUwfSk7bi5lZmZlY3RzLmVmZmVjdC5zY2FsZS5jYWxsKHRoaXMscixpKX0pO24uZWZmZWN0cy5kZWZpbmUoInB1bHNhdGUiLCJzaG93IixmdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcyksZT10Lm1vZGUsbz0ic2hvdyI9PT1lLGM9ImhpZGUiPT09ZSxsPW98fGMsZj0yKih0LnRpbWVzfHw1KSsobD8xOjApLHM9dC5kdXJhdGlvbi9mLHU9MCxoPTEsYT1yLnF1ZXVlKCkubGVuZ3RoO2Zvcigob3x8IXIuaXMoIjp2aXNpYmxlIikpJiYoci5jc3MoIm9wYWNpdHkiLDApLnNob3coKSx1PTEpO2Y+aDtoKyspci5hbmltYXRlKHtvcGFjaXR5OnV9LHMsdC5lYXNpbmcpLHU9MS11O3IuYW5pbWF0ZSh7b3BhY2l0eTp1fSxzLHQuZWFzaW5nKTtyLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHIsYSxmKzEpfSk7bi5lZmZlY3RzLmRlZmluZSgic2hha2UiLGZ1bmN0aW9uKHQsaSl7dmFyIGw9MSxyPW4odGhpcyksZj10LmRpcmVjdGlvbnx8ImxlZnQiLGU9dC5kaXN0YW5jZXx8MjAsYT10LnRpbWVzfHwzLHY9MiphKzEsdT1NYXRoLnJvdW5kKHQuZHVyYXRpb24vdiksbz0idXAiPT09Znx8ImRvd24iPT09Zj8idG9wIjoibGVmdCIscz0idXAiPT09Znx8ImxlZnQiPT09ZixoPXt9LGM9e30seT17fSxwPXIucXVldWUoKS5sZW5ndGg7Zm9yKG4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcihyKSxoW29dPShzPyItPSI6Iis9IikrZSxjW29dPShzPyIrPSI6Ii09IikrMiplLHlbb109KHM/Ii09IjoiKz0iKSsyKmUsci5hbmltYXRlKGgsdSx0LmVhc2luZyk7YT5sO2wrKylyLmFuaW1hdGUoYyx1LHQuZWFzaW5nKS5hbmltYXRlKHksdSx0LmVhc2luZyk7ci5hbmltYXRlKGMsdSx0LmVhc2luZykuYW5pbWF0ZShoLHUvMix0LmVhc2luZykucXVldWUoaSk7bi5lZmZlY3RzLnVuc2hpZnQocixwLHYrMSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzbGlkZSIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHMsbyx1PW4odGhpcyksaD17dXA6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLHJpZ2h0OlsibGVmdCIsInJpZ2h0Il19LGM9dC5tb2RlLGY9dC5kaXJlY3Rpb258fCJsZWZ0IixlPSJ1cCI9PT1mfHwiZG93biI9PT1mPyJ0b3AiOiJsZWZ0IixsPSJ1cCI9PT1mfHwibGVmdCI9PT1mLGE9dC5kaXN0YW5jZXx8dVsidG9wIj09PWU/Im91dGVySGVpZ2h0Ijoib3V0ZXJXaWR0aCJdKCEwKSxyPXt9O24uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KTtzPXUuY3NzQ2xpcCgpO289dS5wb3NpdGlvbigpW2VdO3JbZV09KGw/LTE6MSkqYStvO3IuY2xpcD11LmNzc0NsaXAoKTtyLmNsaXBbaFtmXVsxXV09ci5jbGlwW2hbZl1bMF1dOyJzaG93Ij09PWMmJih1LmNzc0NsaXAoci5jbGlwKSx1LmNzcyhlLHJbZV0pLHIuY2xpcD1zLHJbZV09byk7dS5hbmltYXRlKHIse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOml9KX0pO24udWlCYWNrQ29tcGF0IT09ITEmJihwPW4uZWZmZWN0cy5kZWZpbmUoInRyYW5zZmVyIixmdW5jdGlvbih0LGkpe24odGhpcykudHJhbnNmZXIodCxpKX0pKTtuLnVpLmZvY3VzYWJsZT1mdW5jdGlvbih0LGkpe3ZhciB1LGYsZSxyLG8scz10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImFyZWEiPT09cz8odT10LnBhcmVudE5vZGUsZj11Lm5hbWUsdC5ocmVmJiZmJiYibWFwIj09PXUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT8oZT1uKCJpbWdbdXNlbWFwPScjIitmKyInXSIpLGUubGVuZ3RoPjAmJmUuaXMoIjp2aXNpYmxlIikpOiExKTooL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdChzKT8ocj0hdC5kaXNhYmxlZCxyJiYobz1uKHQpLmNsb3Nlc3QoImZpZWxkc2V0IilbMF0sbyYmKHI9IW8uZGlzYWJsZWQpKSk6cj0iYSI9PT1zP3QuaHJlZnx8aTppLHImJm4odCkuaXMoIjp2aXNpYmxlIikmJmIobih0KSkpfTtuLmV4dGVuZChuLmV4cHJbIjoiXSx7Zm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3JldHVybiBuLnVpLmZvY3VzYWJsZSh0LG51bGwhPW4uYXR0cih0LCJ0YWJpbmRleCIpKX19KTtuLnVpLmZvY3VzYWJsZTtuLmZuLmZvcm09ZnVuY3Rpb24oKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHRoaXNbMF0uZm9ybT90aGlzLmNsb3Nlc3QoImZvcm0iKTpuKHRoaXNbMF0uZm9ybSl9O24udWkuZm9ybVJlc2V0TWl4aW49e19mb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGk9dC5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpO24uZWFjaChpLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9KX0pfSxfYmluZEZvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXtpZih0aGlzLmZvcm09dGhpcy5lbGVtZW50LmZvcm0oKSx0aGlzLmZvcm0ubGVuZ3RoKXt2YXIgbj10aGlzLmZvcm0uZGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiKXx8W107bi5sZW5ndGh8fHRoaXMuZm9ybS5vbigicmVzZXQudWktZm9ybS1yZXNldCIsdGhpcy5fZm9ybVJlc2V0SGFuZGxlcik7bi5wdXNoKHRoaXMpO3RoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIsbil9fSxfdW5iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe2lmKHRoaXMuZm9ybS5sZW5ndGgpe3ZhciB0PXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpO3Quc3BsaWNlKG4uaW5BcnJheSh0aGlzLHQpLDEpO3QubGVuZ3RoP3RoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIsdCk6dGhpcy5mb3JtLnJlbW92ZURhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIikub2ZmKCJyZXNldC51aS1mb3JtLXJlc2V0Iil9fX07IjEuNyI9PT1uLmZuLmpxdWVyeS5zdWJzdHJpbmcoMCwzKSYmKG4uZWFjaChbIldpZHRoIiwiSGVpZ2h0Il0sZnVuY3Rpb24odCxpKXtmdW5jdGlvbiByKHQsaSxyLHUpe3JldHVybiBuLmVhY2goZSxmdW5jdGlvbigpe2ktPXBhcnNlRmxvYXQobi5jc3ModCwicGFkZGluZyIrdGhpcykpfHwwO3ImJihpLT1wYXJzZUZsb2F0KG4uY3NzKHQsImJvcmRlciIrdGhpcysiV2lkdGgiKSl8fDApO3UmJihpLT1wYXJzZUZsb2F0KG4uY3NzKHQsIm1hcmdpbiIrdGhpcykpfHwwKX0pLGl9dmFyIGU9IldpZHRoIj09PWk/WyJMZWZ0IiwiUmlnaHQiXTpbIlRvcCIsIkJvdHRvbSJdLHU9aS50b0xvd2VyQ2FzZSgpLGY9e2lubmVyV2lkdGg6bi5mbi5pbm5lcldpZHRoLGlubmVySGVpZ2h0Om4uZm4uaW5uZXJIZWlnaHQsb3V0ZXJXaWR0aDpuLmZuLm91dGVyV2lkdGgsb3V0ZXJIZWlnaHQ6bi5mbi5vdXRlckhlaWdodH07bi5mblsiaW5uZXIiK2ldPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10P2ZbImlubmVyIitpXS5jYWxsKHRoaXMpOnRoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuY3NzKHUscih0aGlzLHQpKyJweCIpfSl9O24uZm5bIm91dGVyIitpXT1mdW5jdGlvbih0LGUpe3JldHVybiJudW1iZXIiIT10eXBlb2YgdD9mWyJvdXRlciIraV0uY2FsbCh0aGlzLHQpOnRoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuY3NzKHUscih0aGlzLHQsITAsZSkrInB4Iil9KX19KSxuLmZuLmFkZEJhY2s9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuYWRkKG51bGw9PW4/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIobikpfSk7bi51aS5rZXlDb2RlPXtCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH07bi51aS5lc2NhcGVTZWxlY3Rvcj1mdW5jdGlvbigpe3ZhciBuPS8oWyEiIyQlJicoKSorLC5cLzo7PD0+P0BbXF1eYHt8fX5dKS9nO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKG4sIlxcJDEiKX19KCk7bi5mbi5sYWJlbHM9ZnVuY3Rpb24oKXt2YXIgdCxyLHUsaSxmO3JldHVybiB0aGlzWzBdLmxhYmVscyYmdGhpc1swXS5sYWJlbHMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKHRoaXNbMF0ubGFiZWxzKTooaT10aGlzLmVxKDApLnBhcmVudHMoImxhYmVsIiksdT10aGlzLmF0dHIoImlkIiksdSYmKHQ9dGhpcy5lcSgwKS5wYXJlbnRzKCkubGFzdCgpLGY9dC5hZGQodC5sZW5ndGg/dC5zaWJsaW5ncygpOnRoaXMuc2libGluZ3MoKSkscj0ibGFiZWxbZm9yPSciK24udWkuZXNjYXBlU2VsZWN0b3IodSkrIiddIixpPWkuYWRkKGYuZmluZChyKS5hZGRCYWNrKHIpKSksdGhpcy5wdXNoU3RhY2soaSkpfTtuLmZuLnNjcm9sbFBhcmVudD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLmNzcygicG9zaXRpb24iKSx1PSJhYnNvbHV0ZSI9PT1pLGY9dD8vKGF1dG98c2Nyb2xsfGhpZGRlbikvOi8oYXV0b3xzY3JvbGwpLyxyPXRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7cmV0dXJuIHUmJiJzdGF0aWMiPT09dC5jc3MoInBvc2l0aW9uIik/ITE6Zi50ZXN0KHQuY3NzKCJvdmVyZmxvdyIpK3QuY3NzKCJvdmVyZmxvdy15IikrdC5jc3MoIm92ZXJmbG93LXgiKSl9KS5lcSgwKTtyZXR1cm4iZml4ZWQiIT09aSYmci5sZW5ndGg/cjpuKHRoaXNbMF0ub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQpfTtuLmV4dGVuZChuLmV4cHJbIjoiXSx7dGFiYmFibGU6ZnVuY3Rpb24odCl7dmFyIGk9bi5hdHRyKHQsInRhYmluZGV4Iikscj1udWxsIT1pO3JldHVybighcnx8aT49MCkmJm4udWkuZm9jdXNhYmxlKHQscil9fSk7bi5mbi5leHRlbmQoe3VuaXF1ZUlkOmZ1bmN0aW9uKCl7dmFyIG49MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9InVpLWlkLSIrICsrbil9KX19KCkscmVtb3ZlVW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7L151aS1pZC1cZCskLy50ZXN0KHRoaXMuaWQpJiZuKHRoaXMpLnJlbW92ZUF0dHIoImlkIil9KX19KTtuLndpZGdldCgidWkuYWNjb3JkaW9uIix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOnthY3RpdmU6MCxhbmltYXRlOnt9LGNsYXNzZXM6eyJ1aS1hY2NvcmRpb24taGVhZGVyIjoidWktY29ybmVyLXRvcCIsInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIjoidWktY29ybmVyLWFsbCIsInVpLWFjY29yZGlvbi1jb250ZW50IjoidWktY29ybmVyLWJvdHRvbSJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVhZGVyOiI+IGxpID4gOmZpcnN0LWNoaWxkLCA+IDpub3QobGkpOmV2ZW4iLGhlaWdodFN0eWxlOiJhdXRvIixpY29uczp7YWN0aXZlSGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsaGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtZSJ9LGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbH0saGlkZVByb3BzOntib3JkZXJUb3BXaWR0aDoiaGlkZSIsYm9yZGVyQm90dG9tV2lkdGg6ImhpZGUiLHBhZGRpbmdUb3A6ImhpZGUiLHBhZGRpbmdCb3R0b206ImhpZGUiLGhlaWdodDoiaGlkZSJ9LHNob3dQcm9wczp7Ym9yZGVyVG9wV2lkdGg6InNob3ciLGJvcmRlckJvdHRvbVdpZHRoOiJzaG93IixwYWRkaW5nVG9wOiJzaG93IixwYWRkaW5nQm90dG9tOiJzaG93IixoZWlnaHQ6InNob3cifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMucHJldlNob3c9dGhpcy5wcmV2SGlkZT1uKCk7dGhpcy5fYWRkQ2xhc3MoInVpLWFjY29yZGlvbiIsInVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXQiKTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInRhYmxpc3QiKTt0LmNvbGxhcHNpYmxlfHx0LmFjdGl2ZSE9PSExJiZudWxsIT10LmFjdGl2ZXx8KHQuYWN0aXZlPTApO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTswPnQuYWN0aXZlJiYodC5hY3RpdmUrPXRoaXMuaGVhZGVycy5sZW5ndGgpO3RoaXMuX3JlZnJlc2goKX0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybntoZWFkZXI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLm5leHQoKTpuKCl9fSxfY3JlYXRlSWNvbnM6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcy5vcHRpb25zLmljb25zO3QmJihpPW4oIjxzcGFuPiIpLHRoaXMuX2FkZENsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIsInVpLWljb24gIit0LmhlYWRlciksaS5wcmVwZW5kVG8odGhpcy5oZWFkZXJzKSxyPXRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3Mocix0LmhlYWRlcikuX2FkZENsYXNzKHIsbnVsbCx0LmFjdGl2ZUhlYWRlcikuX2FkZENsYXNzKHRoaXMuaGVhZGVycywidWktYWNjb3JkaW9uLWljb25zIikpfSxfZGVzdHJveUljb25zOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKTt0aGlzLmhlYWRlcnMuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKS5yZW1vdmUoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgbjt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMuaGVhZGVycy5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtZXhwYW5kZWQgYXJpYS1zZWxlY3RlZCBhcmlhLWNvbnRyb2xzIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKTt0aGlzLl9kZXN0cm95SWNvbnMoKTtuPXRoaXMuaGVhZGVycy5uZXh0KCkuY3NzKCJkaXNwbGF5IiwiIikucmVtb3ZlQXR0cigicm9sZSBhcmlhLWhpZGRlbiBhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVVbmlxdWVJZCgpOyJjb250ZW50IiE9PXRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSYmbi5jc3MoImhlaWdodCIsIiIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImFjdGl2ZSI9PT1uPyh0aGlzLl9hY3RpdmF0ZSh0KSx2b2lkIDApOigiZXZlbnQiPT09biYmKHRoaXMub3B0aW9ucy5ldmVudCYmdGhpcy5fb2ZmKHRoaXMuaGVhZGVycyx0aGlzLm9wdGlvbnMuZXZlbnQpLHRoaXMuX3NldHVwRXZlbnRzKHQpKSx0aGlzLl9zdXBlcihuLHQpLCJjb2xsYXBzaWJsZSIhPT1ufHx0fHx0aGlzLm9wdGlvbnMuYWN0aXZlIT09ITF8fHRoaXMuX2FjdGl2YXRlKDApLCJpY29ucyI9PT1uJiYodGhpcy5fZGVzdHJveUljb25zKCksdCYmdGhpcy5fY3JlYXRlSWNvbnMoKSksdm9pZCAwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWRpc2FibGVkIixuKTt0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFuKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmhlYWRlcnMuYWRkKHRoaXMuaGVhZGVycy5uZXh0KCkpLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfa2V5ZG93bjpmdW5jdGlvbih0KXtpZighdC5hbHRLZXkmJiF0LmN0cmxLZXkpe3ZhciBpPW4udWkua2V5Q29kZSx1PXRoaXMuaGVhZGVycy5sZW5ndGgsZj10aGlzLmhlYWRlcnMuaW5kZXgodC50YXJnZXQpLHI9ITE7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBpLlJJR0hUOmNhc2UgaS5ET1dOOnI9dGhpcy5oZWFkZXJzWyhmKzEpJXVdO2JyZWFrO2Nhc2UgaS5MRUZUOmNhc2UgaS5VUDpyPXRoaXMuaGVhZGVyc1soZi0xK3UpJXVdO2JyZWFrO2Nhc2UgaS5TUEFDRTpjYXNlIGkuRU5URVI6dGhpcy5fZXZlbnRIYW5kbGVyKHQpO2JyZWFrO2Nhc2UgaS5IT01FOnI9dGhpcy5oZWFkZXJzWzBdO2JyZWFrO2Nhc2UgaS5FTkQ6cj10aGlzLmhlYWRlcnNbdS0xXX1yJiYobih0LnRhcmdldCkuYXR0cigidGFiSW5kZXgiLC0xKSxuKHIpLmF0dHIoInRhYkluZGV4IiwwKSxuKHIpLnRyaWdnZXIoImZvY3VzIiksdC5wcmV2ZW50RGVmYXVsdCgpKX19LF9wYW5lbEtleURvd246ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlVQJiZ0LmN0cmxLZXkmJm4odC5jdXJyZW50VGFyZ2V0KS5wcmV2KCkudHJpZ2dlcigiZm9jdXMiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9uczt0aGlzLl9wcm9jZXNzUGFuZWxzKCk7dC5hY3RpdmU9PT0hMSYmdC5jb2xsYXBzaWJsZT09PSEwfHwhdGhpcy5oZWFkZXJzLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTp0LmFjdGl2ZT09PSExP3RoaXMuX2FjdGl2YXRlKDApOnRoaXMuYWN0aXZlLmxlbmd0aCYmIW4uY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLmhlYWRlcnMubGVuZ3RoPT09dGhpcy5oZWFkZXJzLmZpbmQoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTp0aGlzLl9hY3RpdmF0ZShNYXRoLm1heCgwLHQuYWN0aXZlLTEpKTp0LmFjdGl2ZT10aGlzLmhlYWRlcnMuaW5kZXgodGhpcy5hY3RpdmUpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO3RoaXMuX3JlZnJlc2goKX0sX3Byb2Nlc3NQYW5lbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWRlcnMsbj10aGlzLnBhbmVsczt0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhlYWRlcik7dGhpcy5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taGVhZGVyIHVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMucGFuZWxzPXRoaXMuaGVhZGVycy5uZXh0KCkuZmlsdGVyKCI6bm90KC51aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUpIikuaGlkZSgpO3RoaXMuX2FkZENsYXNzKHRoaXMucGFuZWxzLCJ1aS1hY2NvcmRpb24tY29udGVudCIsInVpLWhlbHBlci1yZXNldCB1aS13aWRnZXQtY29udGVudCIpO24mJih0aGlzLl9vZmYodC5ub3QodGhpcy5oZWFkZXJzKSksdGhpcy5fb2ZmKG4ubm90KHRoaXMucGFuZWxzKSkpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5vcHRpb25zLHI9aS5oZWlnaHRTdHlsZSx1PXRoaXMuZWxlbWVudC5wYXJlbnQoKTt0aGlzLmFjdGl2ZT10aGlzLl9maW5kQWN0aXZlKGkuYWN0aXZlKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKS5fcmVtb3ZlQ2xhc3ModGhpcy5hY3RpdmUsInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIik7dGhpcy5fYWRkQ2xhc3ModGhpcy5hY3RpdmUubmV4dCgpLCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKTt0aGlzLmFjdGl2ZS5uZXh0KCkuc2hvdygpO3RoaXMuaGVhZGVycy5hdHRyKCJyb2xlIiwidGFiIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykscj10LnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxpPXQubmV4dCgpLHU9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7dC5hdHRyKCJhcmlhLWNvbnRyb2xzIix1KTtpLmF0dHIoImFyaWEtbGFiZWxsZWRieSIscil9KS5uZXh0KCkuYXR0cigicm9sZSIsInRhYnBhbmVsIik7dGhpcy5oZWFkZXJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsdGFiSW5kZXg6LTF9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoidHJ1ZSJ9KS5oaWRlKCk7dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuYWN0aXZlLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSkubmV4dCgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pOnRoaXMuaGVhZGVycy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCk7dGhpcy5fY3JlYXRlSWNvbnMoKTt0aGlzLl9zZXR1cEV2ZW50cyhpLmV2ZW50KTsiZmlsbCI9PT1yPyh0PXUuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKCI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHI9aS5jc3MoInBvc2l0aW9uIik7ImFic29sdXRlIiE9PXImJiJmaXhlZCIhPT1yJiYodC09aS5vdXRlckhlaWdodCghMCkpfSksdGhpcy5oZWFkZXJzLmVhY2goZnVuY3Rpb24oKXt0LT1uKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe24odGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsdC1uKHRoaXMpLmlubmVySGVpZ2h0KCkrbih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6ImF1dG8iPT09ciYmKHQ9MCx0aGlzLmhlYWRlcnMubmV4dCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLmlzKCI6dmlzaWJsZSIpO2l8fG4odGhpcykuc2hvdygpO3Q9TWF0aC5tYXgodCxuKHRoaXMpLmNzcygiaGVpZ2h0IiwiIikuaGVpZ2h0KCkpO2l8fG4odGhpcykuaGlkZSgpfSkuaGVpZ2h0KHQpKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX2ZpbmRBY3RpdmUodClbMF07aSE9PXRoaXMuYWN0aXZlWzBdJiYoaT1pfHx0aGlzLmFjdGl2ZVswXSx0aGlzLl9ldmVudEhhbmRsZXIoe3RhcmdldDppLGN1cnJlbnRUYXJnZXQ6aSxwcmV2ZW50RGVmYXVsdDpuLm5vb3B9KSl9LF9maW5kQWN0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdD90aGlzLmhlYWRlcnMuZXEodCk6bigpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIGk9e2tleWRvd246Il9rZXlkb3duIn07dCYmbi5lYWNoKHQuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lbdF09Il9ldmVudEhhbmRsZXIifSk7dGhpcy5fb2ZmKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSkpO3RoaXMuX29uKHRoaXMuaGVhZGVycyxpKTt0aGlzLl9vbih0aGlzLmhlYWRlcnMubmV4dCgpLHtrZXlkb3duOiJfcGFuZWxLZXlEb3duIn0pO3RoaXMuX2hvdmVyYWJsZSh0aGlzLmhlYWRlcnMpO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLmhlYWRlcnMpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlLG8saT10aGlzLm9wdGlvbnMsdT10aGlzLmFjdGl2ZSxyPW4odC5jdXJyZW50VGFyZ2V0KSxmPXJbMF09PT11WzBdLHM9ZiYmaS5jb2xsYXBzaWJsZSxjPXM/bigpOnIubmV4dCgpLGw9dS5uZXh0KCksaD17b2xkSGVhZGVyOnUsb2xkUGFuZWw6bCxuZXdIZWFkZXI6cz9uKCk6cixuZXdQYW5lbDpjfTt0LnByZXZlbnREZWZhdWx0KCk7ZiYmIWkuY29sbGFwc2libGV8fHRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIix0LGgpPT09ITF8fChpLmFjdGl2ZT1zPyExOnRoaXMuaGVhZGVycy5pbmRleChyKSx0aGlzLmFjdGl2ZT1mP24oKTpyLHRoaXMuX3RvZ2dsZShoKSx0aGlzLl9yZW1vdmVDbGFzcyh1LCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGkuaWNvbnMmJihlPXUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhlLG51bGwsaS5pY29ucy5hY3RpdmVIZWFkZXIpLl9hZGRDbGFzcyhlLG51bGwsaS5pY29ucy5oZWFkZXIpKSxmfHwodGhpcy5fcmVtb3ZlQ2xhc3MociwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKS5fYWRkQ2xhc3MociwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKSxpLmljb25zJiYobz1yLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MobyxudWxsLGkuaWNvbnMuaGVhZGVyKS5fYWRkQ2xhc3MobyxudWxsLGkuaWNvbnMuYWN0aXZlSGVhZGVyKSksdGhpcy5fYWRkQ2xhc3Moci5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpKSl9LF90b2dnbGU6ZnVuY3Rpb24odCl7dmFyIHI9dC5uZXdQYW5lbCxpPXRoaXMucHJldlNob3cubGVuZ3RoP3RoaXMucHJldlNob3c6dC5vbGRQYW5lbDt0aGlzLnByZXZTaG93LmFkZCh0aGlzLnByZXZIaWRlKS5zdG9wKCEwLCEwKTt0aGlzLnByZXZTaG93PXI7dGhpcy5wcmV2SGlkZT1pO3RoaXMub3B0aW9ucy5hbmltYXRlP3RoaXMuX2FuaW1hdGUocixpLHQpOihpLmhpZGUoKSxyLnNob3coKSx0aGlzLl90b2dnbGVDb21wbGV0ZSh0KSk7aS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pO2kucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSk7ci5sZW5ndGgmJmkubGVuZ3RoP2kucHJldigpLmF0dHIoe3RhYkluZGV4Oi0xLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSk6ci5sZW5ndGgmJnRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PXBhcnNlSW50KG4odGhpcykuYXR0cigidGFiSW5kZXgiKSwxMCl9KS5hdHRyKCJ0YWJJbmRleCIsLTEpO3IuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpLnByZXYoKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYW5pbWF0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIGgscix1LGM9dGhpcyxvPTAsbD1uLmNzcygiYm94LXNpemluZyIpLGE9bi5sZW5ndGgmJighdC5sZW5ndGh8fG4uaW5kZXgoKTx0LmluZGV4KCkpLGU9dGhpcy5vcHRpb25zLmFuaW1hdGV8fHt9LGY9YSYmZS5kb3dufHxlLHM9ZnVuY3Rpb24oKXtjLl90b2dnbGVDb21wbGV0ZShpKX07cmV0dXJuIm51bWJlciI9PXR5cGVvZiBmJiYodT1mKSwic3RyaW5nIj09dHlwZW9mIGYmJihyPWYpLHI9cnx8Zi5lYXNpbmd8fGUuZWFzaW5nLHU9dXx8Zi5kdXJhdGlvbnx8ZS5kdXJhdGlvbix0Lmxlbmd0aD9uLmxlbmd0aD8oaD1uLnNob3coKS5vdXRlckhlaWdodCgpLHQuYW5pbWF0ZSh0aGlzLmhpZGVQcm9wcyx7ZHVyYXRpb246dSxlYXNpbmc6cixzdGVwOmZ1bmN0aW9uKG4sdCl7dC5ub3c9TWF0aC5yb3VuZChuKX19KSxuLmhpZGUoKS5hbmltYXRlKHRoaXMuc2hvd1Byb3BzLHtkdXJhdGlvbjp1LGVhc2luZzpyLGNvbXBsZXRlOnMsc3RlcDpmdW5jdGlvbihuLGkpe2kubm93PU1hdGgucm91bmQobik7ImhlaWdodCIhPT1pLnByb3A/ImNvbnRlbnQtYm94Ij09PWwmJihvKz1pLm5vdyk6ImNvbnRlbnQiIT09Yy5vcHRpb25zLmhlaWdodFN0eWxlJiYoaS5ub3c9TWF0aC5yb3VuZChoLXQub3V0ZXJIZWlnaHQoKS1vKSxvPTApfX0pLHZvaWQgMCk6dC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHUscixzKTpuLmFuaW1hdGUodGhpcy5zaG93UHJvcHMsdSxyLHMpfSxfdG9nZ2xlQ29tcGxldGU6ZnVuY3Rpb24obil7dmFyIHQ9bi5vbGRQYW5lbCxpPXQucHJldigpO3RoaXMuX3JlbW92ZUNsYXNzKHQsInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO3RoaXMuX3JlbW92ZUNsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIikuX2FkZENsYXNzKGksInVpLWFjY29yZGlvbi1oZWFkZXItY29sbGFwc2VkIik7dC5sZW5ndGgmJih0LnBhcmVudCgpWzBdLmNsYXNzTmFtZT10LnBhcmVudCgpWzBdLmNsYXNzTmFtZSk7dGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLG51bGwsbil9fSk7bi51aS5zYWZlQWN0aXZlRWxlbWVudD1mdW5jdGlvbihuKXt2YXIgdDt0cnl7dD1uLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goaSl7dD1uLmJvZHl9cmV0dXJuIHR8fCh0PW4uYm9keSksdC5ub2RlTmFtZXx8KHQ9bi5ib2R5KSx0fTtuLndpZGdldCgidWkubWVudSIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6Ijx1bD4iLGRlbGF5OjMwMCxvcHRpb25zOntpY29uczp7c3VibWVudToidWktaWNvbi1jYXJldC0xLWUifSxpdGVtczoiPiAqIixtZW51czoidWwiLHBvc2l0aW9uOntteToibGVmdCB0b3AiLGF0OiJyaWdodCB0b3AifSxyb2xlOiJtZW51IixibHVyOm51bGwsZm9jdXM6bnVsbCxzZWxlY3Q6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlTWVudT10aGlzLmVsZW1lbnQ7dGhpcy5tb3VzZUhhbmRsZWQ9ITE7dGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSx0YWJJbmRleDowfSk7dGhpcy5fYWRkQ2xhc3MoInVpLW1lbnUiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl9vbih7Im1vdXNlZG93biAudWktbWVudS1pdGVtIjpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9LCJjbGljayAudWktbWVudS1pdGVtIjpmdW5jdGlvbih0KXt2YXIgaT1uKHQudGFyZ2V0KSxyPW4obi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7IXRoaXMubW91c2VIYW5kbGVkJiZpLm5vdCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoJiYodGhpcy5zZWxlY3QodCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpfHwodGhpcy5tb3VzZUhhbmRsZWQ9ITApLGkuaGFzKCIudWktbWVudSIpLmxlbmd0aD90aGlzLmV4cGFuZCh0KTohdGhpcy5lbGVtZW50LmlzKCI6Zm9jdXMiKSYmci5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aCYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIsWyEwXSksdGhpcy5hY3RpdmUmJjE9PT10aGlzLmFjdGl2ZS5wYXJlbnRzKCIudWktbWVudSIpLmxlbmd0aCYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSl9LCJtb3VzZWVudGVyIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnByZXZpb3VzRmlsdGVyKXt2YXIgcj1uKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudS1pdGVtIiksaT1uKHQuY3VycmVudFRhcmdldCk7clswXT09PWlbMF0mJih0aGlzLl9yZW1vdmVDbGFzcyhpLnNpYmxpbmdzKCkuY2hpbGRyZW4oIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLmZvY3VzKHQsaSkpfX0sbW91c2VsZWF2ZToiY29sbGFwc2VBbGwiLCJtb3VzZWxlYXZlIC51aS1tZW51IjoiY29sbGFwc2VBbGwiLGZvY3VzOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5hY3RpdmV8fHRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZXEoMCk7dHx8dGhpcy5mb2N1cyhuLGkpfSxibHVyOmZ1bmN0aW9uKHQpe3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIGk9IW4uY29udGFpbnModGhpcy5lbGVtZW50WzBdLG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpO2kmJnRoaXMuY29sbGFwc2VBbGwodCl9KX0sa2V5ZG93bjoiX2tleWRvd24ifSk7dGhpcy5yZWZyZXNoKCk7dGhpcy5fb24odGhpcy5kb2N1bWVudCx7Y2xpY2s6ZnVuY3Rpb24obil7dGhpcy5fY2xvc2VPbkRvY3VtZW50Q2xpY2sobikmJnRoaXMuY29sbGFwc2VBbGwobik7dGhpcy5tb3VzZUhhbmRsZWQ9ITF9fSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LmZpbmQoIi51aS1tZW51LWl0ZW0iKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtZGlzYWJsZWQiKSxpPXQuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQXR0cigidGFiSW5kZXggcm9sZSBhcmlhLWhhc3BvcHVwIik7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpLmZpbmQoIi51aS1tZW51IikuYWRkQmFjaygpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1sYWJlbGxlZGJ5IGFyaWEtZXhwYW5kZWQgYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCkuc2hvdygpO2kuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLW1lbnUtc3VibWVudS1jYXJldCIpJiZ0LnJlbW92ZSgpfSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBpLHUscixmLGU9ITA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLnByZXZpb3VzUGFnZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5QQUdFX0RPV046dGhpcy5uZXh0UGFnZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5IT01FOnRoaXMuX21vdmUoImZpcnN0IiwiZmlyc3QiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDp0aGlzLl9tb3ZlKCJsYXN0IiwibGFzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6dGhpcy5wcmV2aW91cyh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5ET1dOOnRoaXMubmV4dCh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5MRUZUOnRoaXMuY29sbGFwc2UodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6dGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJnRoaXMuZXhwYW5kKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVOVEVSOmNhc2Ugbi51aS5rZXlDb2RlLlNQQUNFOnRoaXMuX2FjdGl2YXRlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNvbGxhcHNlKHQpO2JyZWFrO2RlZmF1bHQ6ZT0hMTt1PXRoaXMucHJldmlvdXNGaWx0ZXJ8fCIiO2Y9ITE7cj10LmtleUNvZGU+PTk2JiYxMDU+PXQua2V5Q29kZT8iIisodC5rZXlDb2RlLTk2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSk7Y2xlYXJUaW1lb3V0KHRoaXMuZmlsdGVyVGltZXIpO3I9PT11P2Y9ITA6cj11K3I7aT10aGlzLl9maWx0ZXJNZW51SXRlbXMocik7aT1mJiYtMSE9PWkuaW5kZXgodGhpcy5hY3RpdmUubmV4dCgpKT90aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIik6aTtpLmxlbmd0aHx8KHI9U3RyaW5nLmZyb21DaGFyQ29kZSh0LmtleUNvZGUpLGk9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKHIpKTtpLmxlbmd0aD8odGhpcy5mb2N1cyh0LGkpLHRoaXMucHJldmlvdXNGaWx0ZXI9cix0aGlzLmZpbHRlclRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9LDFlMykpOmRlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfWUmJnQucHJldmVudERlZmF1bHQoKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKG4pe3RoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiYodGhpcy5hY3RpdmUuY2hpbGRyZW4oIlthcmlhLWhhc3BvcHVwPSd0cnVlJ10iKS5sZW5ndGg/dGhpcy5leHBhbmQobik6dGhpcy5zZWxlY3QobikpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHUsdCxmLGksZSxyPXRoaXMscz10aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSxvPXRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5tZW51cyk7dGhpcy5fdG9nZ2xlQ2xhc3MoInVpLW1lbnUtaWNvbnMiLG51bGwsISF0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWljb24iKS5sZW5ndGgpO2Y9by5maWx0ZXIoIjpub3QoLnVpLW1lbnUpIikuaGlkZSgpLmF0dHIoe3JvbGU6dGhpcy5vcHRpb25zLnJvbGUsImFyaWEtaGlkZGVuIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxpPXQucHJldigpLHU9bigiPHNwYW4+IikuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IiwhMCk7ci5fYWRkQ2xhc3ModSwidWktbWVudS1pY29uIiwidWktaWNvbiAiK3MpO2kuYXR0cigiYXJpYS1oYXNwb3B1cCIsInRydWUiKS5wcmVwZW5kKHUpO3QuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixpLmF0dHIoImlkIikpfSk7dGhpcy5fYWRkQ2xhc3MoZiwidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpO3U9by5hZGQodGhpcy5lbGVtZW50KTt0PXUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpO3Qubm90KCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7ci5faXNEaXZpZGVyKHQpJiZyLl9hZGRDbGFzcyh0LCJ1aS1tZW51LWRpdmlkZXIiLCJ1aS13aWRnZXQtY29udGVudCIpfSk7aT10Lm5vdCgiLnVpLW1lbnUtaXRlbSwgLnVpLW1lbnUtZGl2aWRlciIpO2U9aS5jaGlsZHJlbigpLm5vdCgiLnVpLW1lbnUiKS51bmlxdWVJZCgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6dGhpcy5faXRlbVJvbGUoKX0pO3RoaXMuX2FkZENsYXNzKGksInVpLW1lbnUtaXRlbSIpLl9hZGRDbGFzcyhlLCJ1aS1tZW51LWl0ZW0td3JhcHBlciIpO3QuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpO3RoaXMuYWN0aXZlJiYhbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pJiZ0aGlzLmJsdXIoKX0sX2l0ZW1Sb2xlOmZ1bmN0aW9uKCl7cmV0dXJue21lbnU6Im1lbnVpdGVtIixsaXN0Ym94OiJvcHRpb24ifVt0aGlzLm9wdGlvbnMucm9sZV19LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtpZigiaWNvbnMiPT09bil7dmFyIGk9dGhpcy5lbGVtZW50LmZpbmQoIi51aS1tZW51LWljb24iKTt0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUpLl9hZGRDbGFzcyhpLG51bGwsdC5zdWJtZW51KX10aGlzLl9zdXBlcihuLHQpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4rIiIpO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxmb2N1czpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdTt0aGlzLmJsdXIobixuJiYiZm9jdXMiPT09bi50eXBlKTt0aGlzLl9zY3JvbGxJbnRvVmlldyh0KTt0aGlzLmFjdGl2ZT10LmZpcnN0KCk7cj10aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIik7dGhpcy5fYWRkQ2xhc3MocixudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKTt0aGlzLm9wdGlvbnMucm9sZSYmdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsci5hdHRyKCJpZCIpKTt1PXRoaXMuYWN0aXZlLnBhcmVudCgpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIik7dGhpcy5fYWRkQ2xhc3ModSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKTtuJiYia2V5ZG93biI9PT1uLnR5cGU/dGhpcy5fY2xvc2UoKTp0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKX0sdGhpcy5kZWxheSk7aT10LmNoaWxkcmVuKCIudWktbWVudSIpO2kubGVuZ3RoJiZuJiYvXm1vdXNlLy50ZXN0KG4udHlwZSkmJnRoaXMuX3N0YXJ0T3BlbmluZyhpKTt0aGlzLmFjdGl2ZU1lbnU9dC5wYXJlbnQoKTt0aGlzLl90cmlnZ2VyKCJmb2N1cyIsbix7aXRlbTp0fSl9LF9zY3JvbGxJbnRvVmlldzpmdW5jdGlvbih0KXt2YXIgZSxvLGkscix1LGY7dGhpcy5faGFzU2Nyb2xsKCkmJihlPXBhcnNlRmxvYXQobi5jc3ModGhpcy5hY3RpdmVNZW51WzBdLCJib3JkZXJUb3BXaWR0aCIpKXx8MCxvPXBhcnNlRmxvYXQobi5jc3ModGhpcy5hY3RpdmVNZW51WzBdLCJwYWRkaW5nVG9wIikpfHwwLGk9dC5vZmZzZXQoKS50b3AtdGhpcy5hY3RpdmVNZW51Lm9mZnNldCgpLnRvcC1lLW8scj10aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKCksdT10aGlzLmFjdGl2ZU1lbnUuaGVpZ2h0KCksZj10Lm91dGVySGVpZ2h0KCksMD5pP3RoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AocitpKTppK2Y+dSYmdGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChyK2ktdStmKSl9LGJsdXI6ZnVuY3Rpb24obix0KXt0fHxjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy5hY3RpdmUmJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5fdHJpZ2dlcigiYmx1ciIsbix7aXRlbTp0aGlzLmFjdGl2ZX0pLHRoaXMuYWN0aXZlPW51bGwpfSxfc3RhcnRPcGVuaW5nOmZ1bmN0aW9uKG4pe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsidHJ1ZSI9PT1uLmF0dHIoImFyaWEtaGlkZGVuIikmJih0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5fY2xvc2UoKTt0aGlzLl9vcGVuKG4pfSx0aGlzLmRlbGF5KSl9LF9vcGVuOmZ1bmN0aW9uKHQpe3ZhciBpPW4uZXh0ZW5kKHsib2YiOnRoaXMuYWN0aXZlfSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUiKS5ub3QodC5wYXJlbnRzKCIudWktbWVudSIpKS5oaWRlKCkuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIik7dC5zaG93KCkucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4iKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpLnBvc2l0aW9uKGkpfSxjb2xsYXBzZUFsbDpmdW5jdGlvbih0LGkpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLnRpbWVyPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHI9aT90aGlzLmVsZW1lbnQ6bih0JiZ0LnRhcmdldCkuY2xvc2VzdCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUiKSk7ci5sZW5ndGh8fChyPXRoaXMuZWxlbWVudCk7dGhpcy5fY2xvc2Uocik7dGhpcy5ibHVyKHQpO3RoaXMuX3JlbW92ZUNsYXNzKHIuZmluZCgiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMuYWN0aXZlTWVudT1yfSx0aGlzLmRlbGF5KX0sX2Nsb3NlOmZ1bmN0aW9uKG4pe258fChuPXRoaXMuYWN0aXZlP3RoaXMuYWN0aXZlLnBhcmVudCgpOnRoaXMuZWxlbWVudCk7bi5maW5kKCIudWktbWVudSIpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKX0sX2Nsb3NlT25Eb2N1bWVudENsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aH0sX2lzRGl2aWRlcjpmdW5jdGlvbihuKXtyZXR1cm4hL1teXC1cdTIwMTRcdTIwMTNcc10vLnRlc3Qobi50ZXh0KCkpfSxjb2xsYXBzZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIsdGhpcy5lbGVtZW50KTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX2Nsb3NlKCksdGhpcy5mb2N1cyhuLHQpKX0sZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLW1lbnUgIikuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCk7dCYmdC5sZW5ndGgmJih0aGlzLl9vcGVuKHQucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhuLHQpfSkpfSxuZXh0OmZ1bmN0aW9uKG4pe3RoaXMuX21vdmUoIm5leHQiLCJmaXJzdCIsbil9LHByZXZpb3VzOmZ1bmN0aW9uKG4pe3RoaXMuX21vdmUoInByZXYiLCJsYXN0IixuKX0saXNGaXJzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aH0sX21vdmU6ZnVuY3Rpb24obix0LGkpe3ZhciByO3RoaXMuYWN0aXZlJiYocj0iZmlyc3QiPT09bnx8Imxhc3QiPT09bj90aGlzLmFjdGl2ZVsiZmlyc3QiPT09bj8icHJldkFsbCI6Im5leHRBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKC0xKTp0aGlzLmFjdGl2ZVtuKyJBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKDApKTtyJiZyLmxlbmd0aCYmdGhpcy5hY3RpdmV8fChyPXRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdF0oKSk7dGhpcy5mb2N1cyhpLHIpfSxuZXh0UGFnZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU7cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmlzTGFzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhyPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCx1PXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPW4odGhpcyksMD5pLm9mZnNldCgpLnRvcC1yLXV9KSx0aGlzLmZvY3VzKHQsaSkpOnRoaXMuZm9jdXModCx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpW3RoaXMuYWN0aXZlPyJsYXN0IjoiZmlyc3QiXSgpKSksdm9pZCAwKToodGhpcy5uZXh0KHQpLHZvaWQgMCl9LHByZXZpb3VzUGFnZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU7cmV0dXJuIHRoaXMuYWN0aXZlPyh0aGlzLmlzRmlyc3RJdGVtKCl8fCh0aGlzLl9oYXNTY3JvbGwoKT8ocj10aGlzLmFjdGl2ZS5vZmZzZXQoKS50b3AsdT10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5hY3RpdmUucHJldkFsbCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gaT1uKHRoaXMpLGkub2Zmc2V0KCkudG9wLXIrdT4wfSksdGhpcy5mb2N1cyh0LGkpKTp0aGlzLmZvY3VzKHQsdGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maXJzdCgpKSksdm9pZCAwKToodGhpcy5uZXh0KHQpLHZvaWQgMCl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCk8dGhpcy5lbGVtZW50LnByb3AoInNjcm9sbEhlaWdodCIpfSxzZWxlY3Q6ZnVuY3Rpb24odCl7dGhpcy5hY3RpdmU9dGhpcy5hY3RpdmV8fG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKTt2YXIgaT17aXRlbTp0aGlzLmFjdGl2ZX07dGhpcy5hY3RpdmUuaGFzKCIudWktbWVudSIpLmxlbmd0aHx8dGhpcy5jb2xsYXBzZUFsbCh0LCEwKTt0aGlzLl90cmlnZ2VyKCJzZWxlY3QiLHQsaSl9LF9maWx0ZXJNZW51SXRlbXM6ZnVuY3Rpb24odCl7dmFyIGk9dC5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIikscj1SZWdFeHAoIl4iK2ksImkiKTtyZXR1cm4gdGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5maWx0ZXIoIi51aS1tZW51LWl0ZW0iKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gci50ZXN0KG4udHJpbShuKHRoaXMpLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKS50ZXh0KCkpKX0pfX0pO24ud2lkZ2V0KCJ1aS5hdXRvY29tcGxldGUiLHt2ZXJzaW9uOiIxLjEyLjEiLGRlZmF1bHRFbGVtZW50OiI8aW5wdXQ+IixvcHRpb25zOnthcHBlbmRUbzpudWxsLGF1dG9Gb2N1czohMSxkZWxheTozMDAsbWluTGVuZ3RoOjEscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246Im5vbmUifSxzb3VyY2U6bnVsbCxjaGFuZ2U6bnVsbCxjbG9zZTpudWxsLGZvY3VzOm51bGwsb3BlbjpudWxsLHJlc3BvbnNlOm51bGwsc2VhcmNoOm51bGwsc2VsZWN0Om51bGx9LHJlcXVlc3RJbmRleDowLHBlbmRpbmc6MCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaSxyLHU9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZj0idGV4dGFyZWEiPT09dSxlPSJpbnB1dCI9PT11O3RoaXMuaXNNdWx0aUxpbmU9Znx8IWUmJnRoaXMuX2lzQ29udGVudEVkaXRhYmxlKHRoaXMuZWxlbWVudCk7dGhpcy52YWx1ZU1ldGhvZD10aGlzLmVsZW1lbnRbZnx8ZT8idmFsIjoidGV4dCJdO3RoaXMuaXNOZXdNZW51PSEwO3RoaXMuX2FkZENsYXNzKCJ1aS1hdXRvY29tcGxldGUtaW5wdXQiKTt0aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIik7dGhpcy5fb24odGhpcy5lbGVtZW50LHtrZXlkb3duOmZ1bmN0aW9uKHUpe2lmKHRoaXMuZWxlbWVudC5wcm9wKCJyZWFkT25seSIpKXJldHVybiB0PSEwLHI9ITAsaT0hMCx2b2lkIDA7dD0hMTtyPSExO2k9ITE7dmFyIGY9bi51aS5rZXlDb2RlO3N3aXRjaCh1LmtleUNvZGUpe2Nhc2UgZi5QQUdFX1VQOnQ9ITA7dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIix1KTticmVhaztjYXNlIGYuUEFHRV9ET1dOOnQ9ITA7dGhpcy5fbW92ZSgibmV4dFBhZ2UiLHUpO2JyZWFrO2Nhc2UgZi5VUDp0PSEwO3RoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIsdSk7YnJlYWs7Y2FzZSBmLkRPV046dD0hMDt0aGlzLl9rZXlFdmVudCgibmV4dCIsdSk7YnJlYWs7Y2FzZSBmLkVOVEVSOnRoaXMubWVudS5hY3RpdmUmJih0PSEwLHUucHJldmVudERlZmF1bHQoKSx0aGlzLm1lbnUuc2VsZWN0KHUpKTticmVhaztjYXNlIGYuVEFCOnRoaXMubWVudS5hY3RpdmUmJnRoaXMubWVudS5zZWxlY3QodSk7YnJlYWs7Y2FzZSBmLkVTQ0FQRTp0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5jbG9zZSh1KSx1LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2RlZmF1bHQ6aT0hMDt0aGlzLl9zZWFyY2hUaW1lb3V0KHUpfX0sa2V5cHJlc3M6ZnVuY3Rpb24ocil7aWYodClyZXR1cm4gdD0hMSwoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmci5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMDtpZighaSl7dmFyIHU9bi51aS5rZXlDb2RlO3N3aXRjaChyLmtleUNvZGUpe2Nhc2UgdS5QQUdFX1VQOnRoaXMuX21vdmUoInByZXZpb3VzUGFnZSIscik7YnJlYWs7Y2FzZSB1LlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJuZXh0UGFnZSIscik7YnJlYWs7Y2FzZSB1LlVQOnRoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIscik7YnJlYWs7Y2FzZSB1LkRPV046dGhpcy5fa2V5RXZlbnQoIm5leHQiLHIpfX19LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiByPyhyPSExLG4ucHJldmVudERlZmF1bHQoKSx2b2lkIDApOih0aGlzLl9zZWFyY2hUaW1lb3V0KG4pLHZvaWQgMCl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZEl0ZW09bnVsbDt0aGlzLnByZXZpb3VzPXRoaXMuX3ZhbHVlKCl9LGJsdXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuY2FuY2VsQmx1cj8oZGVsZXRlIHRoaXMuY2FuY2VsQmx1cix2b2lkIDApOihjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpLHRoaXMuY2xvc2UobiksdGhpcy5fY2hhbmdlKG4pLHZvaWQgMCl9fSk7dGhpcy5faW5pdFNvdXJjZSgpO3RoaXMubWVudT1uKCI8dWw+IikuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSkubWVudSh7cm9sZTpudWxsfSkuaGlkZSgpLm1lbnUoImluc3RhbmNlIik7dGhpcy5fYWRkQ2xhc3ModGhpcy5tZW51LmVsZW1lbnQsInVpLWF1dG9jb21wbGV0ZSIsInVpLWZyb250Iik7dGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5jYW5jZWxCbHVyPSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjt0aGlzLmVsZW1lbnRbMF0hPT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKX0pfSxtZW51Zm9jdXM6ZnVuY3Rpb24odCxpKXt2YXIgcix1O3JldHVybiB0aGlzLmlzTmV3TWVudSYmKHRoaXMuaXNOZXdNZW51PSExLHQub3JpZ2luYWxFdmVudCYmL15tb3VzZS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkpPyh0aGlzLm1lbnUuYmx1cigpLHRoaXMuZG9jdW1lbnQub25lKCJtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7bih0LnRhcmdldCkudHJpZ2dlcih0Lm9yaWdpbmFsRXZlbnQpfSksdm9pZCAwKToodT1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSwhMSE9PXRoaXMuX3RyaWdnZXIoImZvY3VzIix0LHtpdGVtOnV9KSYmdC5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKHUudmFsdWUpLHI9aS5pdGVtLmF0dHIoImFyaWEtbGFiZWwiKXx8dS52YWx1ZSxyJiZuLnRyaW0ocikubGVuZ3RoJiYodGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLG4oIjxkaXY+IikudGV4dChyKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKSx2b2lkIDApfSxtZW51c2VsZWN0OmZ1bmN0aW9uKHQsaSl7dmFyIHI9aS5pdGVtLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIiksdT10aGlzLnByZXZpb3VzO3RoaXMuZWxlbWVudFswXSE9PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkmJih0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLnByZXZpb3VzPXUsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXU7dGhpcy5zZWxlY3RlZEl0ZW09cn0pKTshMSE9PXRoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCx7aXRlbTpyfSkmJnRoaXMuX3ZhbHVlKHIudmFsdWUpO3RoaXMudGVybT10aGlzLl92YWx1ZSgpO3RoaXMuY2xvc2UodCk7dGhpcy5zZWxlY3RlZEl0ZW09cn19KTt0aGlzLmxpdmVSZWdpb249bigiPGRpdj4iLHtyb2xlOiJzdGF0dXMiLCJhcmlhLWxpdmUiOiJhc3NlcnRpdmUiLCJhcmlhLXJlbGV2YW50IjoiYWRkaXRpb25zIn0pLmFwcGVuZFRvKHRoaXMuZG9jdW1lbnRbMF0uYm9keSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5saXZlUmVnaW9uLG51bGwsInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpO3RoaXMuX29uKHRoaXMud2luZG93LHtiZWZvcmV1bmxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIil9fSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoaW5nKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIik7dGhpcy5tZW51LmVsZW1lbnQucmVtb3ZlKCk7dGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dGhpcy5fc3VwZXIobix0KTsic291cmNlIj09PW4mJnRoaXMuX2luaXRTb3VyY2UoKTsiYXBwZW5kVG8iPT09biYmdGhpcy5tZW51LmVsZW1lbnQuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSk7ImRpc2FibGVkIj09PW4mJnQmJnRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpfSxfaXNFdmVudFRhcmdldEluV2lkZ2V0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMubWVudS5lbGVtZW50WzBdO3JldHVybiB0LnRhcmdldD09PXRoaXMuZWxlbWVudFswXXx8dC50YXJnZXQ9PT1pfHxuLmNvbnRhaW5zKGksdC50YXJnZXQpfSxfY2xvc2VPbkNsaWNrT3V0c2lkZTpmdW5jdGlvbihuKXt0aGlzLl9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQobil8fHRoaXMuY2xvc2UoKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybiB0JiYodD10LmpxdWVyeXx8dC5ub2RlVHlwZT9uKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0KS5lcSgwKSksdCYmdFswXXx8KHQ9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIikpLHQubGVuZ3RofHwodD10aGlzLmRvY3VtZW50WzBdLmJvZHkpLHR9LF9pbml0U291cmNlOmZ1bmN0aW9uKCl7dmFyIGkscix0PXRoaXM7bi5pc0FycmF5KHRoaXMub3B0aW9ucy5zb3VyY2UpPyhpPXRoaXMub3B0aW9ucy5zb3VyY2UsdGhpcy5zb3VyY2U9ZnVuY3Rpb24odCxyKXtyKG4udWkuYXV0b2NvbXBsZXRlLmZpbHRlcihpLHQudGVybSkpfSk6InN0cmluZyI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuc291cmNlPyhyPXRoaXMub3B0aW9ucy5zb3VyY2UsdGhpcy5zb3VyY2U9ZnVuY3Rpb24oaSx1KXt0LnhociYmdC54aHIuYWJvcnQoKTt0Lnhocj1uLmFqYXgoe3VybDpyLGRhdGE6aSxkYXRhVHlwZToianNvbiIsc3VjY2VzczpmdW5jdGlvbihuKXt1KG4pfSxlcnJvcjpmdW5jdGlvbigpe3UoW10pfX0pfSk6dGhpcy5zb3VyY2U9dGhpcy5vcHRpb25zLnNvdXJjZX0sX3NlYXJjaFRpbWVvdXQ6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoaW5nKTt0aGlzLnNlYXJjaGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3ZhciB0PXRoaXMudGVybT09PXRoaXMuX3ZhbHVlKCksaT10aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSxyPW4uYWx0S2V5fHxuLmN0cmxLZXl8fG4ubWV0YUtleXx8bi5zaGlmdEtleTt0JiYoIXR8fGl8fHIpfHwodGhpcy5zZWxlY3RlZEl0ZW09bnVsbCx0aGlzLnNlYXJjaChudWxsLG4pKX0sdGhpcy5vcHRpb25zLmRlbGF5KX0sc2VhcmNoOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bnVsbCE9bj9uOnRoaXMuX3ZhbHVlKCksdGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCksbi5sZW5ndGg8dGhpcy5vcHRpb25zLm1pbkxlbmd0aD90aGlzLmNsb3NlKHQpOnRoaXMuX3RyaWdnZXIoInNlYXJjaCIsdCkhPT0hMT90aGlzLl9zZWFyY2gobik6dm9pZCAwfSxfc2VhcmNoOmZ1bmN0aW9uKG4pe3RoaXMucGVuZGluZysrO3RoaXMuX2FkZENsYXNzKCJ1aS1hdXRvY29tcGxldGUtbG9hZGluZyIpO3RoaXMuY2FuY2VsU2VhcmNoPSExO3RoaXMuc291cmNlKHt0ZXJtOm59LHRoaXMuX3Jlc3BvbnNlKCkpfSxfcmVzcG9uc2U6ZnVuY3Rpb24oKXt2YXIgdD0rK3RoaXMucmVxdWVzdEluZGV4O3JldHVybiBuLnByb3h5KGZ1bmN0aW9uKG4pe3Q9PT10aGlzLnJlcXVlc3RJbmRleCYmdGhpcy5fX3Jlc3BvbnNlKG4pO3RoaXMucGVuZGluZy0tO3RoaXMucGVuZGluZ3x8dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIil9LHRoaXMpfSxfX3Jlc3BvbnNlOmZ1bmN0aW9uKG4pe24mJihuPXRoaXMuX25vcm1hbGl6ZShuKSk7dGhpcy5fdHJpZ2dlcigicmVzcG9uc2UiLG51bGwse2NvbnRlbnQ6bn0pOyF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJm4mJm4ubGVuZ3RoJiYhdGhpcy5jYW5jZWxTZWFyY2g/KHRoaXMuX3N1Z2dlc3QobiksdGhpcy5fdHJpZ2dlcigib3BlbiIpKTp0aGlzLl9jbG9zZSgpfSxjbG9zZTpmdW5jdGlvbihuKXt0aGlzLmNhbmNlbFNlYXJjaD0hMDt0aGlzLl9jbG9zZShuKX0sX2Nsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZWRvd24iKTt0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKHRoaXMubWVudS5lbGVtZW50LmhpZGUoKSx0aGlzLm1lbnUuYmx1cigpLHRoaXMuaXNOZXdNZW51PSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIixuKSl9LF9jaGFuZ2U6ZnVuY3Rpb24obil7dGhpcy5wcmV2aW91cyE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIsbix7aXRlbTp0aGlzLnNlbGVjdGVkSXRlbX0pfSxfbm9ybWFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aCYmdFswXS5sYWJlbCYmdFswXS52YWx1ZT90Om4ubWFwKHQsZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P3tsYWJlbDp0LHZhbHVlOnR9Om4uZXh0ZW5kKHt9LHQse2xhYmVsOnQubGFiZWx8fHQudmFsdWUsdmFsdWU6dC52YWx1ZXx8dC5sYWJlbH0pfSl9LF9zdWdnZXN0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMubWVudS5lbGVtZW50LmVtcHR5KCk7dGhpcy5fcmVuZGVyTWVudShpLHQpO3RoaXMuaXNOZXdNZW51PSEwO3RoaXMubWVudS5yZWZyZXNoKCk7aS5zaG93KCk7dGhpcy5fcmVzaXplTWVudSgpO2kucG9zaXRpb24obi5leHRlbmQoeyJvZiI6dGhpcy5lbGVtZW50fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKTt0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLm1lbnUubmV4dCgpO3RoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlZG93bjoiX2Nsb3NlT25DbGlja091dHNpZGUifSl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5tZW51LmVsZW1lbnQ7bi5vdXRlcldpZHRoKE1hdGgubWF4KG4ud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxLHRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCkpKX0sX3JlbmRlck1lbnU6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7ci5fcmVuZGVySXRlbURhdGEodCxpKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbShuLHQpLmRhdGEoInVpLWF1dG9jb21wbGV0ZS1pdGVtIix0KX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCxpKXtyZXR1cm4gbigiPGxpPiIpLmFwcGVuZChuKCI8ZGl2PiIpLnRleHQoaS5sYWJlbCkpLmFwcGVuZFRvKHQpfSxfbW92ZTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKT90aGlzLm1lbnUuaXNGaXJzdEl0ZW0oKSYmL15wcmV2aW91cy8udGVzdChuKXx8dGhpcy5tZW51LmlzTGFzdEl0ZW0oKSYmL15uZXh0Ly50ZXN0KG4pPyh0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLl92YWx1ZSh0aGlzLnRlcm0pLHRoaXMubWVudS5ibHVyKCksdm9pZCAwKToodGhpcy5tZW51W25dKHQpLHZvaWQgMCk6KHRoaXMuc2VhcmNoKG51bGwsdCksdm9pZCAwKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50fSxfdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU1ldGhvZC5hcHBseSh0aGlzLmVsZW1lbnQsYXJndW1lbnRzKX0sX2tleUV2ZW50OmZ1bmN0aW9uKG4sdCl7KCF0aGlzLmlzTXVsdGlMaW5lfHx0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSkmJih0aGlzLl9tb3ZlKG4sdCksdC5wcmV2ZW50RGVmYXVsdCgpKX0sX2lzQ29udGVudEVkaXRhYmxlOmZ1bmN0aW9uKG4pe2lmKCFuLmxlbmd0aClyZXR1cm4hMTt2YXIgdD1uLnByb3AoImNvbnRlbnRFZGl0YWJsZSIpO3JldHVybiJpbmhlcml0Ij09PXQ/dGhpcy5faXNDb250ZW50RWRpdGFibGUobi5wYXJlbnQoKSk6InRydWUiPT09dH19KTtuLmV4dGVuZChuLnVpLmF1dG9jb21wbGV0ZSx7ZXNjYXBlUmVnZXg6ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvW1wtXFtcXXt9KCkqKz8uLFxcXF4kfCNcc10vZywiXFwkJiIpfSxmaWx0ZXI6ZnVuY3Rpb24odCxpKXt2YXIgcj1SZWdFeHAobi51aS5hdXRvY29tcGxldGUuZXNjYXBlUmVnZXgoaSksImkiKTtyZXR1cm4gbi5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIHIudGVzdChuLmxhYmVsfHxuLnZhbHVlfHxuKX0pfX0pO24ud2lkZ2V0KCJ1aS5hdXRvY29tcGxldGUiLG4udWkuYXV0b2NvbXBsZXRlLHtvcHRpb25zOnttZXNzYWdlczp7bm9SZXN1bHRzOiJObyBzZWFyY2ggcmVzdWx0cy4iLHJlc3VsdHM6ZnVuY3Rpb24obil7cmV0dXJuIG4rKG4+MT8iIHJlc3VsdHMgYXJlIjoiIHJlc3VsdCBpcyIpKyIgYXZhaWxhYmxlLCB1c2UgdXAgYW5kIGRvd24gYXJyb3cga2V5cyB0byBuYXZpZ2F0ZS4ifX19LF9fcmVzcG9uc2U6ZnVuY3Rpb24odCl7dmFyIGk7dGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpO3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5jYW5jZWxTZWFyY2h8fChpPXQmJnQubGVuZ3RoP3RoaXMub3B0aW9ucy5tZXNzYWdlcy5yZXN1bHRzKHQubGVuZ3RoKTp0aGlzLm9wdGlvbnMubWVzc2FnZXMubm9SZXN1bHRzLHRoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKSxuKCI8ZGl2PiIpLnRleHQoaSkuYXBwZW5kVG8odGhpcy5saXZlUmVnaW9uKSl9fSk7bi51aS5hdXRvY29tcGxldGU7dz0vdWktY29ybmVyLShbYS16XSl7Miw2fS9nO24ud2lkZ2V0KCJ1aS5jb250cm9sZ3JvdXAiLHt2ZXJzaW9uOiIxLjEyLjEiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlyZWN0aW9uOiJob3Jpem9udGFsIixkaXNhYmxlZDpudWxsLG9ubHlWaXNpYmxlOiEwLGl0ZW1zOntidXR0b246ImlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgYnV0dG9uLCBhIixjb250cm9sZ3JvdXBMYWJlbDoiLnVpLWNvbnRyb2xncm91cC1sYWJlbCIsY2hlY2tib3hyYWRpbzoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSwgaW5wdXRbdHlwZT0ncmFkaW8nXSIsc2VsZWN0bWVudToic2VsZWN0IixzcGlubmVyOiIudWktc3Bpbm5lci1pbnB1dCJ9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidG9vbGJhciIpO3RoaXMucmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2NhbGxDaGlsZE1ldGhvZCgiZGVzdHJveSIpO3RoaXMuY2hpbGRXaWRnZXRzLnJlbW92ZURhdGEoInVpLWNvbnRyb2xncm91cC1kYXRhIik7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLm9wdGlvbnMuaXRlbXMuY29udHJvbGdyb3VwTGFiZWwmJnRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCkuZmluZCgiLnVpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyIpLmNvbnRlbnRzKCkudW53cmFwKCl9LF9pbml0V2lkZ2V0czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1bXTtuLmVhY2godGhpcy5vcHRpb25zLml0ZW1zLGZ1bmN0aW9uKHIsdSl7dmFyIGYsZT17fTtpZih1KXJldHVybiJjb250cm9sZ3JvdXBMYWJlbCI9PT1yPyhmPXQuZWxlbWVudC5maW5kKHUpLGYuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5jaGlsZHJlbigiLnVpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyIpLmxlbmd0aHx8dC5jb250ZW50cygpLndyYXBBbGwoIjxzcGFuIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwtY29udGVudHMnPjxcL3NwYW4+Iil9KSx0Ll9hZGRDbGFzcyhmLG51bGwsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1zdGF0ZS1kZWZhdWx0IiksaT1pLmNvbmNhdChmLmdldCgpKSx2b2lkIDApOihuLmZuW3JdJiYoZT10WyJfIityKyJPcHRpb25zIl0/dFsiXyIrcisiT3B0aW9ucyJdKCJtaWRkbGUiKTp7Y2xhc3Nlczp7fX0sdC5lbGVtZW50LmZpbmQodSkuZWFjaChmdW5jdGlvbigpe3ZhciB1PW4odGhpcyksZj11W3JdKCJpbnN0YW5jZSIpLG89bi53aWRnZXQuZXh0ZW5kKHt9LGUpLHM7ImJ1dHRvbiI9PT1yJiZ1LnBhcmVudCgiLnVpLXNwaW5uZXIiKS5sZW5ndGh8fChmfHwoZj11W3JdKClbcl0oImluc3RhbmNlIikpLGYmJihvLmNsYXNzZXM9dC5fcmVzb2x2ZUNsYXNzZXNWYWx1ZXMoby5jbGFzc2VzLGYpKSx1W3JdKG8pLHM9dVtyXSgid2lkZ2V0Iiksbi5kYXRhKHNbMF0sInVpLWNvbnRyb2xncm91cC1kYXRhIixmP2Y6dVtyXSgiaW5zdGFuY2UiKSksaS5wdXNoKHNbMF0pKX0pKSx2b2lkIDApfSk7dGhpcy5jaGlsZFdpZGdldHM9bihuLnVuaXF1ZShpKSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5jaGlsZFdpZGdldHMsInVpLWNvbnRyb2xncm91cC1pdGVtIil9LF9jYWxsQ2hpbGRNZXRob2Q6ZnVuY3Rpb24odCl7dGhpcy5jaGlsZFdpZGdldHMuZWFjaChmdW5jdGlvbigpe3ZhciByPW4odGhpcyksaT1yLmRhdGEoInVpLWNvbnRyb2xncm91cC1kYXRhIik7aSYmaVt0XSYmaVt0XSgpfSl9LF91cGRhdGVDb3JuZXJDbGFzczpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyh0LCJsYWJlbCIpLmNsYXNzZXMubGFiZWw7dGhpcy5fcmVtb3ZlQ2xhc3MobixudWxsLCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWxlZnQgdWktY29ybmVyLXJpZ2h0IHVpLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRDbGFzcyhuLG51bGwsaSl9LF9idWlsZFNpbXBsZU9wdGlvbnM6ZnVuY3Rpb24obix0KXt2YXIgaT0idmVydGljYWwiPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbixyPXtjbGFzc2VzOnt9fTtyZXR1cm4gci5jbGFzc2VzW3RdPXttaWRkbGU6IiIsZmlyc3Q6InVpLWNvcm5lci0iKyhpPyJ0b3AiOiJsZWZ0IiksbGFzdDoidWktY29ybmVyLSIrKGk/ImJvdHRvbSI6InJpZ2h0Iiksb25seToidWktY29ybmVyLWFsbCJ9W25dLHJ9LF9zcGlubmVyT3B0aW9uczpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktc3Bpbm5lciIpO3JldHVybiB0LmNsYXNzZXNbInVpLXNwaW5uZXItdXAiXT0iIix0LmNsYXNzZXNbInVpLXNwaW5uZXItZG93biJdPSIiLHR9LF9idXR0b25PcHRpb25zOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktYnV0dG9uIil9LF9jaGVja2JveHJhZGlvT3B0aW9uczpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKG4sInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiKX0sX3NlbGVjdG1lbnVPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uO3JldHVybnt3aWR0aDp0PyJhdXRvIjohMSxjbGFzc2VzOnttaWRkbGU6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjoiIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoiIn0sZmlyc3Q6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjoidWktY29ybmVyLSIrKHQ/InRvcCI6InRsIiksInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci0iKyh0PyJ0b3AiOiJsZWZ0Iil9LGxhc3Q6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjp0PyIiOiJ1aS1jb3JuZXItdHIiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItIisodD8iYm90dG9tIjoicmlnaHQiKX0sb25seTp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItdG9wIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLWFsbCJ9fVtuXX19LF9yZXNvbHZlQ2xhc3Nlc1ZhbHVlczpmdW5jdGlvbih0LGkpe3ZhciByPXt9O3JldHVybiBuLmVhY2godCxmdW5jdGlvbih1KXt2YXIgZj1pLm9wdGlvbnMuY2xhc3Nlc1t1XXx8IiI7Zj1uLnRyaW0oZi5yZXBsYWNlKHcsIiIpKTtyW3VdPShmKyIgIit0W3VdKS5yZXBsYWNlKC9ccysvZywiICIpfSkscn0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3JldHVybiJkaXJlY3Rpb24iPT09biYmdGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWNvbnRyb2xncm91cC0iK3RoaXMub3B0aW9ucy5kaXJlY3Rpb24pLHRoaXMuX3N1cGVyKG4sdCksImRpc2FibGVkIj09PW4/KHRoaXMuX2NhbGxDaGlsZE1ldGhvZCh0PyJkaXNhYmxlIjoiZW5hYmxlIiksdm9pZCAwKToodGhpcy5yZWZyZXNoKCksdm9pZCAwKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpczt0aGlzLl9hZGRDbGFzcygidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iK3RoaXMub3B0aW9ucy5kaXJlY3Rpb24pOyJob3Jpem9udGFsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24mJnRoaXMuX2FkZENsYXNzKG51bGwsInVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMuX2luaXRXaWRnZXRzKCk7dD10aGlzLmNoaWxkV2lkZ2V0czt0aGlzLm9wdGlvbnMub25seVZpc2libGUmJih0PXQuZmlsdGVyKCI6dmlzaWJsZSIpKTt0Lmxlbmd0aCYmKG4uZWFjaChbImZpcnN0IiwibGFzdCJdLGZ1bmN0aW9uKG4scil7dmFyIHU9dFtyXSgpLmRhdGEoInVpLWNvbnRyb2xncm91cC1kYXRhIiksZjt1JiZpWyJfIit1LndpZGdldE5hbWUrIk9wdGlvbnMiXT8oZj1pWyJfIit1LndpZGdldE5hbWUrIk9wdGlvbnMiXSgxPT09dC5sZW5ndGg/Im9ubHkiOnIpLGYuY2xhc3Nlcz1pLl9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhmLmNsYXNzZXMsdSksdS5lbGVtZW50W3Uud2lkZ2V0TmFtZV0oZikpOmkuX3VwZGF0ZUNvcm5lckNsYXNzKHRbcl0oKSxyKX0pLHRoaXMuX2NhbGxDaGlsZE1ldGhvZCgicmVmcmVzaCIpKX19KTtuLndpZGdldCgidWkuY2hlY2tib3hyYWRpbyIsW24udWkuZm9ybVJlc2V0TWl4aW4se3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7ZGlzYWJsZWQ6bnVsbCxsYWJlbDpudWxsLGljb246ITAsY2xhc3Nlczp7InVpLWNoZWNrYm94cmFkaW8tbGFiZWwiOiJ1aS1jb3JuZXItYWxsIiwidWktY2hlY2tib3hyYWRpby1pY29uIjoidWktY29ybmVyLWFsbCJ9fSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0LGksdT10aGlzLHI9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuX3JlYWRUeXBlKCksaT10aGlzLmVsZW1lbnQubGFiZWxzKCksdGhpcy5sYWJlbD1uKGlbaS5sZW5ndGgtMV0pLHRoaXMubGFiZWwubGVuZ3RofHxuLmVycm9yKCJObyBsYWJlbCBmb3VuZCBmb3IgY2hlY2tib3hyYWRpbyB3aWRnZXQiKSx0aGlzLm9yaWdpbmFsTGFiZWw9IiIsdGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt1Lm9yaWdpbmFsTGFiZWwrPTM9PT10aGlzLm5vZGVUeXBlP24odGhpcykudGV4dCgpOnRoaXMub3V0ZXJIVE1MfSksdGhpcy5vcmlnaW5hbExhYmVsJiYoci5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLHQ9dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkLG51bGwhPXQmJihyLmRpc2FibGVkPXQpLHJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZDt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpO251bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQpO3RoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7dGhpcy5fYWRkQ2xhc3MoInVpLWNoZWNrYm94cmFkaW8iLCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWxhYmVsIiwidWktYnV0dG9uIHVpLXdpZGdldCIpOyJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tcmFkaW8tbGFiZWwiKTt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbD90aGlzLl91cGRhdGVMYWJlbCgpOnRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMub3B0aW9ucy5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpO3RoaXMuX2VuaGFuY2UoKTtuJiYodGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1jaGVja2VkIiwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5pY29uJiZ0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCwidWktc3RhdGUtaG92ZXIiKSk7dGhpcy5fb24oe2NoYW5nZToiX3RvZ2dsZUNsYXNzZXMiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMubGFiZWwsbnVsbCwidWktc3RhdGUtZm9jdXMgdWktdmlzdWFsLWZvY3VzIil9fSl9LF9yZWFkVHlwZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3RoaXMudHlwZT10aGlzLmVsZW1lbnRbMF0udHlwZTsiaW5wdXQiPT09dCYmL3JhZGlvfGNoZWNrYm94Ly50ZXN0KHRoaXMudHlwZSl8fG4uZXJyb3IoIkNhbid0IGNyZWF0ZSBjaGVja2JveHJhZGlvIG9uIGVsZW1lbnQubm9kZU5hbWU9Iit0KyIgYW5kIGVsZW1lbnQudHlwZT0iK3RoaXMudHlwZSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fdXBkYXRlSWNvbih0aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhYmVsfSxfZ2V0UmFkaW9Hcm91cDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5lbGVtZW50WzBdLm5hbWUscj0iaW5wdXRbbmFtZT0nIituLnVpLmVzY2FwZVNlbGVjdG9yKGkpKyInXSI7cmV0dXJuIGk/KHQ9dGhpcy5mb3JtLmxlbmd0aD9uKHRoaXMuZm9ybVswXS5lbGVtZW50cykuZmlsdGVyKHIpOm4ocikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uKHRoaXMpLmZvcm0oKS5sZW5ndGh9KSx0Lm5vdCh0aGlzLmVsZW1lbnQpKTpuKFtdKX0sX3RvZ2dsZUNsYXNzZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiLHQpO3RoaXMub3B0aW9ucy5pY29uJiYiY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIix0KS5fdG9nZ2xlQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLWljb24tYmxhbmsiLCF0KTsicmFkaW8iPT09dGhpcy50eXBlJiZ0aGlzLl9nZXRSYWRpb0dyb3VwKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuY2hlY2tib3hyYWRpbygiaW5zdGFuY2UiKTt0JiZ0Ll9yZW1vdmVDbGFzcyh0LmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3VuYmluZEZvcm1SZXNldEhhbmRsZXIoKTt0aGlzLmljb24mJih0aGlzLmljb24ucmVtb3ZlKCksdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYoImxhYmVsIiE9PW58fHQpcmV0dXJuKHRoaXMuX3N1cGVyKG4sdCksImRpc2FibGVkIj09PW4/KHRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLHQpLHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZD10LHZvaWQgMCk6KHRoaXMucmVmcmVzaCgpLHZvaWQgMCkpfSxfdXBkYXRlSWNvbjpmdW5jdGlvbih0KXt2YXIgaT0idWktaWNvbiB1aS1pY29uLWJhY2tncm91bmQgIjt0aGlzLm9wdGlvbnMuaWNvbj8odGhpcy5pY29ufHwodGhpcy5pY29uPW4oIjxzcGFuPiIpLHRoaXMuaWNvblNwYWNlPW4oIjxzcGFuPiA8XC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1jaGVja2JveHJhZGlvLWljb24tc3BhY2UiKSksImNoZWNrYm94Ij09PXRoaXMudHlwZT8oaSs9dD8idWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIjoidWktaWNvbi1ibGFuayIsdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsdD8idWktaWNvbi1ibGFuayI6InVpLWljb24tY2hlY2siKSk6aSs9InVpLWljb24tYmxhbmsiLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktY2hlY2tib3hyYWRpby1pY29uIixpKSx0fHx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1jaGVjayB1aS1zdGF0ZS1jaGVja2VkIiksdGhpcy5pY29uLnByZXBlbmRUbyh0aGlzLmxhYmVsKS5hZnRlcih0aGlzLmljb25TcGFjZSkpOnZvaWQgMCE9PXRoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSxkZWxldGUgdGhpcy5pY29uKX0sX3VwZGF0ZUxhYmVsOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5sYWJlbC5jb250ZW50cygpLm5vdCh0aGlzLmVsZW1lbnRbMF0pO3RoaXMuaWNvbiYmKG49bi5ub3QodGhpcy5pY29uWzBdKSk7dGhpcy5pY29uU3BhY2UmJihuPW4ubm90KHRoaXMuaWNvblNwYWNlWzBdKSk7bi5yZW1vdmUoKTt0aGlzLmxhYmVsLmFwcGVuZCh0aGlzLm9wdGlvbnMubGFiZWwpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50WzBdLmNoZWNrZWQsdD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ7dGhpcy5fdXBkYXRlSWNvbihuKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiLG4pO251bGwhPT10aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuX3VwZGF0ZUxhYmVsKCk7dCE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6dH0pfX1dKTtuLnVpLmNoZWNrYm94cmFkaW87bi53aWRnZXQoInVpLmJ1dHRvbiIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxidXR0b24+IixvcHRpb25zOntjbGFzc2VzOnsidWktYnV0dG9uIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbjpudWxsLGljb25Qb3NpdGlvbjoiYmVnaW5uaW5nIixsYWJlbDpudWxsLHNob3dMYWJlbDohMH0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMuX3N1cGVyKCl8fHt9O3JldHVybiB0aGlzLmlzSW5wdXQ9dGhpcy5lbGVtZW50LmlzKCJpbnB1dCIpLG49dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkLG51bGwhPW4mJih0LmRpc2FibGVkPW4pLHRoaXMub3JpZ2luYWxMYWJlbD10aGlzLmlzSW5wdXQ/dGhpcy5lbGVtZW50LnZhbCgpOnRoaXMuZWxlbWVudC5odG1sKCksdGhpcy5vcmlnaW5hbExhYmVsJiYodC5sYWJlbD10aGlzLm9yaWdpbmFsTGFiZWwpLHR9LF9jcmVhdGU6ZnVuY3Rpb24oKXshdGhpcy5vcHRpb24uc2hvd0xhYmVsJiF0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9ITApO251bGw9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWR8fCExKTt0aGlzLmhhc1RpdGxlPSEhdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7dGhpcy5vcHRpb25zLmxhYmVsJiZ0aGlzLm9wdGlvbnMubGFiZWwhPT10aGlzLm9yaWdpbmFsTGFiZWwmJih0aGlzLmlzSW5wdXQ/dGhpcy5lbGVtZW50LnZhbCh0aGlzLm9wdGlvbnMubGFiZWwpOnRoaXMuZWxlbWVudC5odG1sKHRoaXMub3B0aW9ucy5sYWJlbCkpO3RoaXMuX2FkZENsYXNzKCJ1aS1idXR0b24iLCJ1aS13aWRnZXQiKTt0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIix0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX2VuaGFuY2UoKTt0aGlzLmVsZW1lbnQuaXMoImEiKSYmdGhpcy5fb24oe2tleXVwOmZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PW4udWkua2V5Q29kZS5TUEFDRSYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLmVsZW1lbnRbMF0uY2xpY2s/dGhpcy5lbGVtZW50WzBdLmNsaWNrKCk6dGhpcy5lbGVtZW50LnRyaWdnZXIoImNsaWNrIikpfX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5pcygiYnV0dG9uIil8fHRoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwiYnV0dG9uIik7dGhpcy5vcHRpb25zLmljb24mJih0aGlzLl91cGRhdGVJY29uKCJpY29uIix0aGlzLm9wdGlvbnMuaWNvbiksdGhpcy5fdXBkYXRlVG9vbHRpcCgpKX0sX3VwZGF0ZVRvb2x0aXA6ZnVuY3Rpb24oKXt0aGlzLnRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpO3RoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMudGl0bGV8fHRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIsdGhpcy5vcHRpb25zLmxhYmVsKX0sX3VwZGF0ZUljb246ZnVuY3Rpb24odCxpKXt2YXIgdT0iaWNvblBvc2l0aW9uIiE9PXQscj11P3RoaXMub3B0aW9ucy5pY29uUG9zaXRpb246aSxmPSJ0b3AiPT09cnx8ImJvdHRvbSI9PT1yO3RoaXMuaWNvbj91JiZ0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0aGlzLm9wdGlvbnMuaWNvbik6KHRoaXMuaWNvbj1uKCI8c3Bhbj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sInVpLWJ1dHRvbi1pY29uIiwidWktaWNvbiIpLHRoaXMub3B0aW9ucy5zaG93TGFiZWx8fHRoaXMuX2FkZENsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IikpO3UmJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLGkpO3RoaXMuX2F0dGFjaEljb24ocik7Zj8odGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLXdpZGdldC1pY29uLWJsb2NrIiksdGhpcy5pY29uU3BhY2UmJnRoaXMuaWNvblNwYWNlLnJlbW92ZSgpKToodGhpcy5pY29uU3BhY2V8fCh0aGlzLmljb25TcGFjZT1uKCI8c3Bhbj4gPFwvc3Bhbj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmljb25TcGFjZSwidWktYnV0dG9uLWljb24tc3BhY2UiKSksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5pY29uLG51bGwsInVpLXdpZ2V0LWljb24tYmxvY2siKSx0aGlzLl9hdHRhY2hJY29uU3BhY2UocikpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5pY29uJiZ0aGlzLmljb24ucmVtb3ZlKCk7dGhpcy5pY29uU3BhY2UmJnRoaXMuaWNvblNwYWNlLnJlbW92ZSgpO3RoaXMuaGFzVGl0bGV8fHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJ0aXRsZSIpfSxfYXR0YWNoSWNvblNwYWNlOmZ1bmN0aW9uKG4pe3RoaXMuaWNvblsvXig/OmVuZHxib3R0b20pLy50ZXN0KG4pPyJiZWZvcmUiOiJhZnRlciJdKHRoaXMuaWNvblNwYWNlKX0sX2F0dGFjaEljb246ZnVuY3Rpb24obil7dGhpcy5lbGVtZW50Wy9eKD86ZW5kfGJvdHRvbSkvLnRlc3Qobik/ImFwcGVuZCI6InByZXBlbmQiXSh0aGlzLmljb24pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihuKXt2YXIgdD12b2lkIDA9PT1uLnNob3dMYWJlbD90aGlzLm9wdGlvbnMuc2hvd0xhYmVsOm4uc2hvd0xhYmVsLGk9dm9pZCAwPT09bi5pY29uP3RoaXMub3B0aW9ucy5pY29uOm4uaWNvbjt0fHxpfHwobi5zaG93TGFiZWw9ITApO3RoaXMuX3N1cGVyKG4pfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7Imljb24iPT09biYmKHQ/dGhpcy5fdXBkYXRlSWNvbihuLHQpOnRoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpKTsiaWNvblBvc2l0aW9uIj09PW4mJnRoaXMuX3VwZGF0ZUljb24obix0KTsic2hvd0xhYmVsIj09PW4mJih0aGlzLl90b2dnbGVDbGFzcygidWktYnV0dG9uLWljb24tb25seSIsbnVsbCwhdCksdGhpcy5fdXBkYXRlVG9vbHRpcCgpKTsibGFiZWwiPT09biYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKHQpOih0aGlzLmVsZW1lbnQuaHRtbCh0KSx0aGlzLmljb24mJih0aGlzLl9hdHRhY2hJY29uKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pLHRoaXMuX2F0dGFjaEljb25TcGFjZSh0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uKSkpKTt0aGlzLl9zdXBlcihuLHQpOyJkaXNhYmxlZCI9PT1uJiYodGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLHQpLHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZD10LHQmJnRoaXMuZWxlbWVudC5ibHVyKCkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50LmlzKCJpbnB1dCwgYnV0dG9uIik/dGhpcy5lbGVtZW50WzBdLmRpc2FibGVkOnRoaXMuZWxlbWVudC5oYXNDbGFzcygidWktYnV0dG9uLWRpc2FibGVkIik7biE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6bn0pO3RoaXMuX3VwZGF0ZVRvb2x0aXAoKX19KTtuLnVpQmFja0NvbXBhdCE9PSExJiYobi53aWRnZXQoInVpLmJ1dHRvbiIsbi51aS5idXR0b24se29wdGlvbnM6e3RleHQ6ITAsaWNvbnM6e3ByaW1hcnk6bnVsbCxzZWNvbmRhcnk6bnVsbH19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiYhdGhpcy5vcHRpb25zLnRleHQmJih0aGlzLm9wdGlvbnMuc2hvd0xhYmVsPXRoaXMub3B0aW9ucy50ZXh0KTshdGhpcy5vcHRpb25zLnNob3dMYWJlbCYmdGhpcy5vcHRpb25zLnRleHQmJih0aGlzLm9wdGlvbnMudGV4dD10aGlzLm9wdGlvbnMuc2hvd0xhYmVsKTt0aGlzLm9wdGlvbnMuaWNvbnx8IXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5JiYhdGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeT90aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5PXRoaXMub3B0aW9ucy5pY29uKTp0aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeT90aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMucHJpbWFyeToodGhpcy5vcHRpb25zLmljb249dGhpcy5vcHRpb25zLmljb25zLnNlY29uZGFyeSx0aGlzLm9wdGlvbnMuaWNvblBvc2l0aW9uPSJlbmQiKTt0aGlzLl9zdXBlcigpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuInRleHQiPT09bj8odGhpcy5fc3VwZXIoInNob3dMYWJlbCIsdCksdm9pZCAwKTooInNob3dMYWJlbCI9PT1uJiYodGhpcy5vcHRpb25zLnRleHQ9dCksImljb24iPT09biYmKHRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5PXQpLCJpY29ucyI9PT1uJiYodC5wcmltYXJ5Pyh0aGlzLl9zdXBlcigiaWNvbiIsdC5wcmltYXJ5KSx0aGlzLl9zdXBlcigiaWNvblBvc2l0aW9uIiwiYmVnaW5uaW5nIikpOnQuc2Vjb25kYXJ5JiYodGhpcy5fc3VwZXIoImljb24iLHQuc2Vjb25kYXJ5KSx0aGlzLl9zdXBlcigiaWNvblBvc2l0aW9uIiwiZW5kIikpKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyksdm9pZCAwKX19KSxuLmZuLmJ1dHRvbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5sZW5ndGh8fHRoaXMubGVuZ3RoJiYiSU5QVVQiIT09dGhpc1swXS50YWdOYW1lfHx0aGlzLmxlbmd0aCYmIklOUFVUIj09PXRoaXNbMF0udGFnTmFtZSYmImNoZWNrYm94IiE9PXRoaXMuYXR0cigidHlwZSIpJiYicmFkaW8iIT09dGhpcy5hdHRyKCJ0eXBlIik/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KG4udWkuY2hlY2tib3hyYWRpb3x8bi5lcnJvcigiQ2hlY2tib3hyYWRpbyB3aWRnZXQgbWlzc2luZyIpLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuY2hlY2tib3hyYWRpbyh7aWNvbjohMX0pOnRoaXMuY2hlY2tib3hyYWRpby5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX0obi5mbi5idXR0b24pLG4uZm4uYnV0dG9uc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG4udWkuY29udHJvbGdyb3VwfHxuLmVycm9yKCJDb250cm9sZ3JvdXAgd2lkZ2V0IG1pc3NpbmciKSwib3B0aW9uIj09PWFyZ3VtZW50c1swXSYmIml0ZW1zIj09PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzJdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIixhcmd1bWVudHNbMl1dKToib3B0aW9uIj09PWFyZ3VtZW50c1swXSYmIml0ZW1zIj09PWFyZ3VtZW50c1sxXT90aGlzLmNvbnRyb2xncm91cC5hcHBseSh0aGlzLFthcmd1bWVudHNbMF0sIml0ZW1zLmJ1dHRvbiJdKTooIm9iamVjdCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXS5pdGVtcyYmKGFyZ3VtZW50c1swXS5pdGVtcz17YnV0dG9uOmFyZ3VtZW50c1swXS5pdGVtc30pLHRoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9KTtuLnVpLmJ1dHRvbjtuLmV4dGVuZChuLnVpLHtkYXRlcGlja2VyOnt2ZXJzaW9uOiIxLjEyLjEifX0pO24uZXh0ZW5kKGMucHJvdG90eXBlLHttYXJrZXJDbGFzc05hbWU6Imhhc0RhdGVwaWNrZXIiLG1heFJvd3M6NCxfd2lkZ2V0RGF0ZXBpY2tlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRwRGl2fSxzZXREZWZhdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gdSh0aGlzLl9kZWZhdWx0cyxufHx7fSksdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcixmLHU7cj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Zj0iZGl2Ij09PXJ8fCJzcGFuIj09PXI7dC5pZHx8KHRoaXMudXVpZCs9MSx0LmlkPSJkcCIrdGhpcy51dWlkKTt1PXRoaXMuX25ld0luc3Qobih0KSxmKTt1LnNldHRpbmdzPW4uZXh0ZW5kKHt9LGl8fHt9KTsiaW5wdXQiPT09cj90aGlzLl9jb25uZWN0RGF0ZXBpY2tlcih0LHUpOmYmJnRoaXMuX2lubGluZURhdGVwaWNrZXIodCx1KX0sX25ld0luc3Q6ZnVuY3Rpb24odCxpKXt2YXIgcj10WzBdLmlkLnJlcGxhY2UoLyhbXkEtWmEtejAtOV9cLV0pL2csIlxcXFwkMSIpO3JldHVybntpZDpyLGlucHV0OnQsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6aSxkcERpdjppP2wobigiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48XC9kaXY+IikpOnRoaXMuZHBEaXZ9fSxfY29ubmVjdERhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHQpO2kuYXBwZW5kPW4oW10pO2kudHJpZ2dlcj1uKFtdKTtyLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKXx8KHRoaXMuX2F0dGFjaG1lbnRzKHIsaSksci5hZGRDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub24oImtleWRvd24iLHRoaXMuX2RvS2V5RG93bikub24oImtleXByZXNzIix0aGlzLl9kb0tleVByZXNzKS5vbigia2V5dXAiLHRoaXMuX2RvS2V5VXApLHRoaXMuX2F1dG9TaXplKGkpLG4uZGF0YSh0LCJkYXRlcGlja2VyIixpKSxpLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KSl9LF9hdHRhY2htZW50czpmdW5jdGlvbih0LGkpe3ZhciB1LHIsZixlPXRoaXMuX2dldChpLCJhcHBlbmRUZXh0Iiksbz10aGlzLl9nZXQoaSwiaXNSVEwiKTtpLmFwcGVuZCYmaS5hcHBlbmQucmVtb3ZlKCk7ZSYmKGkuYXBwZW5kPW4oIjxzcGFuIGNsYXNzPSciK3RoaXMuX2FwcGVuZENsYXNzKyInPiIrZSsiPFwvc3Bhbj4iKSx0W28/ImJlZm9yZSI6ImFmdGVyIl0oaS5hcHBlbmQpKTt0Lm9mZigiZm9jdXMiLHRoaXMuX3Nob3dEYXRlcGlja2VyKTtpLnRyaWdnZXImJmkudHJpZ2dlci5yZW1vdmUoKTt1PXRoaXMuX2dldChpLCJzaG93T24iKTsoImZvY3VzIj09PXV8fCJib3RoIj09PXUpJiZ0Lm9uKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpOygiYnV0dG9uIj09PXV8fCJib3RoIj09PXUpJiYocj10aGlzLl9nZXQoaSwiYnV0dG9uVGV4dCIpLGY9dGhpcy5fZ2V0KGksImJ1dHRvbkltYWdlIiksaS50cmlnZ2VyPW4odGhpcy5fZ2V0KGksImJ1dHRvbkltYWdlT25seSIpP24oIjxpbWcvPiIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuYXR0cih7c3JjOmYsYWx0OnIsdGl0bGU6cn0pOm4oIjxidXR0b24gdHlwZT0nYnV0dG9uJz48XC9idXR0b24+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5odG1sKGY/bigiPGltZy8+IikuYXR0cih7c3JjOmYsYWx0OnIsdGl0bGU6cn0pOnIpKSx0W28/ImJlZm9yZSI6ImFmdGVyIl0oaS50cmlnZ2VyKSxpLnRyaWdnZXIub24oImNsaWNrIixmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD09PXRbMF0/bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpOm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dFswXT8obi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLG4uZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodFswXSkpOm4uZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodFswXSksITF9KSl9LF9hdXRvU2l6ZTpmdW5jdGlvbihuKXtpZih0aGlzLl9nZXQobiwiYXV0b1NpemUiKSYmIW4uaW5saW5lKXt2YXIgcix1LGYsdCxpPW5ldyBEYXRlKDIwMDksMTEsMjApLGU9dGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKTtlLm1hdGNoKC9bRE1dLykmJihyPWZ1bmN0aW9uKG4pe2Zvcih1PTAsZj0wLHQ9MDtuLmxlbmd0aD50O3QrKyluW3RdLmxlbmd0aD51JiYodT1uW3RdLmxlbmd0aCxmPXQpO3JldHVybiBmfSxpLnNldE1vbnRoKHIodGhpcy5fZ2V0KG4sZS5tYXRjaCgvTU0vKT8ibW9udGhOYW1lcyI6Im1vbnRoTmFtZXNTaG9ydCIpKSksaS5zZXREYXRlKHIodGhpcy5fZ2V0KG4sZS5tYXRjaCgvREQvKT8iZGF5TmFtZXMiOiJkYXlOYW1lc1Nob3J0IikpKzIwLWkuZ2V0RGF5KCkpKTtuLmlucHV0LmF0dHIoInNpemUiLHRoaXMuX2Zvcm1hdERhdGUobixpKS5sZW5ndGgpfX0sX2lubGluZURhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHQpO3IuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwoci5hZGRDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuYXBwZW5kKGkuZHBEaXYpLG4uZGF0YSh0LCJkYXRlcGlja2VyIixpKSx0aGlzLl9zZXREYXRlKGksdGhpcy5fZ2V0RGVmYXVsdERhdGUoaSksITApLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpLGkuZHBEaXYuY3NzKCJkaXNwbGF5IiwiYmxvY2siKSl9LF9kaWFsb2dEYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSxyLGYsZSl7dmFyIHMsaCxjLGwsYSxvPXRoaXMuX2RpYWxvZ0luc3Q7cmV0dXJuIG98fCh0aGlzLnV1aWQrPTEscz0iZHAiK3RoaXMudXVpZCx0aGlzLl9kaWFsb2dJbnB1dD1uKCI8aW5wdXQgdHlwZT0ndGV4dCcgaWQ9JyIrcysiJyBzdHlsZT0ncG9zaXRpb246IGFic29sdXRlOyB0b3A6IC0xMDBweDsgd2lkdGg6IDBweDsnLz4iKSx0aGlzLl9kaWFsb2dJbnB1dC5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKSxuKCJib2R5IikuYXBwZW5kKHRoaXMuX2RpYWxvZ0lucHV0KSxvPXRoaXMuX2RpYWxvZ0luc3Q9dGhpcy5fbmV3SW5zdCh0aGlzLl9kaWFsb2dJbnB1dCwhMSksby5zZXR0aW5ncz17fSxuLmRhdGEodGhpcy5fZGlhbG9nSW5wdXRbMF0sImRhdGVwaWNrZXIiLG8pKSx1KG8uc2V0dGluZ3MsZnx8e30pLGk9aSYmaS5jb25zdHJ1Y3Rvcj09PURhdGU/dGhpcy5fZm9ybWF0RGF0ZShvLGkpOmksdGhpcy5fZGlhbG9nSW5wdXQudmFsKGkpLHRoaXMuX3Bvcz1lP2UubGVuZ3RoP2U6W2UucGFnZVgsZS5wYWdlWV06bnVsbCx0aGlzLl9wb3N8fChoPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsbD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsdGhpcy5fcG9zPVtoLzItMTAwK2wsYy8yLTE1MCthXSksdGhpcy5fZGlhbG9nSW5wdXQuY3NzKCJsZWZ0Iix0aGlzLl9wb3NbMF0rMjArInB4IikuY3NzKCJ0b3AiLHRoaXMuX3Bvc1sxXSsicHgiKSxvLnNldHRpbmdzLm9uU2VsZWN0PXIsdGhpcy5faW5EaWFsb2c9ITAsdGhpcy5kcERpdi5hZGRDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcyksdGhpcy5fc2hvd0RhdGVwaWNrZXIodGhpcy5fZGlhbG9nSW5wdXRbMF0pLG4uYmxvY2tVSSYmbi5ibG9ja1VJKHRoaXMuZHBEaXYpLG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsbyksdGhpc30sX2Rlc3Ryb3lEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciByLHU9bih0KSxmPW4uZGF0YSh0LCJkYXRlcGlja2VyIik7dS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxuLnJlbW92ZURhdGEodCwiZGF0ZXBpY2tlciIpLCJpbnB1dCI9PT1yPyhmLmFwcGVuZC5yZW1vdmUoKSxmLnRyaWdnZXIucmVtb3ZlKCksdS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpLm9mZigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vZmYoImtleXByZXNzIix0aGlzLl9kb0tleVByZXNzKS5vZmYoImtleXVwIix0aGlzLl9kb0tleVVwKSk6KCJkaXYiPT09cnx8InNwYW4iPT09cikmJnUucmVtb3ZlQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmVtcHR5KCksaT09PWYmJihpPW51bGwpKX0sX2VuYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGkscix1PW4odCksZj1uLmRhdGEodCwiZGF0ZXBpY2tlciIpO3UuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoaT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksImlucHV0Ij09PWk/KHQuZGlzYWJsZWQ9ITEsZi50cmlnZ2VyLmZpbHRlcigiYnV0dG9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITF9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMS4wIixjdXJzb3I6IiJ9KSk6KCJkaXYiPT09aXx8InNwYW4iPT09aSkmJihyPXUuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKSxyLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiksci5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMSkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPW4ubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD9udWxsOm59KSl9LF9kaXNhYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPW4uZGF0YSh0LCJkYXRlcGlja2VyIik7dS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8odC5kaXNhYmxlZD0hMCxmLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMH0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIwLjUiLGN1cnNvcjoiZGVmYXVsdCJ9KSk6KCJkaXYiPT09aXx8InNwYW4iPT09aSkmJihyPXUuY2hpbGRyZW4oIi4iK3RoaXMuX2lubGluZUNsYXNzKSxyLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiksci5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci1tb250aCwgc2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhciIpLnByb3AoImRpc2FibGVkIiwhMCkpLHRoaXMuX2Rpc2FibGVkSW5wdXRzPW4ubWFwKHRoaXMuX2Rpc2FibGVkSW5wdXRzLGZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD9udWxsOm59KSx0aGlzLl9kaXNhYmxlZElucHV0c1t0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGhdPXQpfSxfaXNEaXNhYmxlZERhdGVwaWNrZXI6ZnVuY3Rpb24obil7aWYoIW4pcmV0dXJuITE7Zm9yKHZhciB0PTA7dGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoPnQ7dCsrKWlmKHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RdPT09bilyZXR1cm4hMDtyZXR1cm4hMX0sX2dldEluc3Q6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuLmRhdGEodCwiZGF0ZXBpY2tlciIpfWNhdGNoKGkpe3Rocm93Ik1pc3NpbmcgaW5zdGFuY2UgZGF0YSBmb3IgdGhpcyBkYXRlcGlja2VyIjt9fSxfb3B0aW9uRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkscil7dmFyIGUsaCxvLHMsZj10aGlzLl9nZXRJbnN0KHQpO3JldHVybiAyPT09YXJndW1lbnRzLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBpPyJkZWZhdWx0cyI9PT1pP24uZXh0ZW5kKHt9LG4uZGF0ZXBpY2tlci5fZGVmYXVsdHMpOmY/ImFsbCI9PT1pP24uZXh0ZW5kKHt9LGYuc2V0dGluZ3MpOnRoaXMuX2dldChmLGkpOm51bGw6KGU9aXx8e30sInN0cmluZyI9PXR5cGVvZiBpJiYoZT17fSxlW2ldPXIpLGYmJih0aGlzLl9jdXJJbnN0PT09ZiYmdGhpcy5faGlkZURhdGVwaWNrZXIoKSxoPXRoaXMuX2dldERhdGVEYXRlcGlja2VyKHQsITApLG89dGhpcy5fZ2V0TWluTWF4RGF0ZShmLCJtaW4iKSxzPXRoaXMuX2dldE1pbk1heERhdGUoZiwibWF4IiksdShmLnNldHRpbmdzLGUpLG51bGwhPT1vJiZ2b2lkIDAhPT1lLmRhdGVGb3JtYXQmJnZvaWQgMD09PWUubWluRGF0ZSYmKGYuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKGYsbykpLG51bGwhPT1zJiZ2b2lkIDAhPT1lLmRhdGVGb3JtYXQmJnZvaWQgMD09PWUubWF4RGF0ZSYmKGYuc2V0dGluZ3MubWF4RGF0ZT10aGlzLl9mb3JtYXREYXRlKGYscykpLCJkaXNhYmxlZCJpbiBlJiYoZS5kaXNhYmxlZD90aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KTp0aGlzLl9lbmFibGVEYXRlcGlja2VyKHQpKSx0aGlzLl9hdHRhY2htZW50cyhuKHQpLGYpLHRoaXMuX2F1dG9TaXplKGYpLHRoaXMuX3NldERhdGUoZixoKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoZiksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihmKSksdm9pZCAwKX0sX2NoYW5nZURhdGVwaWNrZXI6ZnVuY3Rpb24obix0LGkpe3RoaXMuX29wdGlvbkRhdGVwaWNrZXIobix0LGkpfSxfcmVmcmVzaERhdGVwaWNrZXI6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0SW5zdChuKTt0JiZ0aGlzLl91cGRhdGVEYXRlcGlja2VyKHQpfSxfc2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9nZXRJbnN0KG4pO2kmJih0aGlzLl9zZXREYXRlKGksdCksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSkpfSxfZ2V0RGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9nZXRJbnN0KG4pO3JldHVybiBpJiYhaS5pbmxpbmUmJnRoaXMuX3NldERhdGVGcm9tRmllbGQoaSx0KSxpP3RoaXMuX2dldERhdGUoaSk6bnVsbH0sX2RvS2V5RG93bjpmdW5jdGlvbih0KXt2YXIgdSxlLGYsaT1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpLHI9ITAsbz1pLmRwRGl2LmlzKCIudWktZGF0ZXBpY2tlci1ydGwiKTtpZihpLl9rZXlFdmVudD0hMCxuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nKXN3aXRjaCh0LmtleUNvZGUpe2Nhc2UgOTpuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7cj0hMTticmVhaztjYXNlIDEzOnJldHVybiBmPW4oInRkLiIrbi5kYXRlcGlja2VyLl9kYXlPdmVyQ2xhc3MrIjpub3QoLiIrbi5kYXRlcGlja2VyLl9jdXJyZW50Q2xhc3MrIikiLGkuZHBEaXYpLGZbMF0mJm4uZGF0ZXBpY2tlci5fc2VsZWN0RGF5KHQudGFyZ2V0LGkuc2VsZWN0ZWRNb250aCxpLnNlbGVjdGVkWWVhcixmWzBdKSx1PW4uZGF0ZXBpY2tlci5fZ2V0KGksIm9uU2VsZWN0IiksdT8oZT1uLmRhdGVwaWNrZXIuX2Zvcm1hdERhdGUoaSksdS5hcHBseShpLmlucHV0P2kuaW5wdXRbMF06bnVsbCxbZSxpXSkpOm4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSwhMTtjYXNlIDI3Om4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTticmVhaztjYXNlIDMzOm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LW4uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTotbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNDpuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytuLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzU6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9jbGVhckRhdGUodC50YXJnZXQpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzNjoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2dvdG9Ub2RheSh0LnRhcmdldCk7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM3Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCxvPzE6LTEsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O3Qub3JpZ2luYWxFdmVudC5hbHRLZXkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/LW4uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTotbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzODoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsLTcsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzk6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/LTE6MSwiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7dC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8rbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOituLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDQwOih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCw3LCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztkZWZhdWx0OnI9ITF9ZWxzZSAzNj09PXQua2V5Q29kZSYmdC5jdHJsS2V5P24uZGF0ZXBpY2tlci5fc2hvd0RhdGVwaWNrZXIodGhpcyk6cj0hMTtyJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfSxfZG9LZXlQcmVzczpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtpZihuLmRhdGVwaWNrZXIuX2dldCh1LCJjb25zdHJhaW5JbnB1dCIpKXJldHVybihpPW4uZGF0ZXBpY2tlci5fcG9zc2libGVDaGFycyhuLmRhdGVwaWNrZXIuX2dldCh1LCJkYXRlRm9ybWF0IikpLHI9U3RyaW5nLmZyb21DaGFyQ29kZShudWxsPT10LmNoYXJDb2RlP3Qua2V5Q29kZTp0LmNoYXJDb2RlKSx0LmN0cmxLZXl8fHQubWV0YUtleXx8IiAiPnJ8fCFpfHxpLmluZGV4T2Yocik+LTEpfSxfZG9LZXlVcDpmdW5jdGlvbih0KXt2YXIgcixpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYoaS5pbnB1dC52YWwoKSE9PWkubGFzdFZhbCl0cnl7cj1uLmRhdGVwaWNrZXIucGFyc2VEYXRlKG4uZGF0ZXBpY2tlci5fZ2V0KGksImRhdGVGb3JtYXQiKSxpLmlucHV0P2kuaW5wdXQudmFsKCk6bnVsbCxuLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhpKSk7ciYmKG4uZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChpKSxuLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShpKSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSkpfWNhdGNoKHUpe31yZXR1cm4hMH0sX3Nob3dEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe2lmKHQ9dC50YXJnZXR8fHQsImlucHV0IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKHQ9bigiaW5wdXQiLHQucGFyZW50Tm9kZSlbMF0pLCFuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKHQpJiZuLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCE9PXQpe3ZhciBpLG8scyxyLGYsZSxoO2k9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQpO24uZGF0ZXBpY2tlci5fY3VySW5zdCYmbi5kYXRlcGlja2VyLl9jdXJJbnN0IT09aSYmKG4uZGF0ZXBpY2tlci5fY3VySW5zdC5kcERpdi5zdG9wKCEwLCEwKSxpJiZuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKG4uZGF0ZXBpY2tlci5fY3VySW5zdC5pbnB1dFswXSkpO289bi5kYXRlcGlja2VyLl9nZXQoaSwiYmVmb3JlU2hvdyIpO3M9bz9vLmFwcGx5KHQsW3QsaV0pOnt9O3MhPT0hMSYmKHUoaS5zZXR0aW5ncyxzKSxpLmxhc3RWYWw9bnVsbCxuLmRhdGVwaWNrZXIuX2xhc3RJbnB1dD10LG4uZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChpKSxuLmRhdGVwaWNrZXIuX2luRGlhbG9nJiYodC52YWx1ZT0iIiksbi5kYXRlcGlja2VyLl9wb3N8fChuLmRhdGVwaWNrZXIuX3Bvcz1uLmRhdGVwaWNrZXIuX2ZpbmRQb3ModCksbi5kYXRlcGlja2VyLl9wb3NbMV0rPXQub2Zmc2V0SGVpZ2h0KSxyPSExLG4odCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gcnw9ImZpeGVkIj09PW4odGhpcykuY3NzKCJwb3NpdGlvbiIpLCFyfSksZj17bGVmdDpuLmRhdGVwaWNrZXIuX3Bvc1swXSx0b3A6bi5kYXRlcGlja2VyLl9wb3NbMV19LG4uZGF0ZXBpY2tlci5fcG9zPW51bGwsaS5kcERpdi5lbXB0eSgpLGkuZHBEaXYuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGRpc3BsYXk6ImJsb2NrIix0b3A6Ii0xMDAwcHgifSksbi5kYXRlcGlja2VyLl91cGRhdGVEYXRlcGlja2VyKGkpLGY9bi5kYXRlcGlja2VyLl9jaGVja09mZnNldChpLGYsciksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOm4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJm4uYmxvY2tVST8ic3RhdGljIjpyPyJmaXhlZCI6ImFic29sdXRlIixkaXNwbGF5OiJub25lIixsZWZ0OmYubGVmdCsicHgiLHRvcDpmLnRvcCsicHgifSksaS5pbmxpbmV8fChlPW4uZGF0ZXBpY2tlci5fZ2V0KGksInNob3dBbmltIiksaD1uLmRhdGVwaWNrZXIuX2dldChpLCJkdXJhdGlvbiIpLGkuZHBEaXYuY3NzKCJ6LWluZGV4IixrKG4odCkpKzEpLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsbi5lZmZlY3RzJiZuLmVmZmVjdHMuZWZmZWN0W2VdP2kuZHBEaXYuc2hvdyhlLG4uZGF0ZXBpY2tlci5fZ2V0KGksInNob3dPcHRpb25zIiksaCk6aS5kcERpdltlfHwic2hvdyJdKGU/aDpudWxsKSxuLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQoaSkmJmkuaW5wdXQudHJpZ2dlcigiZm9jdXMiKSxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9aSkpfX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dGhpcy5tYXhSb3dzPTQ7aT10O3QuZHBEaXYuZW1wdHkoKS5hcHBlbmQodGhpcy5fZ2VuZXJhdGVIVE1MKHQpKTt0aGlzLl9hdHRhY2hIYW5kbGVycyh0KTt2YXIgcix1PXRoaXMuX2dldE51bWJlck9mTW9udGhzKHQpLGY9dVsxXSxlPXQuZHBEaXYuZmluZCgiLiIrdGhpcy5fZGF5T3ZlckNsYXNzKyIgYSIpO2UubGVuZ3RoPjAmJmEuYXBwbHkoZS5nZXQoMCkpO3QuZHBEaXYucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktMiB1aS1kYXRlcGlja2VyLW11bHRpLTMgdWktZGF0ZXBpY2tlci1tdWx0aS00Iikud2lkdGgoIiIpO2Y+MSYmdC5kcERpdi5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0iK2YpLmNzcygid2lkdGgiLDE3KmYrImVtIik7dC5kcERpdlsoMSE9PXVbMF18fDEhPT11WzFdPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1tdWx0aSIpO3QuZHBEaXZbKHRoaXMuX2dldCh0LCJpc1JUTCIpPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1ydGwiKTt0PT09bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQodCkmJnQuaW5wdXQudHJpZ2dlcigiZm9jdXMiKTt0LnllYXJzaHRtbCYmKHI9dC55ZWFyc2h0bWwsc2V0VGltZW91dChmdW5jdGlvbigpe3I9PT10LnllYXJzaHRtbCYmdC55ZWFyc2h0bWwmJnQuZHBEaXYuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhcjpmaXJzdCIpLnJlcGxhY2VXaXRoKHQueWVhcnNodG1sKTtyPXQueWVhcnNodG1sPW51bGx9LDApKX0sX3Nob3VsZEZvY3VzSW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIG4uaW5wdXQmJm4uaW5wdXQuaXMoIjp2aXNpYmxlIikmJiFuLmlucHV0LmlzKCI6ZGlzYWJsZWQiKSYmIW4uaW5wdXQuaXMoIjpmb2N1cyIpfSxfY2hlY2tPZmZzZXQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXQuZHBEaXYub3V0ZXJXaWR0aCgpLGY9dC5kcERpdi5vdXRlckhlaWdodCgpLGg9dC5pbnB1dD90LmlucHV0Lm91dGVyV2lkdGgoKTowLG89dC5pbnB1dD90LmlucHV0Lm91dGVySGVpZ2h0KCk6MCxlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCsocj8wOm4oZG9jdW1lbnQpLnNjcm9sbExlZnQoKSkscz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsVG9wKCkpO3JldHVybiBpLmxlZnQtPXRoaXMuX2dldCh0LCJpc1JUTCIpP3UtaDowLGkubGVmdC09ciYmaS5sZWZ0PT09dC5pbnB1dC5vZmZzZXQoKS5sZWZ0P24oZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowLGkudG9wLT1yJiZpLnRvcD09PXQuaW5wdXQub2Zmc2V0KCkudG9wK28/bihkb2N1bWVudCkuc2Nyb2xsVG9wKCk6MCxpLmxlZnQtPU1hdGgubWluKGkubGVmdCxpLmxlZnQrdT5lJiZlPnU/TWF0aC5hYnMoaS5sZWZ0K3UtZSk6MCksaS50b3AtPU1hdGgubWluKGkudG9wLGkudG9wK2Y+cyYmcz5mP01hdGguYWJzKGYrbyk6MCksaX0sX2ZpbmRQb3M6ZnVuY3Rpb24odCl7Zm9yKHZhciBpLHI9dGhpcy5fZ2V0SW5zdCh0KSx1PXRoaXMuX2dldChyLCJpc1JUTCIpO3QmJigiaGlkZGVuIj09PXQudHlwZXx8MSE9PXQubm9kZVR5cGV8fG4uZXhwci5maWx0ZXJzLmhpZGRlbih0KSk7KXQ9dFt1PyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO3JldHVybiBpPW4odCkub2Zmc2V0KCksW2kubGVmdCxpLnRvcF19LF9oaWRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgcixmLHUsZSxpPXRoaXMuX2N1ckluc3Q7IWl8fHQmJmkhPT1uLmRhdGEodCwiZGF0ZXBpY2tlciIpfHx0aGlzLl9kYXRlcGlja2VyU2hvd2luZyYmKHI9dGhpcy5fZ2V0KGksInNob3dBbmltIiksZj10aGlzLl9nZXQoaSwiZHVyYXRpb24iKSx1PWZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl90aWR5RGlhbG9nKGkpfSxuLmVmZmVjdHMmJihuLmVmZmVjdHMuZWZmZWN0W3JdfHxuLmVmZmVjdHNbcl0pP2kuZHBEaXYuaGlkZShyLG4uZGF0ZXBpY2tlci5fZ2V0KGksInNob3dPcHRpb25zIiksZix1KTppLmRwRGl2WyJzbGlkZURvd24iPT09cj8ic2xpZGVVcCI6ImZhZGVJbiI9PT1yPyJmYWRlT3V0IjoiaGlkZSJdKHI/ZjpudWxsLHUpLHJ8fHUoKSx0aGlzLl9kYXRlcGlja2VyU2hvd2luZz0hMSxlPXRoaXMuX2dldChpLCJvbkNsb3NlIiksZSYmZS5hcHBseShpLmlucHV0P2kuaW5wdXRbMF06bnVsbCxbaS5pbnB1dD9pLmlucHV0LnZhbCgpOiIiLGldKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCx0aGlzLl9pbkRpYWxvZyYmKHRoaXMuX2RpYWxvZ0lucHV0LmNzcyh7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OiIwIix0b3A6Ii0xMDBweCJ9KSxuLmJsb2NrVUkmJihuLnVuYmxvY2tVSSgpLG4oImJvZHkiKS5hcHBlbmQodGhpcy5kcERpdikpKSx0aGlzLl9pbkRpYWxvZz0hMSl9LF90aWR5RGlhbG9nOmZ1bmN0aW9uKG4pe24uZHBEaXYucmVtb3ZlQ2xhc3ModGhpcy5fZGlhbG9nQ2xhc3MpLm9mZigiLnVpLWRhdGVwaWNrZXItY2FsZW5kYXIiKX0sX2NoZWNrRXh0ZXJuYWxDbGljazpmdW5jdGlvbih0KXtpZihuLmRhdGVwaWNrZXIuX2N1ckluc3Qpe3ZhciBpPW4odC50YXJnZXQpLHI9bi5kYXRlcGlja2VyLl9nZXRJbnN0KGlbMF0pOyhpWzBdLmlkPT09bi5kYXRlcGlja2VyLl9tYWluRGl2SWR8fDAhPT1pLnBhcmVudHMoIiMiK24uZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGh8fGkuaGFzQ2xhc3Mobi5kYXRlcGlja2VyLm1hcmtlckNsYXNzTmFtZSl8fGkuY2xvc2VzdCgiLiIrbi5kYXRlcGlja2VyLl90cmlnZ2VyQ2xhc3MpLmxlbmd0aHx8IW4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmd8fG4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJm4uYmxvY2tVSSkmJighaS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8bi5kYXRlcGlja2VyLl9jdXJJbnN0PT09cil8fG4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKX19LF9hZGp1c3REYXRlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1uKHQpLHU9dGhpcy5fZ2V0SW5zdChmWzBdKTt0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihmWzBdKXx8KHRoaXMuX2FkanVzdEluc3REYXRlKHUsaSsoIk0iPT09cj90aGlzLl9nZXQodSwic2hvd0N1cnJlbnRBdFBvcyIpOjApLHIpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodSkpfSxfZ290b1RvZGF5OmZ1bmN0aW9uKHQpe3ZhciByLHU9bih0KSxpPXRoaXMuX2dldEluc3QodVswXSk7dGhpcy5fZ2V0KGksImdvdG9DdXJyZW50IikmJmkuY3VycmVudERheT8oaS5zZWxlY3RlZERheT1pLmN1cnJlbnREYXksaS5kcmF3TW9udGg9aS5zZWxlY3RlZE1vbnRoPWkuY3VycmVudE1vbnRoLGkuZHJhd1llYXI9aS5zZWxlY3RlZFllYXI9aS5jdXJyZW50WWVhcik6KHI9bmV3IERhdGUsaS5zZWxlY3RlZERheT1yLmdldERhdGUoKSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9ci5nZXRNb250aCgpLGkuZHJhd1llYXI9aS5zZWxlY3RlZFllYXI9ci5nZXRGdWxsWWVhcigpKTt0aGlzLl9ub3RpZnlDaGFuZ2UoaSk7dGhpcy5fYWRqdXN0RGF0ZSh1KX0sX3NlbGVjdE1vbnRoWWVhcjpmdW5jdGlvbih0LGkscil7dmFyIGY9bih0KSx1PXRoaXMuX2dldEluc3QoZlswXSk7dVsic2VsZWN0ZWQiKygiTSI9PT1yPyJNb250aCI6IlllYXIiKV09dVsiZHJhdyIrKCJNIj09PXI/Ik1vbnRoIjoiWWVhciIpXT1wYXJzZUludChpLm9wdGlvbnNbaS5zZWxlY3RlZEluZGV4XS52YWx1ZSwxMCk7dGhpcy5fbm90aWZ5Q2hhbmdlKHUpO3RoaXMuX2FkanVzdERhdGUoZil9LF9zZWxlY3REYXk6ZnVuY3Rpb24odCxpLHIsdSl7dmFyIGYsZT1uKHQpO24odSkuaGFzQ2xhc3ModGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MpfHx0aGlzLl9pc0Rpc2FibGVkRGF0ZXBpY2tlcihlWzBdKXx8KGY9dGhpcy5fZ2V0SW5zdChlWzBdKSxmLnNlbGVjdGVkRGF5PWYuY3VycmVudERheT1uKCJhIix1KS5odG1sKCksZi5zZWxlY3RlZE1vbnRoPWYuY3VycmVudE1vbnRoPWksZi5zZWxlY3RlZFllYXI9Zi5jdXJyZW50WWVhcj1yLHRoaXMuX3NlbGVjdERhdGUodCx0aGlzLl9mb3JtYXREYXRlKGYsZi5jdXJyZW50RGF5LGYuY3VycmVudE1vbnRoLGYuY3VycmVudFllYXIpKSl9LF9jbGVhckRhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bih0KTt0aGlzLl9zZWxlY3REYXRlKGksIiIpfSxfc2VsZWN0RGF0ZTpmdW5jdGlvbih0LGkpe3ZhciB1LGY9bih0KSxyPXRoaXMuX2dldEluc3QoZlswXSk7aT1udWxsIT1pP2k6dGhpcy5fZm9ybWF0RGF0ZShyKTtyLmlucHV0JiZyLmlucHV0LnZhbChpKTt0aGlzLl91cGRhdGVBbHRlcm5hdGUocik7dT10aGlzLl9nZXQociwib25TZWxlY3QiKTt1P3UuYXBwbHkoci5pbnB1dD9yLmlucHV0WzBdOm51bGwsW2kscl0pOnIuaW5wdXQmJnIuaW5wdXQudHJpZ2dlcigiY2hhbmdlIik7ci5pbmxpbmU/dGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihyKToodGhpcy5faGlkZURhdGVwaWNrZXIoKSx0aGlzLl9sYXN0SW5wdXQ9ci5pbnB1dFswXSwib2JqZWN0IiE9dHlwZW9mIHIuaW5wdXRbMF0mJnIuaW5wdXQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLl9sYXN0SW5wdXQ9bnVsbCl9LF91cGRhdGVBbHRlcm5hdGU6ZnVuY3Rpb24odCl7dmFyIGkscix1LGY9dGhpcy5fZ2V0KHQsImFsdEZpZWxkIik7ZiYmKGk9dGhpcy5fZ2V0KHQsImFsdEZvcm1hdCIpfHx0aGlzLl9nZXQodCwiZGF0ZUZvcm1hdCIpLHI9dGhpcy5fZ2V0RGF0ZSh0KSx1PXRoaXMuZm9ybWF0RGF0ZShpLHIsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKHQpKSxuKGYpLnZhbCh1KSl9LG5vV2Vla2VuZHM6ZnVuY3Rpb24obil7dmFyIHQ9bi5nZXREYXkoKTtyZXR1cm5bdD4wJiY2PnQsIiJdfSxpc284NjAxV2VlazpmdW5jdGlvbihuKXt2YXIgaSx0PW5ldyBEYXRlKG4uZ2V0VGltZSgpKTtyZXR1cm4gdC5zZXREYXRlKHQuZ2V0RGF0ZSgpKzQtKHQuZ2V0RGF5KCl8fDcpKSxpPXQuZ2V0VGltZSgpLHQuc2V0TW9udGgoMCksdC5zZXREYXRlKDEpLE1hdGguZmxvb3IoTWF0aC5yb3VuZCgoaS10KS84NjRlNSkvNykrMX0scGFyc2VEYXRlOmZ1bmN0aW9uKHQsaSxyKXtpZihudWxsPT10fHxudWxsPT1pKXRocm93IkludmFsaWQgYXJndW1lbnRzIjtpZihpPSJvYmplY3QiPT10eXBlb2YgaT8iIitpOmkrIiIsIiI9PT1pKXJldHVybiBudWxsO2Zvcih2YXIgYSx2LHUsZj0wLHk9KHI/ci5zaG9ydFllYXJDdXRvZmY6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLnNob3J0WWVhckN1dG9mZixkPSJzdHJpbmciIT10eXBlb2YgeT95OihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQoeSwxMCksZz0ocj9yLmRheU5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzU2hvcnQsbnQ9KHI/ci5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsdHQ9KHI/ci5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxpdD0ocj9yLm1vbnRoTmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXMsZT0tMSxzPS0xLGg9LTEscD0tMSx3PSExLGw9ZnVuY3Rpb24obil7dmFyIGk9dC5sZW5ndGg+bysxJiZ0LmNoYXJBdChvKzEpPT09bjtyZXR1cm4gaSYmbysrLGl9LGM9ZnVuY3Rpb24obil7dmFyIHU9bChuKSxyPSJAIj09PW4/MTQ6IiEiPT09bj8yMDoieSI9PT1uJiZ1PzQ6Im8iPT09bj8zOjIsZT0ieSI9PT1uP3I6MSxvPVJlZ0V4cCgiXlxcZHsiK2UrIiwiK3IrIn0iKSx0PWkuc3Vic3RyaW5nKGYpLm1hdGNoKG8pO2lmKCF0KXRocm93Ik1pc3NpbmcgbnVtYmVyIGF0IHBvc2l0aW9uICIrZjtyZXR1cm4gZis9dFswXS5sZW5ndGgscGFyc2VJbnQodFswXSwxMCl9LGs9ZnVuY3Rpb24odCxyLHUpe3ZhciBlPS0xLG89bi5tYXAobCh0KT91OnIsZnVuY3Rpb24obix0KXtyZXR1cm5bW3Qsbl1dfSkuc29ydChmdW5jdGlvbihuLHQpe3JldHVybi0oblsxXS5sZW5ndGgtdFsxXS5sZW5ndGgpfSk7aWYobi5lYWNoKG8sZnVuY3Rpb24obix0KXt2YXIgcj10WzFdO2lmKGkuc3Vic3RyKGYsci5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1yLnRvTG93ZXJDYXNlKCkpcmV0dXJuKGU9dFswXSxmKz1yLmxlbmd0aCwhMSl9KSwtMSE9PWUpcmV0dXJuIGUrMTt0aHJvdyJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gIitmO30sYj1mdW5jdGlvbigpe2lmKGkuY2hhckF0KGYpIT09dC5jaGFyQXQobykpdGhyb3ciVW5leHBlY3RlZCBsaXRlcmFsIGF0IHBvc2l0aW9uICIrZjtmKyt9LG89MDt0Lmxlbmd0aD5vO28rKylpZih3KSInIiE9PXQuY2hhckF0KG8pfHxsKCInIik/YigpOnc9ITE7ZWxzZSBzd2l0Y2godC5jaGFyQXQobykpe2Nhc2UiZCI6aD1jKCJkIik7YnJlYWs7Y2FzZSJEIjprKCJEIixnLG50KTticmVhaztjYXNlIm8iOnA9YygibyIpO2JyZWFrO2Nhc2UibSI6cz1jKCJtIik7YnJlYWs7Y2FzZSJNIjpzPWsoIk0iLHR0LGl0KTticmVhaztjYXNlInkiOmU9YygieSIpO2JyZWFrO2Nhc2UiQCI6dT1uZXcgRGF0ZShjKCJAIikpO2U9dS5nZXRGdWxsWWVhcigpO3M9dS5nZXRNb250aCgpKzE7aD11LmdldERhdGUoKTticmVhaztjYXNlIiEiOnU9bmV3IERhdGUoKGMoIiEiKS10aGlzLl90aWNrc1RvMTk3MCkvMWU0KTtlPXUuZ2V0RnVsbFllYXIoKTtzPXUuZ2V0TW9udGgoKSsxO2g9dS5nZXREYXRlKCk7YnJlYWs7Y2FzZSInIjpsKCInIik/YigpOnc9ITA7YnJlYWs7ZGVmYXVsdDpiKCl9aWYoaS5sZW5ndGg+ZiYmKHY9aS5zdWJzdHIoZiksIS9eXHMrLy50ZXN0KHYpKSl0aHJvdyJFeHRyYS91bnBhcnNlZCBjaGFyYWN0ZXJzIGZvdW5kIGluIGRhdGU6ICIrdjtpZigtMT09PWU/ZT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCk6MTAwPmUmJihlKz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCktKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCsoZD49ZT8wOi0xMDApKSxwPi0xKWZvcihzPTEsaD1wOzspe2lmKGE9dGhpcy5fZ2V0RGF5c0luTW9udGgoZSxzLTEpLGE+PWgpYnJlYWs7cysrO2gtPWF9aWYodT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShlLHMtMSxoKSksdS5nZXRGdWxsWWVhcigpIT09ZXx8dS5nZXRNb250aCgpKzEhPT1zfHx1LmdldERhdGUoKSE9PWgpdGhyb3ciSW52YWxpZCBkYXRlIjtyZXR1cm4gdX0sQVRPTToieXktbW0tZGQiLENPT0tJRToiRCwgZGQgTSB5eSIsSVNPXzg2MDE6Inl5LW1tLWRkIixSRkNfODIyOiJELCBkIE0geSIsUkZDXzg1MDoiREQsIGRkLU0teSIsUkZDXzEwMzY6IkQsIGQgTSB5IixSRkNfMTEyMzoiRCwgZCBNIHl5IixSRkNfMjgyMjoiRCwgZCBNIHl5IixSU1M6IkQsIGQgTSB5IixUSUNLUzoiISIsVElNRVNUQU1QOiJAIixXM0M6Inl5LW1tLWRkIixfdGlja3NUbzE5NzA6ODY0ZTkqKDcxODY4NStNYXRoLmZsb29yKDQ5Mi41KS1NYXRoLmZsb29yKDE5LjcpK01hdGguZmxvb3IoNC45MjUpKSxmb3JtYXREYXRlOmZ1bmN0aW9uKG4sdCxpKXtpZighdClyZXR1cm4iIjt2YXIgdSxoPShpP2kuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxjPShpP2kuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLGw9KGk/aS5tb250aE5hbWVzU2hvcnQ6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLm1vbnRoTmFtZXNTaG9ydCxhPShpP2kubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxmPWZ1bmN0aW9uKHQpe3ZhciBpPW4ubGVuZ3RoPnUrMSYmbi5jaGFyQXQodSsxKT09PXQ7cmV0dXJuIGkmJnUrKyxpfSxlPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj0iIit0O2lmKGYobikpZm9yKDtpPnIubGVuZ3RoOylyPSIwIityO3JldHVybiByfSxzPWZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiBmKG4pP3JbdF06aVt0XX0scj0iIixvPSExO2lmKHQpZm9yKHU9MDtuLmxlbmd0aD51O3UrKylpZihvKSInIiE9PW4uY2hhckF0KHUpfHxmKCInIik/cis9bi5jaGFyQXQodSk6bz0hMTtlbHNlIHN3aXRjaChuLmNoYXJBdCh1KSl7Y2FzZSJkIjpyKz1lKCJkIix0LmdldERhdGUoKSwyKTticmVhaztjYXNlIkQiOnIrPXMoIkQiLHQuZ2V0RGF5KCksaCxjKTticmVhaztjYXNlIm8iOnIrPWUoIm8iLE1hdGgucm91bmQoKG5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSx0LmdldE1vbnRoKCksdC5nZXREYXRlKCkpLmdldFRpbWUoKS1uZXcgRGF0ZSh0LmdldEZ1bGxZZWFyKCksMCwwKS5nZXRUaW1lKCkpLzg2NGU1KSwzKTticmVhaztjYXNlIm0iOnIrPWUoIm0iLHQuZ2V0TW9udGgoKSsxLDIpO2JyZWFrO2Nhc2UiTSI6cis9cygiTSIsdC5nZXRNb250aCgpLGwsYSk7YnJlYWs7Y2FzZSJ5IjpyKz1mKCJ5Iik/dC5nZXRGdWxsWWVhcigpOigxMD50LmdldEZ1bGxZZWFyKCklMTAwPyIwIjoiIikrdC5nZXRGdWxsWWVhcigpJTEwMDticmVhaztjYXNlIkAiOnIrPXQuZ2V0VGltZSgpO2JyZWFrO2Nhc2UiISI6cis9MWU0KnQuZ2V0VGltZSgpK3RoaXMuX3RpY2tzVG8xOTcwO2JyZWFrO2Nhc2UiJyI6ZigiJyIpP3IrPSInIjpvPSEwO2JyZWFrO2RlZmF1bHQ6cis9bi5jaGFyQXQodSl9cmV0dXJuIHJ9LF9wb3NzaWJsZUNoYXJzOmZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0iIixyPSExLHU9ZnVuY3Rpb24oaSl7dmFyIHI9bi5sZW5ndGg+dCsxJiZuLmNoYXJBdCh0KzEpPT09aTtyZXR1cm4gciYmdCsrLHJ9LHQ9MDtuLmxlbmd0aD50O3QrKylpZihyKSInIiE9PW4uY2hhckF0KHQpfHx1KCInIik/aSs9bi5jaGFyQXQodCk6cj0hMTtlbHNlIHN3aXRjaChuLmNoYXJBdCh0KSl7Y2FzZSJkIjpjYXNlIm0iOmNhc2UieSI6Y2FzZSJAIjppKz0iMDEyMzQ1Njc4OSI7YnJlYWs7Y2FzZSJEIjpjYXNlIk0iOnJldHVybiBudWxsO2Nhc2UiJyI6dSgiJyIpP2krPSInIjpyPSEwO2JyZWFrO2RlZmF1bHQ6aSs9bi5jaGFyQXQodCl9cmV0dXJuIGl9LF9nZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwIT09bi5zZXR0aW5nc1t0XT9uLnNldHRpbmdzW3RdOnRoaXMuX2RlZmF1bHRzW3RdfSxfc2V0RGF0ZUZyb21GaWVsZDpmdW5jdGlvbihuLHQpe2lmKG4uaW5wdXQudmFsKCkhPT1uLmxhc3RWYWwpe3ZhciBmPXRoaXMuX2dldChuLCJkYXRlRm9ybWF0Iikscj1uLmxhc3RWYWw9bi5pbnB1dD9uLmlucHV0LnZhbCgpOm51bGwsdT10aGlzLl9nZXREZWZhdWx0RGF0ZShuKSxpPXUsZT10aGlzLl9nZXRGb3JtYXRDb25maWcobik7dHJ5e2k9dGhpcy5wYXJzZURhdGUoZixyLGUpfHx1fWNhdGNoKG8pe3I9dD8iIjpyfW4uc2VsZWN0ZWREYXk9aS5nZXREYXRlKCk7bi5kcmF3TW9udGg9bi5zZWxlY3RlZE1vbnRoPWkuZ2V0TW9udGgoKTtuLmRyYXdZZWFyPW4uc2VsZWN0ZWRZZWFyPWkuZ2V0RnVsbFllYXIoKTtuLmN1cnJlbnREYXk9cj9pLmdldERhdGUoKTowO24uY3VycmVudE1vbnRoPXI/aS5nZXRNb250aCgpOjA7bi5jdXJyZW50WWVhcj1yP2kuZ2V0RnVsbFllYXIoKTowO3RoaXMuX2FkanVzdEluc3REYXRlKG4pfX0sX2dldERlZmF1bHREYXRlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9yZXN0cmljdE1pbk1heChuLHRoaXMuX2RldGVybWluZURhdGUobix0aGlzLl9nZXQobiwiZGVmYXVsdERhdGUiKSxuZXcgRGF0ZSkpfSxfZGV0ZXJtaW5lRGF0ZTpmdW5jdGlvbih0LGkscil7dmFyIGY9ZnVuY3Rpb24obil7dmFyIHQ9bmV3IERhdGU7cmV0dXJuIHQuc2V0RGF0ZSh0LmdldERhdGUoKStuKSx0fSxlPWZ1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbi5kYXRlcGlja2VyLnBhcnNlRGF0ZShuLmRhdGVwaWNrZXIuX2dldCh0LCJkYXRlRm9ybWF0IiksaSxuLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyh0KSl9Y2F0Y2goaCl7fWZvcih2YXIgbz0oaS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eYy8pP24uZGF0ZXBpY2tlci5fZ2V0RGF0ZSh0KTpudWxsKXx8bmV3IERhdGUsZj1vLmdldEZ1bGxZZWFyKCksZT1vLmdldE1vbnRoKCkscj1vLmdldERhdGUoKSxzPS8oWytcLV0/WzAtOV0rKVxzKihkfER8d3xXfG18TXx5fFkpPy9nLHU9cy5leGVjKGkpO3U7KXtzd2l0Y2godVsyXXx8ImQiKXtjYXNlImQiOmNhc2UiRCI6cis9cGFyc2VJbnQodVsxXSwxMCk7YnJlYWs7Y2FzZSJ3IjpjYXNlIlciOnIrPTcqcGFyc2VJbnQodVsxXSwxMCk7YnJlYWs7Y2FzZSJtIjpjYXNlIk0iOmUrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpO2JyZWFrO2Nhc2UieSI6Y2FzZSJZIjpmKz1wYXJzZUludCh1WzFdLDEwKTtyPU1hdGgubWluKHIsbi5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChmLGUpKX11PXMuZXhlYyhpKX1yZXR1cm4gbmV3IERhdGUoZixlLHIpfSx1PW51bGw9PWl8fCIiPT09aT9yOiJzdHJpbmciPT10eXBlb2YgaT9lKGkpOiJudW1iZXIiPT10eXBlb2YgaT9pc05hTihpKT9yOmYoaSk6bmV3IERhdGUoaS5nZXRUaW1lKCkpO3JldHVybiB1PXUmJiJJbnZhbGlkIERhdGUiPT0iIit1P3I6dSx1JiYodS5zZXRIb3VycygwKSx1LnNldE1pbnV0ZXMoMCksdS5zZXRTZWNvbmRzKDApLHUuc2V0TWlsbGlzZWNvbmRzKDApKSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCh1KX0sX2RheWxpZ2h0U2F2aW5nQWRqdXN0OmZ1bmN0aW9uKG4pe3JldHVybiBuPyhuLnNldEhvdXJzKG4uZ2V0SG91cnMoKT4xMj9uLmdldEhvdXJzKCkrMjowKSxuKTpudWxsfSxfc2V0RGF0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHU9IXQsZj1uLnNlbGVjdGVkTW9udGgsZT1uLnNlbGVjdGVkWWVhcixyPXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHQsbmV3IERhdGUpKTtuLnNlbGVjdGVkRGF5PW4uY3VycmVudERheT1yLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9bi5jdXJyZW50TW9udGg9ci5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9bi5jdXJyZW50WWVhcj1yLmdldEZ1bGxZZWFyKCk7Zj09PW4uc2VsZWN0ZWRNb250aCYmZT09PW4uc2VsZWN0ZWRZZWFyfHxpfHx0aGlzLl9ub3RpZnlDaGFuZ2Uobik7dGhpcy5fYWRqdXN0SW5zdERhdGUobik7bi5pbnB1dCYmbi5pbnB1dC52YWwodT8iIjp0aGlzLl9mb3JtYXREYXRlKG4pKX0sX2dldERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIW4uY3VycmVudFllYXJ8fG4uaW5wdXQmJiIiPT09bi5pbnB1dC52YWwoKT9udWxsOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG4uY3VycmVudFllYXIsbi5jdXJyZW50TW9udGgsbi5jdXJyZW50RGF5KSl9LF9hdHRhY2hIYW5kbGVyczpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXQodCwic3RlcE1vbnRocyIpLGk9IiMiK3QuaWQucmVwbGFjZSgvXFxcXC9nLCJcXCIpO3QuZHBEaXYuZmluZCgiW2RhdGEtaGFuZGxlcl0iKS5tYXAoZnVuY3Rpb24oKXt2YXIgdD17cHJldjpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLC1yLCJNIil9LG5leHQ6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoaSwrciwiTSIpfSxoaWRlOmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfSx0b2RheTpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fZ290b1RvZGF5KGkpfSxzZWxlY3REYXk6ZnVuY3Rpb24oKXtyZXR1cm4gbi5kYXRlcGlja2VyLl9zZWxlY3REYXkoaSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtbW9udGgiKSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEteWVhciIpLHRoaXMpLCExfSxzZWxlY3RNb250aDpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpLHRoaXMsIk0iKSwhMX0sc2VsZWN0WWVhcjpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpLHRoaXMsIlkiKSwhMX19O24odGhpcykub24odGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtZXZlbnQiKSx0W3RoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWhhbmRsZXIiKV0pfSl9LF9nZW5lcmF0ZUhUTUw6ZnVuY3Rpb24obil7dmFyIGIscyxydCxoLHV0LGssZnQsZXQscmksYyxvdCx1aSxmaSxlaSxvaSxzdCxnLHNpLGh0LG50LG8seSxjdCxwLGx0LGwsdSxhdCx2dCx5dCxwdCx0dCx3dCxpLGJ0LGt0LGQsYSxpdCxkdD1uZXcgRGF0ZSxndD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShkdC5nZXRGdWxsWWVhcigpLGR0LmdldE1vbnRoKCksZHQuZ2V0RGF0ZSgpKSksZj10aGlzLl9nZXQobiwiaXNSVEwiKSxsaT10aGlzLl9nZXQobiwic2hvd0J1dHRvblBhbmVsIiksaGk9dGhpcy5fZ2V0KG4sImhpZGVJZk5vUHJldk5leHQiKSxuaT10aGlzLl9nZXQobiwibmF2aWdhdGlvbkFzRGF0ZUZvcm1hdCIpLGU9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMobiksYWk9dGhpcy5fZ2V0KG4sInNob3dDdXJyZW50QXRQb3MiKSxjaT10aGlzLl9nZXQobiwic3RlcE1vbnRocyIpLHRpPTEhPT1lWzBdfHwxIT09ZVsxXSxpaT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuLmN1cnJlbnREYXk/bmV3IERhdGUobi5jdXJyZW50WWVhcixuLmN1cnJlbnRNb250aCxuLmN1cnJlbnREYXkpOm5ldyBEYXRlKDk5OTksOSw5KSksdz10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1pbiIpLHY9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtYXgiKSx0PW4uZHJhd01vbnRoLWFpLHI9bi5kcmF3WWVhcjtpZigwPnQmJih0Kz0xMixyLS0pLHYpZm9yKGI9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodi5nZXRGdWxsWWVhcigpLHYuZ2V0TW9udGgoKS1lWzBdKmVbMV0rMSx2LmdldERhdGUoKSkpLGI9dyYmdz5iP3c6Yjt0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLHQsMSkpPmI7KXQtLSwwPnQmJih0PTExLHItLSk7Zm9yKG4uZHJhd01vbnRoPXQsbi5kcmF3WWVhcj1yLHM9dGhpcy5fZ2V0KG4sInByZXZUZXh0Iikscz1uaT90aGlzLmZvcm1hdERhdGUocyx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLHQtY2ksMSkpLHRoaXMuX2dldEZvcm1hdENvbmZpZyhuKSk6cyxydD10aGlzLl9jYW5BZGp1c3RNb250aChuLC0xLHIsdCk/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSdwcmV2JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIrcysiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJlIjoidyIpKyInPiIrcysiPFwvc3Bhbj48XC9hPiI6aGk/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLXByZXYgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIrcysiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJlIjoidyIpKyInPiIrcysiPFwvc3Bhbj48XC9hPiIsaD10aGlzLl9nZXQobiwibmV4dFRleHQiKSxoPW5pP3RoaXMuZm9ybWF0RGF0ZShoLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCtjaSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTpoLHV0PXRoaXMuX2NhbkFkanVzdE1vbnRoKG4sMSxyLHQpPyI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0nbmV4dCcgZGF0YS1ldmVudD0nY2xpY2snIHRpdGxlPSciK2grIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisoZj8idyI6ImUiKSsiJz4iK2grIjxcL3NwYW4+PFwvYT4iOmhpPyIiOiI8YSBjbGFzcz0ndWktZGF0ZXBpY2tlci1uZXh0IHVpLWNvcm5lci1hbGwgdWktc3RhdGUtZGlzYWJsZWQnIHRpdGxlPSciK2grIic+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtIisoZj8idyI6ImUiKSsiJz4iK2grIjxcL3NwYW4+PFwvYT4iLGs9dGhpcy5fZ2V0KG4sImN1cnJlbnRUZXh0IiksZnQ9dGhpcy5fZ2V0KG4sImdvdG9DdXJyZW50IikmJm4uY3VycmVudERheT9paTpndCxrPW5pP3RoaXMuZm9ybWF0RGF0ZShrLGZ0LHRoaXMuX2dldEZvcm1hdENvbmZpZyhuKSk6ayxldD1uLmlubGluZT8iIjoiPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNsb3NlIHVpLXN0YXRlLWRlZmF1bHQgdWktcHJpb3JpdHktcHJpbWFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J2hpZGUnIGRhdGEtZXZlbnQ9J2NsaWNrJz4iK3RoaXMuX2dldChuLCJjbG9zZVRleHQiKSsiPFwvYnV0dG9uPiIscmk9bGk/IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSB1aS13aWRnZXQtY29udGVudCc+IisoZj9ldDoiIikrKHRoaXMuX2lzSW5SYW5nZShuLGZ0KT8iPGJ1dHRvbiB0eXBlPSdidXR0b24nIGNsYXNzPSd1aS1kYXRlcGlja2VyLWN1cnJlbnQgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1zZWNvbmRhcnkgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSd0b2RheScgZGF0YS1ldmVudD0nY2xpY2snPiIraysiPFwvYnV0dG9uPiI6IiIpKyhmPyIiOmV0KSsiPFwvZGl2PiI6IiIsYz1wYXJzZUludCh0aGlzLl9nZXQobiwiZmlyc3REYXkiKSwxMCksYz1pc05hTihjKT8wOmMsb3Q9dGhpcy5fZ2V0KG4sInNob3dXZWVrIiksdWk9dGhpcy5fZ2V0KG4sImRheU5hbWVzIiksZmk9dGhpcy5fZ2V0KG4sImRheU5hbWVzTWluIiksZWk9dGhpcy5fZ2V0KG4sIm1vbnRoTmFtZXMiKSxvaT10aGlzLl9nZXQobiwibW9udGhOYW1lc1Nob3J0Iiksc3Q9dGhpcy5fZ2V0KG4sImJlZm9yZVNob3dEYXkiKSxnPXRoaXMuX2dldChuLCJzaG93T3RoZXJNb250aHMiKSxzaT10aGlzLl9nZXQobiwic2VsZWN0T3RoZXJNb250aHMiKSxodD10aGlzLl9nZXREZWZhdWx0RGF0ZShuKSxudD0iIix5PTA7ZVswXT55O3krKyl7Zm9yKGN0PSIiLHRoaXMubWF4Um93cz00LHA9MDtlWzFdPnA7cCsrKXtpZihsdD10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLHQsbi5zZWxlY3RlZERheSkpLGw9IiB1aS1jb3JuZXItYWxsIix1PSIiLHRpKXtpZih1Kz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1ncm91cCIsZVsxXT4xKXN3aXRjaChwKXtjYXNlIDA6dSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWZpcnN0IjtsPSIgdWktY29ybmVyLSIrKGY/InJpZ2h0IjoibGVmdCIpO2JyZWFrO2Nhc2UgZVsxXS0xOnUrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1sYXN0IjtsPSIgdWktY29ybmVyLSIrKGY/ImxlZnQiOiJyaWdodCIpO2JyZWFrO2RlZmF1bHQ6dSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSI7bD0iIn11Kz0iJz4ifWZvcih1Kz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1oZWFkZXIgdWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgiK2wrIic+IisoL2FsbHxsZWZ0Ly50ZXN0KGwpJiYwPT09eT9mP3V0OnJ0OiIiKSsoL2FsbHxyaWdodC8udGVzdChsKSYmMD09PXk/Zj9ydDp1dDoiIikrdGhpcy5fZ2VuZXJhdGVNb250aFllYXJIZWFkZXIobix0LHIsdyx2LHk+MHx8cD4wLGVpLG9pKSsiPFwvZGl2Pjx0YWJsZSBjbGFzcz0ndWktZGF0ZXBpY2tlci1jYWxlbmRhcic+PHRoZWFkPjx0cj4iLGF0PW90PyI8dGggY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPiIrdGhpcy5fZ2V0KG4sIndlZWtIZWFkZXIiKSsiPFwvdGg+IjoiIixvPTA7Nz5vO28rKyl2dD0obytjKSU3LGF0Kz0iPHRoIHNjb3BlPSdjb2wnIisoKG8rYys2KSU3Pj01PyIgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1lbmQnIjoiIikrIj48c3BhbiB0aXRsZT0nIit1aVt2dF0rIic+IitmaVt2dF0rIjxcL3NwYW4+PFwvdGg+Ijtmb3IodSs9YXQrIjxcL3RyPjxcL3RoZWFkPjx0Ym9keT4iLHl0PXRoaXMuX2dldERheXNJbk1vbnRoKHIsdCkscj09PW4uc2VsZWN0ZWRZZWFyJiZ0PT09bi5zZWxlY3RlZE1vbnRoJiYobi5zZWxlY3RlZERheT1NYXRoLm1pbihuLnNlbGVjdGVkRGF5LHl0KSkscHQ9KHRoaXMuX2dldEZpcnN0RGF5T2ZNb250aChyLHQpLWMrNyklNyx0dD1NYXRoLmNlaWwoKHB0K3l0KS83KSx3dD10aT90aGlzLm1heFJvd3M+dHQ/dGhpcy5tYXhSb3dzOnR0OnR0LHRoaXMubWF4Um93cz13dCxpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCwxLXB0KSksYnQ9MDt3dD5idDtidCsrKXtmb3IodSs9Ijx0cj4iLGt0PW90PyI8dGQgY2xhc3M9J3VpLWRhdGVwaWNrZXItd2Vlay1jb2wnPiIrdGhpcy5fZ2V0KG4sImNhbGN1bGF0ZVdlZWsiKShpKSsiPFwvdGQ+IjoiIixvPTA7Nz5vO28rKylkPXN0P3N0LmFwcGx5KG4uaW5wdXQ/bi5pbnB1dFswXTpudWxsLFtpXSk6WyEwLCIiXSxhPWkuZ2V0TW9udGgoKSE9PXQsaXQ9YSYmIXNpfHwhZFswXXx8dyYmdz5pfHx2JiZpPnYsa3QrPSI8dGQgY2xhc3M9JyIrKChvK2MrNiklNz49NT8iIHVpLWRhdGVwaWNrZXItd2Vlay1lbmQiOiIiKSsoYT8iIHVpLWRhdGVwaWNrZXItb3RoZXItbW9udGgiOiIiKSsoaS5nZXRUaW1lKCk9PT1sdC5nZXRUaW1lKCkmJnQ9PT1uLnNlbGVjdGVkTW9udGgmJm4uX2tleUV2ZW50fHxodC5nZXRUaW1lKCk9PT1pLmdldFRpbWUoKSYmaHQuZ2V0VGltZSgpPT09bHQuZ2V0VGltZSgpPyIgIit0aGlzLl9kYXlPdmVyQ2xhc3M6IiIpKyhpdD8iICIrdGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3MrIiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpKyhhJiYhZz8iIjoiICIrZFsxXSsoaS5nZXRUaW1lKCk9PT1paS5nZXRUaW1lKCk/IiAiK3RoaXMuX2N1cnJlbnRDbGFzczoiIikrKGkuZ2V0VGltZSgpPT09Z3QuZ2V0VGltZSgpPyIgdWktZGF0ZXBpY2tlci10b2RheSI6IiIpKSsiJyIrKGEmJiFnfHwhZFsyXT8iIjoiIHRpdGxlPSciK2RbMl0ucmVwbGFjZSgvJy9nLCImIzM5OyIpKyInIikrKGl0PyIiOiIgZGF0YS1oYW5kbGVyPSdzZWxlY3REYXknIGRhdGEtZXZlbnQ9J2NsaWNrJyBkYXRhLW1vbnRoPSciK2kuZ2V0TW9udGgoKSsiJyBkYXRhLXllYXI9JyIraS5nZXRGdWxsWWVhcigpKyInIikrIj4iKyhhJiYhZz8iJiN4YTA7IjppdD8iPHNwYW4gY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQnPiIraS5nZXREYXRlKCkrIjxcL3NwYW4+IjoiPGEgY2xhc3M9J3VpLXN0YXRlLWRlZmF1bHQiKyhpLmdldFRpbWUoKT09PWd0LmdldFRpbWUoKT8iIHVpLXN0YXRlLWhpZ2hsaWdodCI6IiIpKyhpLmdldFRpbWUoKT09PWlpLmdldFRpbWUoKT8iIHVpLXN0YXRlLWFjdGl2ZSI6IiIpKyhhPyIgdWktcHJpb3JpdHktc2Vjb25kYXJ5IjoiIikrIicgaHJlZj0nIyc+IitpLmdldERhdGUoKSsiPFwvYT4iKSsiPFwvdGQ+IixpLnNldERhdGUoaS5nZXREYXRlKCkrMSksaT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChpKTt1Kz1rdCsiPFwvdHI+In10Kys7dD4xMSYmKHQ9MCxyKyspO3UrPSI8XC90Ym9keT48XC90YWJsZT4iKyh0aT8iPFwvZGl2PiIrKGVbMF0+MCYmcD09PWVbMV0tMT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1yb3ctYnJlYWsnPjxcL2Rpdj4iOiIiKToiIik7Y3QrPXV9bnQrPWN0fXJldHVybiBudCs9cmksbi5fa2V5RXZlbnQ9ITEsbnR9LF9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcjpmdW5jdGlvbihuLHQsaSxyLHUsZixlLG8pe3ZhciBrLGQsaCx2LHkscCxzLGEsdz10aGlzLl9nZXQobiwiY2hhbmdlTW9udGgiKSxiPXRoaXMuX2dldChuLCJjaGFuZ2VZZWFyIiksZz10aGlzLl9nZXQobiwic2hvd01vbnRoQWZ0ZXJZZWFyIiksYz0iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci10aXRsZSc+IixsPSIiO2lmKGZ8fCF3KWwrPSI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCc+IitlW3RdKyI8XC9zcGFuPiI7ZWxzZXtmb3Ioaz1yJiZyLmdldEZ1bGxZZWFyKCk9PT1pLGQ9dSYmdS5nZXRGdWxsWWVhcigpPT09aSxsKz0iPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci1tb250aCcgZGF0YS1oYW5kbGVyPSdzZWxlY3RNb250aCcgZGF0YS1ldmVudD0nY2hhbmdlJz4iLGg9MDsxMj5oO2grKykoIWt8fGg+PXIuZ2V0TW9udGgoKSkmJighZHx8dS5nZXRNb250aCgpPj1oKSYmKGwrPSI8b3B0aW9uIHZhbHVlPSciK2grIiciKyhoPT09dD8iIHNlbGVjdGVkPSdzZWxlY3RlZCciOiIiKSsiPiIrb1toXSsiPFwvb3B0aW9uPiIpO2wrPSI8XC9zZWxlY3Q+In1pZihnfHwoYys9bCsoIWYmJncmJmI/IiI6IiYjeGEwOyIpKSwhbi55ZWFyc2h0bWwpaWYobi55ZWFyc2h0bWw9IiIsZnx8IWIpYys9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInPiIraSsiPFwvc3Bhbj4iO2Vsc2V7Zm9yKHY9dGhpcy5fZ2V0KG4sInllYXJSYW5nZSIpLnNwbGl0KCI6IikseT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCkscD1mdW5jdGlvbihuKXt2YXIgdD1uLm1hdGNoKC9jWytcLV0uKi8pP2krcGFyc2VJbnQobi5zdWJzdHJpbmcoMSksMTApOm4ubWF0Y2goL1srXC1dLiovKT95K3BhcnNlSW50KG4sMTApOnBhcnNlSW50KG4sMTApO3JldHVybiBpc05hTih0KT95OnR9LHM9cCh2WzBdKSxhPU1hdGgubWF4KHMscCh2WzFdfHwiIikpLHM9cj9NYXRoLm1heChzLHIuZ2V0RnVsbFllYXIoKSk6cyxhPXU/TWF0aC5taW4oYSx1LmdldEZ1bGxZZWFyKCkpOmEsbi55ZWFyc2h0bWwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLXllYXInIGRhdGEtaGFuZGxlcj0nc2VsZWN0WWVhcicgZGF0YS1ldmVudD0nY2hhbmdlJz4iO2E+PXM7cysrKW4ueWVhcnNodG1sKz0iPG9wdGlvbiB2YWx1ZT0nIitzKyInIisocz09PWk/IiBzZWxlY3RlZD0nc2VsZWN0ZWQnIjoiIikrIj4iK3MrIjxcL29wdGlvbj4iO24ueWVhcnNodG1sKz0iPFwvc2VsZWN0PiI7Yys9bi55ZWFyc2h0bWw7bi55ZWFyc2h0bWw9bnVsbH1yZXR1cm4gYys9dGhpcy5fZ2V0KG4sInllYXJTdWZmaXgiKSxnJiYoYys9KCFmJiZ3JiZiPyIiOiImI3hhMDsiKStsKSxjKyI8XC9kaXY+In0sX2FkanVzdEluc3REYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1uLnNlbGVjdGVkWWVhcisoIlkiPT09aT90OjApLGY9bi5zZWxlY3RlZE1vbnRoKygiTSI9PT1pP3Q6MCksZT1NYXRoLm1pbihuLnNlbGVjdGVkRGF5LHRoaXMuX2dldERheXNJbk1vbnRoKHUsZikpKygiRCI9PT1pP3Q6MCkscj10aGlzLl9yZXN0cmljdE1pbk1heChuLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHUsZixlKSkpO24uc2VsZWN0ZWREYXk9ci5nZXREYXRlKCk7bi5kcmF3TW9udGg9bi5zZWxlY3RlZE1vbnRoPXIuZ2V0TW9udGgoKTtuLmRyYXdZZWFyPW4uc2VsZWN0ZWRZZWFyPXIuZ2V0RnVsbFllYXIoKTsoIk0iPT09aXx8IlkiPT09aSkmJnRoaXMuX25vdGlmeUNoYW5nZShuKX0sX3Jlc3RyaWN0TWluTWF4OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtaW4iKSxyPXRoaXMuX2dldE1pbk1heERhdGUobiwibWF4IiksdT1pJiZpPnQ/aTp0O3JldHVybiByJiZ1PnI/cjp1fSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJvbkNoYW5nZU1vbnRoWWVhciIpO3QmJnQuYXBwbHkobi5pbnB1dD9uLmlucHV0WzBdOm51bGwsW24uc2VsZWN0ZWRZZWFyLG4uc2VsZWN0ZWRNb250aCsxLG5dKX0sX2dldE51bWJlck9mTW9udGhzOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJudW1iZXJPZk1vbnRocyIpO3JldHVybiBudWxsPT10P1sxLDFdOiJudW1iZXIiPT10eXBlb2YgdD9bMSx0XTp0fSxfZ2V0TWluTWF4RGF0ZTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9kZXRlcm1pbmVEYXRlKG4sdGhpcy5fZ2V0KG4sdCsiRGF0ZSIpLG51bGwpfSxfZ2V0RGF5c0luTW9udGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gMzItdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobix0LDMyKSkuZ2V0RGF0ZSgpfSxfZ2V0Rmlyc3REYXlPZk1vbnRoOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5ldyBEYXRlKG4sdCwxKS5nZXREYXkoKX0sX2NhbkFkanVzdE1vbnRoOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBmPXRoaXMuX2dldE51bWJlck9mTW9udGhzKG4pLHU9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUoaSxyKygwPnQ/dDpmWzBdKmZbMV0pLDEpKTtyZXR1cm4gMD50JiZ1LnNldERhdGUodGhpcy5fZ2V0RGF5c0luTW9udGgodS5nZXRGdWxsWWVhcigpLHUuZ2V0TW9udGgoKSkpLHRoaXMuX2lzSW5SYW5nZShuLHUpfSxfaXNJblJhbmdlOmZ1bmN0aW9uKG4sdCl7dmFyIGksZixlPXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksbz10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHI9bnVsbCx1PW51bGwscz10aGlzLl9nZXQobiwieWVhclJhbmdlIik7cmV0dXJuIHMmJihpPXMuc3BsaXQoIjoiKSxmPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxyPXBhcnNlSW50KGlbMF0sMTApLHU9cGFyc2VJbnQoaVsxXSwxMCksaVswXS5tYXRjaCgvWytcLV0uKi8pJiYocis9ZiksaVsxXS5tYXRjaCgvWytcLV0uKi8pJiYodSs9ZikpLCghZXx8dC5nZXRUaW1lKCk+PWUuZ2V0VGltZSgpKSYmKCFvfHx0LmdldFRpbWUoKTw9by5nZXRUaW1lKCkpJiYoIXJ8fHQuZ2V0RnVsbFllYXIoKT49cikmJighdXx8dT49dC5nZXRGdWxsWWVhcigpKX0sX2dldEZvcm1hdENvbmZpZzpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXQobiwic2hvcnRZZWFyQ3V0b2ZmIik7cmV0dXJuIHQ9InN0cmluZyIhPXR5cGVvZiB0P3Q6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludCh0LDEwKSx7c2hvcnRZZWFyQ3V0b2ZmOnQsZGF5TmFtZXNTaG9ydDp0aGlzLl9nZXQobiwiZGF5TmFtZXNTaG9ydCIpLGRheU5hbWVzOnRoaXMuX2dldChuLCJkYXlOYW1lcyIpLG1vbnRoTmFtZXNTaG9ydDp0aGlzLl9nZXQobiwibW9udGhOYW1lc1Nob3J0IiksbW9udGhOYW1lczp0aGlzLl9nZXQobiwibW9udGhOYW1lcyIpfX0sX2Zvcm1hdERhdGU6ZnVuY3Rpb24obix0LGkscil7dHx8KG4uY3VycmVudERheT1uLnNlbGVjdGVkRGF5LG4uY3VycmVudE1vbnRoPW4uc2VsZWN0ZWRNb250aCxuLmN1cnJlbnRZZWFyPW4uc2VsZWN0ZWRZZWFyKTt2YXIgdT10PyJvYmplY3QiPT10eXBlb2YgdD90OnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsaSx0KSk6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobi5jdXJyZW50WWVhcixuLmN1cnJlbnRNb250aCxuLmN1cnJlbnREYXkpKTtyZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuX2dldChuLCJkYXRlRm9ybWF0IiksdSx0aGlzLl9nZXRGb3JtYXRDb25maWcobikpfX0pO24uZm4uZGF0ZXBpY2tlcj1mdW5jdGlvbih0KXtpZighdGhpcy5sZW5ndGgpcmV0dXJuIHRoaXM7bi5kYXRlcGlja2VyLmluaXRpYWxpemVkfHwobihkb2N1bWVudCkub24oIm1vdXNlZG93biIsbi5kYXRlcGlja2VyLl9jaGVja0V4dGVybmFsQ2xpY2spLG4uZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMCk7MD09PW4oIiMiK24uZGF0ZXBpY2tlci5fbWFpbkRpdklkKS5sZW5ndGgmJm4oImJvZHkiKS5hcHBlbmQobi5kYXRlcGlja2VyLmRwRGl2KTt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0fHwiaXNEaXNhYmxlZCIhPT10JiYiZ2V0RGF0ZSIhPT10JiYid2lkZ2V0IiE9PXQ/Im9wdGlvbiI9PT10JiYyPT09YXJndW1lbnRzLmxlbmd0aCYmInN0cmluZyI9PXR5cGVvZiBhcmd1bWVudHNbMV0/bi5kYXRlcGlja2VyWyJfIit0KyJEYXRlcGlja2VyIl0uYXBwbHkobi5kYXRlcGlja2VyLFt0aGlzWzBdXS5jb25jYXQoaSkpOnRoaXMuZWFjaChmdW5jdGlvbigpeyJzdHJpbmciPT10eXBlb2YgdD9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNdLmNvbmNhdChpKSk6bi5kYXRlcGlja2VyLl9hdHRhY2hEYXRlcGlja2VyKHRoaXMsdCl9KTpuLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSl9O24uZGF0ZXBpY2tlcj1uZXcgYztuLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWQ9ITE7bi5kYXRlcGlja2VyLnV1aWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bi5kYXRlcGlja2VyLnZlcnNpb249IjEuMTIuMSI7bi5kYXRlcGlja2VyO24udWkuaWU9ISEvbXNpZSBbXHcuXSsvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtyPSExO24oZG9jdW1lbnQpLm9uKCJtb3VzZXVwIixmdW5jdGlvbigpe3I9ITF9KTtuLndpZGdldCgidWkubW91c2UiLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2NhbmNlbDoiaW5wdXQsIHRleHRhcmVhLCBidXR0b24sIHNlbGVjdCwgb3B0aW9uIixkaXN0YW5jZToxLGRlbGF5OjB9LF9tb3VzZUluaXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZWxlbWVudC5vbigibW91c2Vkb3duLiIrdGhpcy53aWRnZXROYW1lLGZ1bmN0aW9uKG4pe3JldHVybiB0Ll9tb3VzZURvd24obil9KS5vbigiY2xpY2suIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oaSl7aWYoITA9PT1uLmRhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSlyZXR1cm4obi5yZW1vdmVEYXRhKGkudGFyZ2V0LHQud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksaS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMSl9KTt0aGlzLnN0YXJ0ZWQ9ITF9LF9tb3VzZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKCIuIit0aGlzLndpZGdldE5hbWUpO3RoaXMuX21vdXNlTW92ZURlbGVnYXRlJiZ0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKX0sX21vdXNlRG93bjpmdW5jdGlvbih0KXtpZighcil7dGhpcy5fbW91c2VNb3ZlZD0hMTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJnRoaXMuX21vdXNlVXAodCk7dGhpcy5fbW91c2VEb3duRXZlbnQ9dDt2YXIgaT10aGlzLHU9MT09PXQud2hpY2gsZj0ic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5jYW5jZWwmJnQudGFyZ2V0Lm5vZGVOYW1lP24odC50YXJnZXQpLmNsb3Nlc3QodGhpcy5vcHRpb25zLmNhbmNlbCkubGVuZ3RoOiExO3JldHVybiB1JiYhZiYmdGhpcy5fbW91c2VDYXB0dXJlKHQpPyh0aGlzLm1vdXNlRGVsYXlNZXQ9IXRoaXMub3B0aW9ucy5kZWxheSx0aGlzLm1vdXNlRGVsYXlNZXR8fCh0aGlzLl9tb3VzZURlbGF5VGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2kubW91c2VEZWxheU1ldD0hMH0sdGhpcy5vcHRpb25zLmRlbGF5KSksdGhpcy5fbW91c2VEaXN0YW5jZU1ldCh0KSYmdGhpcy5fbW91c2VEZWxheU1ldCh0KSYmKHRoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KHQpIT09ITEsIXRoaXMuX21vdXNlU3RhcnRlZCk/KHQucHJldmVudERlZmF1bHQoKSwhMCk6KCEwPT09bi5kYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IikmJm4ucmVtb3ZlRGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpLl9tb3VzZU1vdmUobil9LHRoaXMuX21vdXNlVXBEZWxlZ2F0ZT1mdW5jdGlvbihuKXtyZXR1cm4gaS5fbW91c2VVcChuKX0sdGhpcy5kb2N1bWVudC5vbigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vbigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpLHQucHJldmVudERlZmF1bHQoKSxyPSEwLCEwKSk6ITB9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX21vdXNlTW92ZWQpe2lmKG4udWkuaWUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PmRvY3VtZW50LmRvY3VtZW50TW9kZSkmJiF0LmJ1dHRvbilyZXR1cm4gdGhpcy5fbW91c2VVcCh0KTtpZighdC53aGljaClpZih0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5fHx0Lm9yaWdpbmFsRXZlbnQuY3RybEtleXx8dC5vcmlnaW5hbEV2ZW50Lm1ldGFLZXl8fHQub3JpZ2luYWxFdmVudC5zaGlmdEtleSl0aGlzLmlnbm9yZU1pc3NpbmdXaGljaD0hMDtlbHNlIGlmKCF0aGlzLmlnbm9yZU1pc3NpbmdXaGljaClyZXR1cm4gdGhpcy5fbW91c2VVcCh0KX1yZXR1cm4odC53aGljaHx8dC5idXR0b24pJiYodGhpcy5fbW91c2VNb3ZlZD0hMCksdGhpcy5fbW91c2VTdGFydGVkPyh0aGlzLl9tb3VzZURyYWcodCksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fbW91c2VEaXN0YW5jZU1ldCh0KSYmdGhpcy5fbW91c2VEZWxheU1ldCh0KSYmKHRoaXMuX21vdXNlU3RhcnRlZD10aGlzLl9tb3VzZVN0YXJ0KHRoaXMuX21vdXNlRG93bkV2ZW50LHQpIT09ITEsdGhpcy5fbW91c2VTdGFydGVkP3RoaXMuX21vdXNlRHJhZyh0KTp0aGlzLl9tb3VzZVVwKHQpKSwhdGhpcy5fbW91c2VTdGFydGVkKX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7dGhpcy5kb2N1bWVudC5vZmYoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkub2ZmKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSk7dGhpcy5fbW91c2VTdGFydGVkJiYodGhpcy5fbW91c2VTdGFydGVkPSExLHQudGFyZ2V0PT09dGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0JiZuLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiLCEwKSx0aGlzLl9tb3VzZVN0b3AodCkpO3RoaXMuX21vdXNlRGVsYXlUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9tb3VzZURlbGF5VGltZXIpLGRlbGV0ZSB0aGlzLl9tb3VzZURlbGF5VGltZXIpO3RoaXMuaWdub3JlTWlzc2luZ1doaWNoPSExO3I9ITE7dC5wcmV2ZW50RGVmYXVsdCgpfSxfbW91c2VEaXN0YW5jZU1ldDpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVgtbi5wYWdlWCksTWF0aC5hYnModGhpcy5fbW91c2VEb3duRXZlbnQucGFnZVktbi5wYWdlWSkpPj10aGlzLm9wdGlvbnMuZGlzdGFuY2V9LF9tb3VzZURlbGF5TWV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW91c2VEZWxheU1ldH0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXt9LF9tb3VzZURyYWc6ZnVuY3Rpb24oKXt9LF9tb3VzZVN0b3A6ZnVuY3Rpb24oKXt9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19KTtuLnVpLnBsdWdpbj17YWRkOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdSxmPW4udWlbdF0ucHJvdG90eXBlO2Zvcih1IGluIHIpZi5wbHVnaW5zW3VdPWYucGx1Z2luc1t1XXx8W10sZi5wbHVnaW5zW3VdLnB1c2goW2ksclt1XV0pfSxjYWxsOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1LGY9bi5wbHVnaW5zW3RdO2lmKGYmJihyfHxuLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmMTEhPT1uLmVsZW1lbnRbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZSkpZm9yKHU9MDtmLmxlbmd0aD51O3UrKyluLm9wdGlvbnNbZlt1XVswXV0mJmZbdV1bMV0uYXBwbHkobi5lbGVtZW50LGkpfX07bi51aS5zYWZlQmx1cj1mdW5jdGlvbih0KXt0JiYiYm9keSIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJm4odCkudHJpZ2dlcigiYmx1ciIpfTtuLndpZGdldCgidWkuZHJhZ2dhYmxlIixuLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJkcmFnIixvcHRpb25zOnthZGRDbGFzc2VzOiEwLGFwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFRvU29ydGFibGU6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxncmlkOiExLGhhbmRsZTohMSxoZWxwZXI6Im9yaWdpbmFsIixpZnJhbWVGaXg6ITEsb3BhY2l0eTohMSxyZWZyZXNoUG9zaXRpb25zOiExLHJldmVydDohMSxyZXZlcnREdXJhdGlvbjo1MDAsc2NvcGU6ImRlZmF1bHQiLHNjcm9sbDohMCxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzbmFwOiExLHNuYXBNb2RlOiJib3RoIixzbmFwVG9sZXJhbmNlOjIwLHN0YWNrOiExLHpJbmRleDohMSxkcmFnOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXsib3JpZ2luYWwiPT09dGhpcy5vcHRpb25zLmhlbHBlciYmdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpO3RoaXMub3B0aW9ucy5hZGRDbGFzc2VzJiZ0aGlzLl9hZGRDbGFzcygidWktZHJhZ2dhYmxlIik7dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7dGhpcy5fbW91c2VJbml0KCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpOyJoYW5kbGUiPT09biYmKHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5oZWxwZXJ8fHRoaXMuZWxlbWVudCkuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT8odGhpcy5kZXN0cm95T25DbGVhcj0hMCx2b2lkIDApOih0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKSx0aGlzLl9tb3VzZURlc3Ryb3koKSx2b2lkIDApfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5oZWxwZXJ8fGkuZGlzYWJsZWR8fG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1yZXNpemFibGUtaGFuZGxlIikubGVuZ3RoPjA/ITE6KHRoaXMuaGFuZGxlPXRoaXMuX2dldEhhbmRsZSh0KSx0aGlzLmhhbmRsZT8odGhpcy5fYmx1ckFjdGl2ZUVsZW1lbnQodCksdGhpcy5fYmxvY2tGcmFtZXMoaS5pZnJhbWVGaXg9PT0hMD8iaWZyYW1lIjppLmlmcmFtZUZpeCksITApOiExKX0sX2Jsb2NrRnJhbWVzOmZ1bmN0aW9uKHQpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCh0KS5tYXAoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3JldHVybiBuKCI8ZGl2PiIpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLmFwcGVuZFRvKHQucGFyZW50KCkpLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSkub2Zmc2V0KHQub2Zmc2V0KCkpWzBdfSl9LF91bmJsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3MmJih0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKSxkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpfSxfYmx1ckFjdGl2ZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSxyPW4odC50YXJnZXQpO3IuY2xvc2VzdChpKS5sZW5ndGh8fG4udWkuc2FmZUJsdXIoaSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucztyZXR1cm4gdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksbi51aS5kZG1hbmFnZXImJihuLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCghMCksdGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCksdGhpcy5oYXNGaXhlZEFuY2VzdG9yPXRoaXMuaGVscGVyLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iZml4ZWQiPT09bih0aGlzKS5jc3MoInBvc2l0aW9uIil9KS5sZW5ndGg+MCx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuZWxlbWVudC5vZmZzZXQoKSx0aGlzLl9yZWZyZXNoT2Zmc2V0cyh0KSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQsITEpLHRoaXMub3JpZ2luYWxQYWdlWD10LnBhZ2VYLHRoaXMub3JpZ2luYWxQYWdlWT10LnBhZ2VZLGkuY3Vyc29yQXQmJnRoaXMuX2FkanVzdE9mZnNldEZyb21IZWxwZXIoaS5jdXJzb3JBdCksdGhpcy5fc2V0Q29udGFpbm1lbnQoKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCk9PT0hMT8odGhpcy5fY2xlYXIoKSwhMSk6KHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxuLnVpLmRkbWFuYWdlciYmIWkuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLl9tb3VzZURyYWcodCwhMCksbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWdTdGFydCh0aGlzLHQpLCEwKX0sX3JlZnJlc2hPZmZzZXRzOmZ1bmN0aW9uKG4pe3RoaXMub2Zmc2V0PXt0b3A6dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5tYXJnaW5zLnRvcCxsZWZ0OnRoaXMucG9zaXRpb25BYnMubGVmdC10aGlzLm1hcmdpbnMubGVmdCxzY3JvbGw6ITEscGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9O3RoaXMub2Zmc2V0LmNsaWNrPXtsZWZ0Om4ucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6bi5wYWdlWS10aGlzLm9mZnNldC50b3B9fSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQsaSl7aWYodGhpcy5oYXNGaXhlZEFuY2VzdG9yJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKSx0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSwhaSl7dmFyIHI9dGhpcy5fdWlIYXNoKCk7aWYodGhpcy5fdHJpZ2dlcigiZHJhZyIsdCxyKT09PSExKXJldHVybiB0aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix0KSksITE7dGhpcy5wb3NpdGlvbj1yLnBvc2l0aW9ufXJldHVybiB0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiLHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiLG4udWkuZGRtYW5hZ2VyJiZuLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsdCksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPSExO3JldHVybiBuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiYoaT1uLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCkpLHRoaXMuZHJvcHBlZCYmKGk9dGhpcy5kcm9wcGVkLHRoaXMuZHJvcHBlZD0hMSksImludmFsaWQiPT09dGhpcy5vcHRpb25zLnJldmVydCYmIWl8fCJ2YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiZpfHx0aGlzLm9wdGlvbnMucmV2ZXJ0PT09ITB8fG4uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMucmV2ZXJ0KSYmdGhpcy5vcHRpb25zLnJldmVydC5jYWxsKHRoaXMuZWxlbWVudCxpKT9uKHRoaXMuaGVscGVyKS5hbmltYXRlKHRoaXMub3JpZ2luYWxQb3NpdGlvbixwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sMTApLGZ1bmN0aW9uKCl7ci5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmci5fY2xlYXIoKX0pOnRoaXMuX3RyaWdnZXIoInN0b3AiLHQpIT09ITEmJnRoaXMuX2NsZWFyKCksITF9LF9tb3VzZVVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91bmJsb2NrRnJhbWVzKCksbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsdCksdGhpcy5oYW5kbGVFbGVtZW50LmlzKHQudGFyZ2V0KSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIiksbi51aS5tb3VzZS5wcm90b3R5cGUuX21vdXNlVXAuY2FsbCh0aGlzLHQpfSxjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWxwZXIuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT90aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0OnRoaXMuZWxlbWVudFswXX0pKTp0aGlzLl9jbGVhcigpLHRoaXN9LF9nZXRIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5oYW5kbGU/ISFuKHQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpKS5sZW5ndGg6ITB9LF9zZXRIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUVsZW1lbnQ9dGhpcy5vcHRpb25zLmhhbmRsZT90aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKTp0aGlzLmVsZW1lbnQ7dGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVFbGVtZW50LCJ1aS1kcmFnZ2FibGUtaGFuZGxlIil9LF9yZW1vdmVIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhhbmRsZUVsZW1lbnQsInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsdT1uLmlzRnVuY3Rpb24oci5oZWxwZXIpLGk9dT9uKHIuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdF0pKToiY2xvbmUiPT09ci5oZWxwZXI/dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKTp0aGlzLmVsZW1lbnQ7cmV0dXJuIGkucGFyZW50cygiYm9keSIpLmxlbmd0aHx8aS5hcHBlbmRUbygicGFyZW50Ij09PXIuYXBwZW5kVG8/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6ci5hcHBlbmRUbyksdSYmaVswXT09PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpLGlbMF09PT10aGlzLmVsZW1lbnRbMF18fC8oZml4ZWR8YWJzb2x1dGUpLy50ZXN0KGkuY3NzKCJwb3NpdGlvbiIpKXx8aS5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSxpfSxfc2V0UG9zaXRpb25SZWxhdGl2ZTpmdW5jdGlvbigpey9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpfHwodGhpcy5lbGVtZW50WzBdLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIiAiKSk7bi5pc0FycmF5KHQpJiYodD17bGVmdDordFswXSx0b3A6K3RbMV18fDB9KTsibGVmdCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10LmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpOyJyaWdodCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXQucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpOyJ0b3AiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10LnRvcCt0aGlzLm1hcmdpbnMudG9wKTsiYm90dG9tImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdC5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9pc1Jvb3ROb2RlOmZ1bmN0aW9uKG4pe3JldHVybi8oaHRtbHxib2R5KS9pLnRlc3Qobi50YWdOYW1lKXx8bj09PXRoaXMuZG9jdW1lbnRbMF19LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKSxpPXRoaXMuZG9jdW1lbnRbMF07cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09aSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLHRoaXMuX2lzUm9vdE5vZGUodGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYodD17dG9wOjAsbGVmdDowfSkse3RvcDp0LnRvcCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCksbGVmdDp0LmxlZnQrKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKX19LF9nZXRSZWxhdGl2ZU9mZnNldDpmdW5jdGlvbigpe2lmKCJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9uKXJldHVybnt0b3A6MCxsZWZ0OjB9O3ZhciBuPXRoaXMuZWxlbWVudC5wb3NpdGlvbigpLHQ9dGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSk7cmV0dXJue3RvcDpuLnRvcC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSwxMCl8fDApKyh0PzA6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLGxlZnQ6bi5sZWZ0LShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSwxMCl8fDApKyh0PzA6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpKX19LF9jYWNoZU1hcmdpbnM6ZnVuY3Rpb24oKXt0aGlzLm1hcmdpbnM9e2xlZnQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luVG9wIiksMTApfHwwLHJpZ2h0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblJpZ2h0IiksMTApfHwwLGJvdHRvbTpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSwxMCl8fDB9fSxfY2FjaGVIZWxwZXJQcm9wb3J0aW9uczpmdW5jdGlvbigpe3RoaXMuaGVscGVyUHJvcG9ydGlvbnM9e3dpZHRoOnRoaXMuaGVscGVyLm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIub3V0ZXJIZWlnaHQoKX19LF9zZXRDb250YWlubWVudDpmdW5jdGlvbigpe3ZhciBmLHQsaSxyPXRoaXMub3B0aW9ucyx1PXRoaXMuZG9jdW1lbnRbMF07cmV0dXJuIHRoaXMucmVsYXRpdmVDb250YWluZXI9bnVsbCxyLmNvbnRhaW5tZW50PyJ3aW5kb3ciPT09ci5jb250YWlubWVudD8odGhpcy5jb250YWlubWVudD1bbih3aW5kb3cpLnNjcm9sbExlZnQoKS10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LG4od2luZG93KS5zY3JvbGxUb3AoKS10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCxuKHdpbmRvdykuc2Nyb2xsTGVmdCgpK24od2luZG93KS53aWR0aCgpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsbih3aW5kb3cpLnNjcm9sbFRvcCgpKyhuKHdpbmRvdykuaGVpZ2h0KCl8fHUuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0sdm9pZCAwKToiZG9jdW1lbnQiPT09ci5jb250YWlubWVudD8odGhpcy5jb250YWlubWVudD1bMCwwLG4odSkud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChuKHUpLmhlaWdodCgpfHx1LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdLHZvaWQgMCk6ci5jb250YWlubWVudC5jb25zdHJ1Y3Rvcj09PUFycmF5Pyh0aGlzLmNvbnRhaW5tZW50PXIuY29udGFpbm1lbnQsdm9pZCAwKTooInBhcmVudCI9PT1yLmNvbnRhaW5tZW50JiYoci5jb250YWlubWVudD10aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKSx0PW4oci5jb250YWlubWVudCksaT10WzBdLGkmJihmPS8oc2Nyb2xsfGF1dG8pLy50ZXN0KHQuY3NzKCJvdmVyZmxvdyIpKSx0aGlzLmNvbnRhaW5tZW50PVsocGFyc2VJbnQodC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KHQuY3NzKCJwYWRkaW5nTGVmdCIpLDEwKXx8MCksKHBhcnNlSW50KHQuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KHQuY3NzKCJwYWRkaW5nVG9wIiksMTApfHwwKSwoZj9NYXRoLm1heChpLnNjcm9sbFdpZHRoLGkub2Zmc2V0V2lkdGgpOmkub2Zmc2V0V2lkdGgpLShwYXJzZUludCh0LmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KHQuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQtdGhpcy5tYXJnaW5zLnJpZ2h0LChmP01hdGgubWF4KGkuc2Nyb2xsSGVpZ2h0LGkub2Zmc2V0SGVpZ2h0KTppLm9mZnNldEhlaWdodCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KHQuY3NzKCJwYWRkaW5nQm90dG9tIiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wLXRoaXMubWFyZ2lucy5ib3R0b21dLHRoaXMucmVsYXRpdmVDb250YWluZXI9dCksdm9pZCAwKToodGhpcy5jb250YWlubWVudD1udWxsLHZvaWQgMCl9LF9jb252ZXJ0UG9zaXRpb25UbzpmdW5jdGlvbihuLHQpe3R8fCh0PXRoaXMucG9zaXRpb24pO3ZhciBpPSJhYnNvbHV0ZSI9PT1uPzE6LTEscj10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOnQudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCppK3RoaXMub2Zmc2V0LnBhcmVudC50b3AqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC50b3A6cj8wOnRoaXMub2Zmc2V0LnNjcm9sbC50b3ApKmksbGVmdDp0LmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCppK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KmktKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwubGVmdDpyPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQpKml9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpLHMsdSxmLHI9dGhpcy5vcHRpb25zLGg9dGhpcy5faXNSb290Tm9kZSh0aGlzLnNjcm9sbFBhcmVudFswXSksZT1uLnBhZ2VYLG89bi5wYWdlWTtyZXR1cm4gaCYmdGhpcy5vZmZzZXQuc2Nyb2xsfHwodGhpcy5vZmZzZXQuc2Nyb2xsPXt0b3A6dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9KSx0JiYodGhpcy5jb250YWlubWVudCYmKHRoaXMucmVsYXRpdmVDb250YWluZXI/KHM9dGhpcy5yZWxhdGl2ZUNvbnRhaW5lci5vZmZzZXQoKSxpPVt0aGlzLmNvbnRhaW5tZW50WzBdK3MubGVmdCx0aGlzLmNvbnRhaW5tZW50WzFdK3MudG9wLHRoaXMuY29udGFpbm1lbnRbMl0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbM10rcy50b3BdKTppPXRoaXMuY29udGFpbm1lbnQsbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PGlbMF0mJihlPWlbMF0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A8aVsxXSYmKG89aVsxXSt0aGlzLm9mZnNldC5jbGljay50b3ApLG4ucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdJiYoZT1pWzJdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLG4ucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10mJihvPWlbM10rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSksci5ncmlkJiYodT1yLmdyaWRbMV0/dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKG8tdGhpcy5vcmlnaW5hbFBhZ2VZKS9yLmdyaWRbMV0pKnIuZ3JpZFsxXTp0aGlzLm9yaWdpbmFsUGFnZVksbz1pP3UtdGhpcy5vZmZzZXQuY2xpY2sudG9wPj1pWzFdfHx1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD5pWzNdP3U6dS10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV0/dS1yLmdyaWRbMV06dStyLmdyaWRbMV06dSxmPXIuZ3JpZFswXT90aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoZS10aGlzLm9yaWdpbmFsUGFnZVgpL3IuZ3JpZFswXSkqci5ncmlkWzBdOnRoaXMub3JpZ2luYWxQYWdlWCxlPWk/Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdfHxmLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+aVsyXT9mOmYtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49aVswXT9mLXIuZ3JpZFswXTpmK3IuZ3JpZFswXTpmKSwieSI9PT1yLmF4aXMmJihlPXRoaXMub3JpZ2luYWxQYWdlWCksIngiPT09ci5heGlzJiYobz10aGlzLm9yaWdpbmFsUGFnZVkpKSx7dG9wOm8tdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpoPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCksbGVmdDplLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0Omg/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCl9fSxfY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlbHBlciwidWktZHJhZ2dhYmxlLWRyYWdnaW5nIik7dGhpcy5oZWxwZXJbMF09PT10aGlzLmVsZW1lbnRbMF18fHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbHx8dGhpcy5oZWxwZXIucmVtb3ZlKCk7dGhpcy5oZWxwZXI9bnVsbDt0aGlzLmNhbmNlbEhlbHBlclJlbW92YWw9ITE7dGhpcy5kZXN0cm95T25DbGVhciYmdGhpcy5kZXN0cm95KCl9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gcj1yfHx0aGlzLl91aUhhc2goKSxuLnVpLnBsdWdpbi5jYWxsKHRoaXMsdCxbaSxyLHRoaXNdLCEwKSwvXihkcmFnfHN0YXJ0fHN0b3ApLy50ZXN0KHQpJiYodGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSxyLm9mZnNldD10aGlzLnBvc2l0aW9uQWJzKSxuLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuY2FsbCh0aGlzLHQsaSxyKX0scGx1Z2luczp7fSxfdWlIYXNoOmZ1bmN0aW9uKCl7cmV0dXJue2hlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDp0aGlzLnBvc2l0aW9uQWJzfX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImNvbm5lY3RUb1NvcnRhYmxlIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5zb3J0YWJsZXM9W107bihyLm9wdGlvbnMuY29ubmVjdFRvU29ydGFibGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLnNvcnRhYmxlKCJpbnN0YW5jZSIpO2kmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJihyLnNvcnRhYmxlcy5wdXNoKGkpLGkucmVmcmVzaFBvc2l0aW9ucygpLGkuX3RyaWdnZXIoImFjdGl2YXRlIix0LHUpKX0pfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uLmV4dGVuZCh7fSxpLHtpdGVtOnIuZWxlbWVudH0pO3IuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uaXNPdmVyPyhuLmlzT3Zlcj0wLHIuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLmNhbmNlbEhlbHBlclJlbW92YWw9ITEsbi5fc3RvcmVkQ1NTPXtwb3NpdGlvbjpuLnBsYWNlaG9sZGVyLmNzcygicG9zaXRpb24iKSx0b3A6bi5wbGFjZWhvbGRlci5jc3MoInRvcCIpLGxlZnQ6bi5wbGFjZWhvbGRlci5jc3MoImxlZnQiKX0sbi5fbW91c2VTdG9wKHQpLG4ub3B0aW9ucy5oZWxwZXI9bi5vcHRpb25zLl9oZWxwZXIpOihuLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsbi5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsdCx1KSl9KX0sZHJhZzpmdW5jdGlvbih0LGkscil7bi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dmFyIGY9ITEsdT10aGlzO3UucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFiczt1LmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnM7dS5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2s7dS5faW50ZXJzZWN0c1dpdGgodS5jb250YWluZXJDYWNoZSkmJihmPSEwLG4uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uQWJzPXIucG9zaXRpb25BYnMsdGhpcy5oZWxwZXJQcm9wb3J0aW9ucz1yLmhlbHBlclByb3BvcnRpb25zLHRoaXMub2Zmc2V0LmNsaWNrPXIub2Zmc2V0LmNsaWNrLHRoaXMhPT11JiZ0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lckNhY2hlKSYmbi5jb250YWlucyh1LmVsZW1lbnRbMF0sdGhpcy5lbGVtZW50WzBdKSYmKGY9ITEpLGZ9KSk7Zj8odS5pc092ZXJ8fCh1LmlzT3Zlcj0xLHIuX3BhcmVudD1pLmhlbHBlci5wYXJlbnQoKSx1LmN1cnJlbnRJdGVtPWkuaGVscGVyLmFwcGVuZFRvKHUuZWxlbWVudCkuZGF0YSgidWktc29ydGFibGUtaXRlbSIsITApLHUub3B0aW9ucy5faGVscGVyPXUub3B0aW9ucy5oZWxwZXIsdS5vcHRpb25zLmhlbHBlcj1mdW5jdGlvbigpe3JldHVybiBpLmhlbHBlclswXX0sdC50YXJnZXQ9dS5jdXJyZW50SXRlbVswXSx1Ll9tb3VzZUNhcHR1cmUodCwhMCksdS5fbW91c2VTdGFydCh0LCEwLCEwKSx1Lm9mZnNldC5jbGljay50b3A9ci5vZmZzZXQuY2xpY2sudG9wLHUub2Zmc2V0LmNsaWNrLmxlZnQ9ci5vZmZzZXQuY2xpY2subGVmdCx1Lm9mZnNldC5wYXJlbnQubGVmdC09ci5vZmZzZXQucGFyZW50LmxlZnQtdS5vZmZzZXQucGFyZW50LmxlZnQsdS5vZmZzZXQucGFyZW50LnRvcC09ci5vZmZzZXQucGFyZW50LnRvcC11Lm9mZnNldC5wYXJlbnQudG9wLHIuX3RyaWdnZXIoInRvU29ydGFibGUiLHQpLHIuZHJvcHBlZD11LmVsZW1lbnQsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSxyLmN1cnJlbnRJdGVtPXIuZWxlbWVudCx1LmZyb21PdXRzaWRlPXIpLHUuY3VycmVudEl0ZW0mJih1Ll9tb3VzZURyYWcodCksaS5wb3NpdGlvbj11LnBvc2l0aW9uKSk6dS5pc092ZXImJih1LmlzT3Zlcj0wLHUuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCx1Lm9wdGlvbnMuX3JldmVydD11Lm9wdGlvbnMucmV2ZXJ0LHUub3B0aW9ucy5yZXZlcnQ9ITEsdS5fdHJpZ2dlcigib3V0Iix0LHUuX3VpSGFzaCh1KSksdS5fbW91c2VTdG9wKHQsITApLHUub3B0aW9ucy5yZXZlcnQ9dS5vcHRpb25zLl9yZXZlcnQsdS5vcHRpb25zLmhlbHBlcj11Lm9wdGlvbnMuX2hlbHBlcix1LnBsYWNlaG9sZGVyJiZ1LnBsYWNlaG9sZGVyLnJlbW92ZSgpLGkuaGVscGVyLmFwcGVuZFRvKHIuX3BhcmVudCksci5fcmVmcmVzaE9mZnNldHModCksaS5wb3NpdGlvbj1yLl9nZW5lcmF0ZVBvc2l0aW9uKHQsITApLHIuX3RyaWdnZXIoImZyb21Tb3J0YWJsZSIsdCksci5kcm9wcGVkPSExLG4uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMucmVmcmVzaFBvc2l0aW9ucygpfSkpfSl9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjdXJzb3IiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bigiYm9keSIpLGY9ci5vcHRpb25zO3UuY3NzKCJjdXJzb3IiKSYmKGYuX2N1cnNvcj11LmNzcygiY3Vyc29yIikpO3UuY3NzKCJjdXJzb3IiLGYuY3Vyc29yKX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX2N1cnNvciYmbigiYm9keSIpLmNzcygiY3Vyc29yIix1Ll9jdXJzb3IpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwib3BhY2l0eSIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKGkuaGVscGVyKSxmPXIub3B0aW9uczt1LmNzcygib3BhY2l0eSIpJiYoZi5fb3BhY2l0eT11LmNzcygib3BhY2l0eSIpKTt1LmNzcygib3BhY2l0eSIsZi5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX29wYWNpdHkmJm4oaS5oZWxwZXIpLmNzcygib3BhY2l0eSIsdS5fb3BhY2l0eSl9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzY3JvbGwiLHtzdGFydDpmdW5jdGlvbihuLHQsaSl7aS5zY3JvbGxQYXJlbnROb3RIaWRkZW58fChpLnNjcm9sbFBhcmVudE5vdEhpZGRlbj1pLmhlbHBlci5zY3JvbGxQYXJlbnQoITEpKTtpLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSE9PWkuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PWkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLnRhZ05hbWUmJihpLm92ZXJmbG93T2Zmc2V0PWkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuLm9mZnNldCgpKX0sZHJhZzpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zLG89ITEsZT1yLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSxmPXIuZG9jdW1lbnRbMF07ZSE9PWYmJiJIVE1MIiE9PWUudGFnTmFtZT8odS5heGlzJiYieCI9PT11LmF4aXN8fChyLm92ZXJmbG93T2Zmc2V0LnRvcCtlLm9mZnNldEhlaWdodC10LnBhZ2VZPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcCt1LnNjcm9sbFNwZWVkOnQucGFnZVktci5vdmVyZmxvd09mZnNldC50b3A8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsVG9wPW89ZS5zY3JvbGxUb3AtdS5zY3JvbGxTcGVlZCkpLHUuYXhpcyYmInkiPT09dS5heGlzfHwoci5vdmVyZmxvd09mZnNldC5sZWZ0K2Uub2Zmc2V0V2lkdGgtdC5wYWdlWDx1LnNjcm9sbFNlbnNpdGl2aXR5P2Uuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdCt1LnNjcm9sbFNwZWVkOnQucGFnZVgtci5vdmVyZmxvd09mZnNldC5sZWZ0PHUuc2Nyb2xsU2Vuc2l0aXZpdHkmJihlLnNjcm9sbExlZnQ9bz1lLnNjcm9sbExlZnQtdS5zY3JvbGxTcGVlZCkpKToodS5heGlzJiYieCI9PT11LmF4aXN8fCh0LnBhZ2VZLW4oZikuc2Nyb2xsVG9wKCk8dS5zY3JvbGxTZW5zaXRpdml0eT9vPW4oZikuc2Nyb2xsVG9wKG4oZikuc2Nyb2xsVG9wKCktdS5zY3JvbGxTcGVlZCk6bih3aW5kb3cpLmhlaWdodCgpLSh0LnBhZ2VZLW4oZikuc2Nyb2xsVG9wKCkpPHUuc2Nyb2xsU2Vuc2l0aXZpdHkmJihvPW4oZikuc2Nyb2xsVG9wKG4oZikuc2Nyb2xsVG9wKCkrdS5zY3JvbGxTcGVlZCkpKSx1LmF4aXMmJiJ5Ij09PXUuYXhpc3x8KHQucGFnZVgtbihmKS5zY3JvbGxMZWZ0KCk8dS5zY3JvbGxTZW5zaXRpdml0eT9vPW4oZikuc2Nyb2xsTGVmdChuKGYpLnNjcm9sbExlZnQoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykud2lkdGgoKS0odC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpK3Uuc2Nyb2xsU3BlZWQpKSkpO28hPT0hMSYmbi51aS5kZG1hbmFnZXImJiF1LmRyb3BCZWhhdmlvdXImJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHIsdCl9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzbmFwIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXIub3B0aW9ucztyLnNuYXBFbGVtZW50cz1bXTtuKHUuc25hcC5jb25zdHJ1Y3RvciE9PVN0cmluZz91LnNuYXAuaXRlbXN8fCI6ZGF0YSh1aS1kcmFnZ2FibGUpIjp1LnNuYXApLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5vZmZzZXQoKTt0aGlzIT09ci5lbGVtZW50WzBdJiZyLnNuYXBFbGVtZW50cy5wdXNoKHtpdGVtOnRoaXMsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6aS50b3AsbGVmdDppLmxlZnR9KX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtmb3IodmFyIGUsbyxzLGgsYyxhLGwsdix3LGI9ci5vcHRpb25zLGY9Yi5zbmFwVG9sZXJhbmNlLHk9aS5vZmZzZXQubGVmdCxrPXkrci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxwPWkub2Zmc2V0LnRvcCxkPXArci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsdT1yLnNuYXBFbGVtZW50cy5sZW5ndGgtMTt1Pj0wO3UtLSljPXIuc25hcEVsZW1lbnRzW3VdLmxlZnQtci5tYXJnaW5zLmxlZnQsYT1jK3Iuc25hcEVsZW1lbnRzW3VdLndpZHRoLGw9ci5zbmFwRWxlbWVudHNbdV0udG9wLXIubWFyZ2lucy50b3Asdj1sK3Iuc25hcEVsZW1lbnRzW3VdLmhlaWdodCxjLWY+a3x8eT5hK2Z8fGwtZj5kfHxwPnYrZnx8IW4uY29udGFpbnMoci5zbmFwRWxlbWVudHNbdV0uaXRlbS5vd25lckRvY3VtZW50LHIuc25hcEVsZW1lbnRzW3VdLml0ZW0pPyhyLnNuYXBFbGVtZW50c1t1XS5zbmFwcGluZyYmci5vcHRpb25zLnNuYXAucmVsZWFzZSYmci5vcHRpb25zLnNuYXAucmVsZWFzZS5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpLHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPSExKTooImlubmVyIiE9PWIuc25hcE1vZGUmJihlPWY+PU1hdGguYWJzKGwtZCksbz1mPj1NYXRoLmFicyh2LXApLHM9Zj49TWF0aC5hYnMoYy1rKSxoPWY+PU1hdGguYWJzKGEteSksZSYmKGkucG9zaXRpb24udG9wPXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDpsLXIuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGxlZnQ6MH0pLnRvcCksbyYmKGkucG9zaXRpb24udG9wPXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDp2LGxlZnQ6MH0pLnRvcCkscyYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmMtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpLGgmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDphfSkubGVmdCkpLHc9ZXx8b3x8c3x8aCwib3V0ZXIiIT09Yi5zbmFwTW9kZSYmKGU9Zj49TWF0aC5hYnMobC1wKSxvPWY+PU1hdGguYWJzKHYtZCkscz1mPj1NYXRoLmFicyhjLXkpLGg9Zj49TWF0aC5hYnMoYS1rKSxlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Y30pLmxlZnQpLGgmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDphLXIuaGVscGVyUHJvcG9ydGlvbnMud2lkdGh9KS5sZWZ0KSksIXIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nJiYoZXx8b3x8c3x8aHx8dykmJnIub3B0aW9ucy5zbmFwLnNuYXAmJnIub3B0aW9ucy5zbmFwLnNuYXAuY2FsbChyLmVsZW1lbnQsdCxuLmV4dGVuZChyLl91aUhhc2goKSx7c25hcEl0ZW06ci5zbmFwRWxlbWVudHNbdV0uaXRlbX0pKSxyLnNuYXBFbGVtZW50c1t1XS5zbmFwcGluZz1lfHxvfHxzfHxofHx3KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInN0YWNrIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBmLGU9ci5vcHRpb25zLHU9bi5tYWtlQXJyYXkobihlLnN0YWNrKSkuc29ydChmdW5jdGlvbih0LGkpe3JldHVybihwYXJzZUludChuKHQpLmNzcygiekluZGV4IiksMTApfHwwKS0ocGFyc2VJbnQobihpKS5jc3MoInpJbmRleCIpLDEwKXx8MCl9KTt1Lmxlbmd0aCYmKGY9cGFyc2VJbnQobih1WzBdKS5jc3MoInpJbmRleCIpLDEwKXx8MCxuKHUpLmVhY2goZnVuY3Rpb24odCl7bih0aGlzKS5jc3MoInpJbmRleCIsZit0KX0pLHRoaXMuY3NzKCJ6SW5kZXgiLGYrdS5sZW5ndGgpKX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInpJbmRleCIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKGkuaGVscGVyKSxmPXIub3B0aW9uczt1LmNzcygiekluZGV4IikmJihmLl96SW5kZXg9dS5jc3MoInpJbmRleCIpKTt1LmNzcygiekluZGV4IixmLnpJbmRleCl9LHN0b3A6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXIub3B0aW9uczt1Ll96SW5kZXgmJm4oaS5oZWxwZXIpLmNzcygiekluZGV4Iix1Ll96SW5kZXgpfX0pO24udWkuZHJhZ2dhYmxlO24ud2lkZ2V0KCJ1aS5yZXNpemFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InJlc2l6ZSIsb3B0aW9uczp7YWxzb1Jlc2l6ZTohMSxhbmltYXRlOiExLGFuaW1hdGVEdXJhdGlvbjoic2xvdyIsYW5pbWF0ZUVhc2luZzoic3dpbmciLGFzcGVjdFJhdGlvOiExLGF1dG9IaWRlOiExLGNsYXNzZXM6eyJ1aS1yZXNpemFibGUtc2UiOiJ1aS1pY29uIHVpLWljb24tZ3JpcHNtYWxsLWRpYWdvbmFsLXNlIn0sY29udGFpbm1lbnQ6ITEsZ2hvc3Q6ITEsZ3JpZDohMSxoYW5kbGVzOiJlLHMsc2UiLGhlbHBlcjohMSxtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoxMCxtaW5XaWR0aDoxMCx6SW5kZXg6OTAscmVzaXplOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9udW06ZnVuY3Rpb24obil7cmV0dXJuIHBhcnNlRmxvYXQobil8fDB9LF9pc051bWJlcjpmdW5jdGlvbihuKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChuKSl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24odCxpKXtpZigiaGlkZGVuIj09PW4odCkuY3NzKCJvdmVyZmxvdyIpKXJldHVybiExO3ZhciByPWkmJiJsZWZ0Ij09PWk/InNjcm9sbExlZnQiOiJzY3JvbGxUb3AiLHU9ITE7cmV0dXJuIHRbcl0+MD8hMDoodFtyXT0xLHU9dFtyXT4wLHRbcl09MCx1KX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciByLHQ9dGhpcy5vcHRpb25zLGk9dGhpczt0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlIik7bi5leHRlbmQodGhpcyx7X2FzcGVjdFJhdGlvOiEhdC5hc3BlY3RSYXRpbyxhc3BlY3RSYXRpbzp0LmFzcGVjdFJhdGlvLG9yaWdpbmFsRWxlbWVudDp0aGlzLmVsZW1lbnQsX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHM6W10sX2hlbHBlcjp0LmhlbHBlcnx8dC5naG9zdHx8dC5hbmltYXRlP3QuaGVscGVyfHwidWktcmVzaXphYmxlLWhlbHBlciI6bnVsbH0pO3RoaXMuZWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvXihjYW52YXN8dGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbnxpbWcpJC9pKSYmKHRoaXMuZWxlbWVudC53cmFwKG4oIjxkaXYgY2xhc3M9J3VpLXdyYXBwZXInIHN0eWxlPSdvdmVyZmxvdzogaGlkZGVuOyc+PFwvZGl2PiIpLmNzcyh7cG9zaXRpb246dGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSx3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSx0b3A6dGhpcy5lbGVtZW50LmNzcygidG9wIiksbGVmdDp0aGlzLmVsZW1lbnQuY3NzKCJsZWZ0Iil9KSksdGhpcy5lbGVtZW50PXRoaXMuZWxlbWVudC5wYXJlbnQoKS5kYXRhKCJ1aS1yZXNpemFibGUiLHRoaXMuZWxlbWVudC5yZXNpemFibGUoImluc3RhbmNlIikpLHRoaXMuZWxlbWVudElzV3JhcHBlcj0hMCxyPXttYXJnaW5Ub3A6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5SaWdodDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblJpZ2h0IiksbWFyZ2luQm90dG9tOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKX0sdGhpcy5lbGVtZW50LmNzcyhyKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbiIsMCksdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlPXRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLCJub25lIiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5wdXNoKHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246InN0YXRpYyIsem9vbToxLGRpc3BsYXk6ImJsb2NrIn0pKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MociksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSk7dGhpcy5fc2V0dXBIYW5kbGVzKCk7dC5hdXRvSGlkZSYmbih0aGlzLmVsZW1lbnQpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3QuZGlzYWJsZWR8fChpLl9yZW1vdmVDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIiksaS5faGFuZGxlcy5zaG93KCkpfSkub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7dC5kaXNhYmxlZHx8aS5yZXNpemluZ3x8KGkuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLmhpZGUoKSl9KTt0aGlzLl9tb3VzZUluaXQoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTt2YXIgdCxpPWZ1bmN0aW9uKHQpe24odCkucmVtb3ZlRGF0YSgicmVzaXphYmxlIikucmVtb3ZlRGF0YSgidWktcmVzaXphYmxlIikub2ZmKCIucmVzaXphYmxlIikuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5yZW1vdmUoKX07cmV0dXJuIHRoaXMuZWxlbWVudElzV3JhcHBlciYmKGkodGhpcy5lbGVtZW50KSx0PXRoaXMuZWxlbWVudCx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0Lm91dGVySGVpZ2h0KCksdG9wOnQuY3NzKCJ0b3AiKSxsZWZ0OnQuY3NzKCJsZWZ0Iil9KS5pbnNlcnRBZnRlcih0KSx0LnJlbW92ZSgpKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsdGhpcy5vcmlnaW5hbFJlc2l6ZVN0eWxlKSxpKHRoaXMub3JpZ2luYWxFbGVtZW50KSx0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7c3dpdGNoKHRoaXMuX3N1cGVyKG4sdCksbil7Y2FzZSJoYW5kbGVzIjp0aGlzLl9yZW1vdmVIYW5kbGVzKCk7dGhpcy5fc2V0dXBIYW5kbGVzKCl9fSxfc2V0dXBIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIGkscix1LG8sdCxmPXRoaXMub3B0aW9ucyxlPXRoaXM7aWYodGhpcy5oYW5kbGVzPWYuaGFuZGxlc3x8KG4oIi51aS1yZXNpemFibGUtaGFuZGxlIix0aGlzLmVsZW1lbnQpLmxlbmd0aD97bjoiLnVpLXJlc2l6YWJsZS1uIixlOiIudWktcmVzaXphYmxlLWUiLHM6Ii51aS1yZXNpemFibGUtcyIsdzoiLnVpLXJlc2l6YWJsZS13IixzZToiLnVpLXJlc2l6YWJsZS1zZSIsc3c6Ii51aS1yZXNpemFibGUtc3ciLG5lOiIudWktcmVzaXphYmxlLW5lIixudzoiLnVpLXJlc2l6YWJsZS1udyJ9OiJlLHMsc2UiKSx0aGlzLl9oYW5kbGVzPW4oKSx0aGlzLmhhbmRsZXMuY29uc3RydWN0b3I9PT1TdHJpbmcpZm9yKCJhbGwiPT09dGhpcy5oYW5kbGVzJiYodGhpcy5oYW5kbGVzPSJuLGUscyx3LHNlLHN3LG5lLG53IiksdT10aGlzLmhhbmRsZXMuc3BsaXQoIiwiKSx0aGlzLmhhbmRsZXM9e30scj0wO3UubGVuZ3RoPnI7cisrKWk9bi50cmltKHVbcl0pLG89InVpLXJlc2l6YWJsZS0iK2ksdD1uKCI8ZGl2PiIpLHRoaXMuX2FkZENsYXNzKHQsInVpLXJlc2l6YWJsZS1oYW5kbGUgIitvKSx0LmNzcyh7ekluZGV4OmYuekluZGV4fSksdGhpcy5oYW5kbGVzW2ldPSIudWktcmVzaXphYmxlLSIraSx0aGlzLmVsZW1lbnQuYXBwZW5kKHQpO3RoaXMuX3JlbmRlckF4aXM9ZnVuY3Rpb24odCl7dmFyIGkscix1LGY7dD10fHx0aGlzLmVsZW1lbnQ7Zm9yKGkgaW4gdGhpcy5oYW5kbGVzKXRoaXMuaGFuZGxlc1tpXS5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmhhbmRsZXNbaV09dGhpcy5lbGVtZW50LmNoaWxkcmVuKHRoaXMuaGFuZGxlc1tpXSkuZmlyc3QoKS5zaG93KCk6KHRoaXMuaGFuZGxlc1tpXS5qcXVlcnl8fHRoaXMuaGFuZGxlc1tpXS5ub2RlVHlwZSkmJih0aGlzLmhhbmRsZXNbaV09bih0aGlzLmhhbmRsZXNbaV0pLHRoaXMuX29uKHRoaXMuaGFuZGxlc1tpXSx7bW91c2Vkb3duOmUuX21vdXNlRG93bn0pKSx0aGlzLmVsZW1lbnRJc1dyYXBwZXImJnRoaXMub3JpZ2luYWxFbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKHRleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b24pJC9pKSYmKHI9bih0aGlzLmhhbmRsZXNbaV0sdGhpcy5lbGVtZW50KSxmPS9zd3xuZXxud3xzZXxufHMvLnRlc3QoaSk/ci5vdXRlckhlaWdodCgpOnIub3V0ZXJXaWR0aCgpLHU9WyJwYWRkaW5nIiwvbmV8bnd8bi8udGVzdChpKT8iVG9wIjovc2V8c3d8cy8udGVzdChpKT8iQm90dG9tIjovXmUkLy50ZXN0KGkpPyJSaWdodCI6IkxlZnQiXS5qb2luKCIiKSx0LmNzcyh1LGYpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHRoaXMuX2hhbmRsZXM9dGhpcy5faGFuZGxlcy5hZGQodGhpcy5oYW5kbGVzW2ldKX07dGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpO3RoaXMuX2hhbmRsZXM9dGhpcy5faGFuZGxlcy5hZGQodGhpcy5lbGVtZW50LmZpbmQoIi51aS1yZXNpemFibGUtaGFuZGxlIikpO3RoaXMuX2hhbmRsZXMuZGlzYWJsZVNlbGVjdGlvbigpO3RoaXMuX2hhbmRsZXMub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtlLnJlc2l6aW5nfHwodGhpcy5jbGFzc05hbWUmJih0PXRoaXMuY2xhc3NOYW1lLm1hdGNoKC91aS1yZXNpemFibGUtKHNlfHN3fG5lfG53fG58ZXxzfHcpL2kpKSxlLmF4aXM9dCYmdFsxXT90WzFdOiJzZSIpfSk7Zi5hdXRvSGlkZSYmKHRoaXMuX2hhbmRsZXMuaGlkZSgpLHRoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSl9LF9yZW1vdmVIYW5kbGVzOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlcy5yZW1vdmUoKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgcixpLHU9ITE7Zm9yKHIgaW4gdGhpcy5oYW5kbGVzKWk9bih0aGlzLmhhbmRsZXNbcl0pWzBdLChpPT09dC50YXJnZXR8fG4uY29udGFpbnMoaSx0LnRhcmdldCkpJiYodT0hMCk7cmV0dXJuIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIHUsZixlLHI9dGhpcy5vcHRpb25zLGk9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLHRoaXMuX3JlbmRlclByb3h5KCksdT10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpLGY9dGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcygidG9wIikpLHIuY29udGFpbm1lbnQmJih1Kz1uKHIuY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKXx8MCxmKz1uKHIuY29udGFpbm1lbnQpLnNjcm9sbFRvcCgpfHwwKSx0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKSx0aGlzLnBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMuc2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOnRoaXMuaGVscGVyLndpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLmhlaWdodCgpfTp7d2lkdGg6aS53aWR0aCgpLGhlaWdodDppLmhlaWdodCgpfSx0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOmkub3V0ZXJXaWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMuc2l6ZURpZmY9e3dpZHRoOmkub3V0ZXJXaWR0aCgpLWkud2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpLWkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDp1LHRvcDpmfSx0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZfSx0aGlzLmFzcGVjdFJhdGlvPSJudW1iZXIiPT10eXBlb2Ygci5hc3BlY3RSYXRpbz9yLmFzcGVjdFJhdGlvOnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MSxlPW4oIi51aS1yZXNpemFibGUtIit0aGlzLmF4aXMpLmNzcygiY3Vyc29yIiksbigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byI9PT1lP3RoaXMuYXhpcysiLXJlc2l6ZSI6ZSksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RhcnQiLHQpLCEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT10aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbixlPXRoaXMuYXhpcyxvPXQucGFnZVgtdS5sZWZ0fHwwLHM9dC5wYWdlWS11LnRvcHx8MCxmPXRoaXMuX2NoYW5nZVtlXTtyZXR1cm4gdGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSxmPyhpPWYuYXBwbHkodGhpcyxbdCxvLHNdKSx0aGlzLl91cGRhdGVWaXJ0dWFsQm91bmRhcmllcyh0LnNoaWZ0S2V5KSwodGhpcy5fYXNwZWN0UmF0aW98fHQuc2hpZnRLZXkpJiYoaT10aGlzLl91cGRhdGVSYXRpbyhpLHQpKSxpPXRoaXMuX3Jlc3BlY3RTaXplKGksdCksdGhpcy5fdXBkYXRlQ2FjaGUoaSksdGhpcy5fcHJvcGFnYXRlKCJyZXNpemUiLHQpLHI9dGhpcy5fYXBwbHlDaGFuZ2VzKCksIXRoaXMuX2hlbHBlciYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cy5sZW5ndGgmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCksbi5pc0VtcHR5T2JqZWN0KHIpfHwodGhpcy5fdXBkYXRlUHJldlByb3BlcnRpZXMoKSx0aGlzLl90cmlnZ2VyKCJyZXNpemUiLHQsdGhpcy51aSgpKSx0aGlzLl9hcHBseUNoYW5nZXMoKSksITEpOiExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQpe3RoaXMucmVzaXppbmc9ITE7dmFyIHIsdSxmLGUsbyxzLGgsYz10aGlzLm9wdGlvbnMsaT10aGlzO3JldHVybiB0aGlzLl9oZWxwZXImJihyPXRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsdT1yLmxlbmd0aCYmL3RleHRhcmVhL2kudGVzdChyWzBdLm5vZGVOYW1lKSxmPXUmJnRoaXMuX2hhc1Njcm9sbChyWzBdLCJsZWZ0Iik/MDppLnNpemVEaWZmLmhlaWdodCxlPXU/MDppLnNpemVEaWZmLndpZHRoLG89e3dpZHRoOmkuaGVscGVyLndpZHRoKCktZSxoZWlnaHQ6aS5oZWxwZXIuaGVpZ2h0KCktZn0scz1wYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoImxlZnQiKSkrKGkucG9zaXRpb24ubGVmdC1pLm9yaWdpbmFsUG9zaXRpb24ubGVmdCl8fG51bGwsaD1wYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoInRvcCIpKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGwsYy5hbmltYXRlfHx0aGlzLmVsZW1lbnQuY3NzKG4uZXh0ZW5kKG8se3RvcDpoLGxlZnQ6c30pKSxpLmhlbHBlci5oZWlnaHQoaS5zaXplLmhlaWdodCksaS5oZWxwZXIud2lkdGgoaS5zaXplLndpZHRoKSx0aGlzLl9oZWxwZXImJiFjLmFuaW1hdGUmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLG4oImJvZHkiKS5jc3MoImN1cnNvciIsImF1dG8iKSx0aGlzLl9yZW1vdmVDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIiksdGhpcy5fcHJvcGFnYXRlKCJzdG9wIix0KSx0aGlzLl9oZWxwZXImJnRoaXMuaGVscGVyLnJlbW92ZSgpLCExfSxfdXBkYXRlUHJldlByb3BlcnRpZXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZQb3NpdGlvbj17dG9wOnRoaXMucG9zaXRpb24udG9wLGxlZnQ6dGhpcy5wb3NpdGlvbi5sZWZ0fTt0aGlzLnByZXZTaXplPXt3aWR0aDp0aGlzLnNpemUud2lkdGgsaGVpZ2h0OnRoaXMuc2l6ZS5oZWlnaHR9fSxfYXBwbHlDaGFuZ2VzOmZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIHRoaXMucG9zaXRpb24udG9wIT09dGhpcy5wcmV2UG9zaXRpb24udG9wJiYobi50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IiksdGhpcy5wb3NpdGlvbi5sZWZ0IT09dGhpcy5wcmV2UG9zaXRpb24ubGVmdCYmKG4ubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IiksdGhpcy5zaXplLndpZHRoIT09dGhpcy5wcmV2U2l6ZS53aWR0aCYmKG4ud2lkdGg9dGhpcy5zaXplLndpZHRoKyJweCIpLHRoaXMuc2l6ZS5oZWlnaHQhPT10aGlzLnByZXZTaXplLmhlaWdodCYmKG4uaGVpZ2h0PXRoaXMuc2l6ZS5oZWlnaHQrInB4IiksdGhpcy5oZWxwZXIuY3NzKG4pLG59LF91cGRhdGVWaXJ0dWFsQm91bmRhcmllczpmdW5jdGlvbihuKXt2YXIgcix1LGYsZSx0LGk9dGhpcy5vcHRpb25zO3Q9e21pbldpZHRoOnRoaXMuX2lzTnVtYmVyKGkubWluV2lkdGgpP2kubWluV2lkdGg6MCxtYXhXaWR0aDp0aGlzLl9pc051bWJlcihpLm1heFdpZHRoKT9pLm1heFdpZHRoOjEvMCxtaW5IZWlnaHQ6dGhpcy5faXNOdW1iZXIoaS5taW5IZWlnaHQpP2kubWluSGVpZ2h0OjAsbWF4SGVpZ2h0OnRoaXMuX2lzTnVtYmVyKGkubWF4SGVpZ2h0KT9pLm1heEhlaWdodDoxLzB9Oyh0aGlzLl9hc3BlY3RSYXRpb3x8bikmJihyPXQubWluSGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sZj10Lm1pbldpZHRoL3RoaXMuYXNwZWN0UmF0aW8sdT10Lm1heEhlaWdodCp0aGlzLmFzcGVjdFJhdGlvLGU9dC5tYXhXaWR0aC90aGlzLmFzcGVjdFJhdGlvLHI+dC5taW5XaWR0aCYmKHQubWluV2lkdGg9ciksZj50Lm1pbkhlaWdodCYmKHQubWluSGVpZ2h0PWYpLHQubWF4V2lkdGg+dSYmKHQubWF4V2lkdGg9dSksdC5tYXhIZWlnaHQ+ZSYmKHQubWF4SGVpZ2h0PWUpKTt0aGlzLl92Qm91bmRhcmllcz10fSxfdXBkYXRlQ2FjaGU6ZnVuY3Rpb24obil7dGhpcy5vZmZzZXQ9dGhpcy5oZWxwZXIub2Zmc2V0KCk7dGhpcy5faXNOdW1iZXIobi5sZWZ0KSYmKHRoaXMucG9zaXRpb24ubGVmdD1uLmxlZnQpO3RoaXMuX2lzTnVtYmVyKG4udG9wKSYmKHRoaXMucG9zaXRpb24udG9wPW4udG9wKTt0aGlzLl9pc051bWJlcihuLmhlaWdodCkmJih0aGlzLnNpemUuaGVpZ2h0PW4uaGVpZ2h0KTt0aGlzLl9pc051bWJlcihuLndpZHRoKSYmKHRoaXMuc2l6ZS53aWR0aD1uLndpZHRoKX0sX3VwZGF0ZVJhdGlvOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMucG9zaXRpb24saT10aGlzLnNpemUscj10aGlzLmF4aXM7cmV0dXJuIHRoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KT9uLndpZHRoPW4uaGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW86dGhpcy5faXNOdW1iZXIobi53aWR0aCkmJihuLmhlaWdodD1uLndpZHRoL3RoaXMuYXNwZWN0UmF0aW8pLCJzdyI9PT1yJiYobi5sZWZ0PXQubGVmdCsoaS53aWR0aC1uLndpZHRoKSxuLnRvcD1udWxsKSwibnciPT09ciYmKG4udG9wPXQudG9wKyhpLmhlaWdodC1uLmhlaWdodCksbi5sZWZ0PXQubGVmdCsoaS53aWR0aC1uLndpZHRoKSksbn0sX3Jlc3BlY3RTaXplOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX3ZCb3VuZGFyaWVzLGk9dGhpcy5heGlzLHI9dGhpcy5faXNOdW1iZXIobi53aWR0aCkmJnQubWF4V2lkdGgmJnQubWF4V2lkdGg8bi53aWR0aCx1PXRoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmdC5tYXhIZWlnaHQmJnQubWF4SGVpZ2h0PG4uaGVpZ2h0LGY9dGhpcy5faXNOdW1iZXIobi53aWR0aCkmJnQubWluV2lkdGgmJnQubWluV2lkdGg+bi53aWR0aCxlPXRoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmdC5taW5IZWlnaHQmJnQubWluSGVpZ2h0Pm4uaGVpZ2h0LG89dGhpcy5vcmlnaW5hbFBvc2l0aW9uLmxlZnQrdGhpcy5vcmlnaW5hbFNpemUud2lkdGgscz10aGlzLm9yaWdpbmFsUG9zaXRpb24udG9wK3RoaXMub3JpZ2luYWxTaXplLmhlaWdodCxoPS9zd3xud3x3Ly50ZXN0KGkpLGM9L253fG5lfG4vLnRlc3QoaSk7cmV0dXJuIGYmJihuLndpZHRoPXQubWluV2lkdGgpLGUmJihuLmhlaWdodD10Lm1pbkhlaWdodCksciYmKG4ud2lkdGg9dC5tYXhXaWR0aCksdSYmKG4uaGVpZ2h0PXQubWF4SGVpZ2h0KSxmJiZoJiYobi5sZWZ0PW8tdC5taW5XaWR0aCksciYmaCYmKG4ubGVmdD1vLXQubWF4V2lkdGgpLGUmJmMmJihuLnRvcD1zLXQubWluSGVpZ2h0KSx1JiZjJiYobi50b3A9cy10Lm1heEhlaWdodCksbi53aWR0aHx8bi5oZWlnaHR8fG4ubGVmdHx8IW4udG9wP24ud2lkdGh8fG4uaGVpZ2h0fHxuLnRvcHx8IW4ubGVmdHx8KG4ubGVmdD1udWxsKTpuLnRvcD1udWxsLG59LF9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnM6ZnVuY3Rpb24obil7Zm9yKHZhciB0PTAsaT1bXSxyPVtuLmNzcygiYm9yZGVyVG9wV2lkdGgiKSxuLmNzcygiYm9yZGVyUmlnaHRXaWR0aCIpLG4uY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLG4uY3NzKCJib3JkZXJMZWZ0V2lkdGgiKV0sdT1bbi5jc3MoInBhZGRpbmdUb3AiKSxuLmNzcygicGFkZGluZ1JpZ2h0Iiksbi5jc3MoInBhZGRpbmdCb3R0b20iKSxuLmNzcygicGFkZGluZ0xlZnQiKV07ND50O3QrKylpW3RdPXBhcnNlRmxvYXQoclt0XSl8fDAsaVt0XSs9cGFyc2VGbG9hdCh1W3RdKXx8MDtyZXR1cm57aGVpZ2h0OmlbMF0raVsyXSx3aWR0aDppWzFdK2lbM119fSxfcHJvcG9ydGlvbmFsbHlSZXNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aClmb3IodmFyIG4sdD0wLGk9dGhpcy5oZWxwZXJ8fHRoaXMuZWxlbWVudDt0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aD50O3QrKyluPXRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHNbdF0sdGhpcy5vdXRlckRpbWVuc2lvbnN8fCh0aGlzLm91dGVyRGltZW5zaW9ucz10aGlzLl9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnMobikpLG4uY3NzKHtoZWlnaHQ6aS5oZWlnaHQoKS10aGlzLm91dGVyRGltZW5zaW9ucy5oZWlnaHR8fDAsd2lkdGg6aS53aWR0aCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLndpZHRofHwwfSl9LF9yZW5kZXJQcm94eTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudCxpPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnRPZmZzZXQ9dC5vZmZzZXQoKTt0aGlzLl9oZWxwZXI/KHRoaXMuaGVscGVyPXRoaXMuaGVscGVyfHxuKCI8ZGl2IHN0eWxlPSdvdmVyZmxvdzpoaWRkZW47Jz48XC9kaXY+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsdGhpcy5faGVscGVyKSx0aGlzLmhlbHBlci5jc3Moe3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHBvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDp0aGlzLmVsZW1lbnRPZmZzZXQubGVmdCsicHgiLHRvcDp0aGlzLmVsZW1lbnRPZmZzZXQudG9wKyJweCIsekluZGV4OisraS56SW5kZXh9KSx0aGlzLmhlbHBlci5hcHBlbmRUbygiYm9keSIpLmRpc2FibGVTZWxlY3Rpb24oKSk6dGhpcy5oZWxwZXI9dGhpcy5lbGVtZW50fSxfY2hhbmdlOntlOmZ1bmN0aW9uKG4sdCl7cmV0dXJue3dpZHRoOnRoaXMub3JpZ2luYWxTaXplLndpZHRoK3R9fSx3OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5vcmlnaW5hbFNpemUscj10aGlzLm9yaWdpbmFsUG9zaXRpb247cmV0dXJue2xlZnQ6ci5sZWZ0K3Qsd2lkdGg6aS53aWR0aC10fX0sbjpmdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcy5vcmlnaW5hbFNpemUsdT10aGlzLm9yaWdpbmFsUG9zaXRpb247cmV0dXJue3RvcDp1LnRvcCtpLGhlaWdodDpyLmhlaWdodC1pfX0sczpmdW5jdGlvbihuLHQsaSl7cmV0dXJue2hlaWdodDp0aGlzLm9yaWdpbmFsU2l6ZS5oZWlnaHQraX19LHNlOmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxzdzpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFt0LGkscl0pKX0sbmU6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbdCxpLHJdKSl9LG53OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW3QsaSxyXSkpfX0sX3Byb3BhZ2F0ZTpmdW5jdGlvbih0LGkpe24udWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHRoaXMudWkoKV0pOyJyZXNpemUiIT09dCYmdGhpcy5fdHJpZ2dlcih0LGksdGhpcy51aSgpKX0scGx1Z2luczp7fSx1aTpmdW5jdGlvbigpe3JldHVybntvcmlnaW5hbEVsZW1lbnQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQsZWxlbWVudDp0aGlzLmVsZW1lbnQsaGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sc2l6ZTp0aGlzLnNpemUsb3JpZ2luYWxTaXplOnRoaXMub3JpZ2luYWxTaXplLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9ufX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFuaW1hdGUiLHtzdG9wOmZ1bmN0aW9uKHQpe3ZhciBpPW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHU9aS5vcHRpb25zLHI9aS5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyxmPXIubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KHJbMF0ubm9kZU5hbWUpLHM9ZiYmaS5faGFzU2Nyb2xsKHJbMF0sImxlZnQiKT8wOmkuc2l6ZURpZmYuaGVpZ2h0LGg9Zj8wOmkuc2l6ZURpZmYud2lkdGgsYz17d2lkdGg6aS5zaXplLndpZHRoLWgsaGVpZ2h0Omkuc2l6ZS5oZWlnaHQtc30sZT1wYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoImxlZnQiKSkrKGkucG9zaXRpb24ubGVmdC1pLm9yaWdpbmFsUG9zaXRpb24ubGVmdCl8fG51bGwsbz1wYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoInRvcCIpKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGw7aS5lbGVtZW50LmFuaW1hdGUobi5leHRlbmQoYyxvJiZlP3t0b3A6byxsZWZ0OmV9Ont9KSx7ZHVyYXRpb246dS5hbmltYXRlRHVyYXRpb24sZWFzaW5nOnUuYW5pbWF0ZUVhc2luZyxzdGVwOmZ1bmN0aW9uKCl7dmFyIHU9e3dpZHRoOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygid2lkdGgiKSksaGVpZ2h0OnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygiaGVpZ2h0IikpLHRvcDpwYXJzZUZsb2F0KGkuZWxlbWVudC5jc3MoInRvcCIpKSxsZWZ0OnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKX07ciYmci5sZW5ndGgmJm4oclswXSkuY3NzKHt3aWR0aDp1LndpZHRoLGhlaWdodDp1LmhlaWdodH0pO2kuX3VwZGF0ZUNhY2hlKHUpO2kuX3Byb3BhZ2F0ZSgicmVzaXplIix0KX19KX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImNvbnRhaW5tZW50Iix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgcixmLGUsbyxzLGgsYyx0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGw9dC5vcHRpb25zLGE9dC5lbGVtZW50LHU9bC5jb250YWlubWVudCxpPXUgaW5zdGFuY2VvZiBuP3UuZ2V0KDApOi9wYXJlbnQvLnRlc3QodSk/YS5wYXJlbnQoKS5nZXQoMCk6dTtpJiYodC5jb250YWluZXJFbGVtZW50PW4oaSksL2RvY3VtZW50Ly50ZXN0KHUpfHx1PT09ZG9jdW1lbnQ/KHQuY29udGFpbmVyT2Zmc2V0PXtsZWZ0OjAsdG9wOjB9LHQuY29udGFpbmVyUG9zaXRpb249e2xlZnQ6MCx0b3A6MH0sdC5wYXJlbnREYXRhPXtlbGVtZW50Om4oZG9jdW1lbnQpLGxlZnQ6MCx0b3A6MCx3aWR0aDpuKGRvY3VtZW50KS53aWR0aCgpLGhlaWdodDpuKGRvY3VtZW50KS5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodH0pOihyPW4oaSksZj1bXSxuKFsiVG9wIiwiUmlnaHQiLCJMZWZ0IiwiQm90dG9tIl0pLmVhY2goZnVuY3Rpb24obixpKXtmW25dPXQuX251bShyLmNzcygicGFkZGluZyIraSkpfSksdC5jb250YWluZXJPZmZzZXQ9ci5vZmZzZXQoKSx0LmNvbnRhaW5lclBvc2l0aW9uPXIucG9zaXRpb24oKSx0LmNvbnRhaW5lclNpemU9e2hlaWdodDpyLmlubmVySGVpZ2h0KCktZlszXSx3aWR0aDpyLmlubmVyV2lkdGgoKS1mWzFdfSxlPXQuY29udGFpbmVyT2Zmc2V0LG89dC5jb250YWluZXJTaXplLmhlaWdodCxzPXQuY29udGFpbmVyU2l6ZS53aWR0aCxoPXQuX2hhc1Njcm9sbChpLCJsZWZ0Iik/aS5zY3JvbGxXaWR0aDpzLGM9dC5faGFzU2Nyb2xsKGkpP2kuc2Nyb2xsSGVpZ2h0Om8sdC5wYXJlbnREYXRhPXtlbGVtZW50OmksbGVmdDplLmxlZnQsdG9wOmUudG9wLHdpZHRoOmgsaGVpZ2h0OmN9KSl9LHJlc2l6ZTpmdW5jdGlvbih0KXt2YXIgbyxzLGgsYyxpPW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHY9aS5vcHRpb25zLHI9aS5jb250YWluZXJPZmZzZXQsbD1pLnBvc2l0aW9uLGY9aS5fYXNwZWN0UmF0aW98fHQuc2hpZnRLZXksZT17dG9wOjAsbGVmdDowfSxhPWkuY29udGFpbmVyRWxlbWVudCx1PSEwO2FbMF0hPT1kb2N1bWVudCYmL3N0YXRpYy8udGVzdChhLmNzcygicG9zaXRpb24iKSkmJihlPXIpO2wubGVmdDwoaS5faGVscGVyP3IubGVmdDowKSYmKGkuc2l6ZS53aWR0aD1pLnNpemUud2lkdGgrKGkuX2hlbHBlcj9pLnBvc2l0aW9uLmxlZnQtci5sZWZ0OmkucG9zaXRpb24ubGVmdC1lLmxlZnQpLGYmJihpLnNpemUuaGVpZ2h0PWkuc2l6ZS53aWR0aC9pLmFzcGVjdFJhdGlvLHU9ITEpLGkucG9zaXRpb24ubGVmdD12LmhlbHBlcj9yLmxlZnQ6MCk7bC50b3A8KGkuX2hlbHBlcj9yLnRvcDowKSYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLmhlaWdodCsoaS5faGVscGVyP2kucG9zaXRpb24udG9wLXIudG9wOmkucG9zaXRpb24udG9wKSxmJiYoaS5zaXplLndpZHRoPWkuc2l6ZS5oZWlnaHQqaS5hc3BlY3RSYXRpbyx1PSExKSxpLnBvc2l0aW9uLnRvcD1pLl9oZWxwZXI/ci50b3A6MCk7aD1pLmNvbnRhaW5lckVsZW1lbnQuZ2V0KDApPT09aS5lbGVtZW50LnBhcmVudCgpLmdldCgwKTtjPS9yZWxhdGl2ZXxhYnNvbHV0ZS8udGVzdChpLmNvbnRhaW5lckVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpKTtoJiZjPyhpLm9mZnNldC5sZWZ0PWkucGFyZW50RGF0YS5sZWZ0K2kucG9zaXRpb24ubGVmdCxpLm9mZnNldC50b3A9aS5wYXJlbnREYXRhLnRvcCtpLnBvc2l0aW9uLnRvcCk6KGkub2Zmc2V0LmxlZnQ9aS5lbGVtZW50Lm9mZnNldCgpLmxlZnQsaS5vZmZzZXQudG9wPWkuZWxlbWVudC5vZmZzZXQoKS50b3ApO289TWF0aC5hYnMoaS5zaXplRGlmZi53aWR0aCsoaS5faGVscGVyP2kub2Zmc2V0LmxlZnQtZS5sZWZ0Omkub2Zmc2V0LmxlZnQtci5sZWZ0KSk7cz1NYXRoLmFicyhpLnNpemVEaWZmLmhlaWdodCsoaS5faGVscGVyP2kub2Zmc2V0LnRvcC1lLnRvcDppLm9mZnNldC50b3Atci50b3ApKTtvK2kuc2l6ZS53aWR0aD49aS5wYXJlbnREYXRhLndpZHRoJiYoaS5zaXplLndpZHRoPWkucGFyZW50RGF0YS53aWR0aC1vLGYmJihpLnNpemUuaGVpZ2h0PWkuc2l6ZS53aWR0aC9pLmFzcGVjdFJhdGlvLHU9ITEpKTtzK2kuc2l6ZS5oZWlnaHQ+PWkucGFyZW50RGF0YS5oZWlnaHQmJihpLnNpemUuaGVpZ2h0PWkucGFyZW50RGF0YS5oZWlnaHQtcyxmJiYoaS5zaXplLndpZHRoPWkuc2l6ZS5oZWlnaHQqaS5hc3BlY3RSYXRpbyx1PSExKSk7dXx8KGkucG9zaXRpb24ubGVmdD1pLnByZXZQb3NpdGlvbi5sZWZ0LGkucG9zaXRpb24udG9wPWkucHJldlBvc2l0aW9uLnRvcCxpLnNpemUud2lkdGg9aS5wcmV2U2l6ZS53aWR0aCxpLnNpemUuaGVpZ2h0PWkucHJldlNpemUuaGVpZ2h0KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHI9dC5vcHRpb25zLHU9dC5jb250YWluZXJPZmZzZXQsZj10LmNvbnRhaW5lclBvc2l0aW9uLGU9dC5jb250YWluZXJFbGVtZW50LGk9bih0LmhlbHBlciksbz1pLm9mZnNldCgpLHM9aS5vdXRlcldpZHRoKCktdC5zaXplRGlmZi53aWR0aCxoPWkub3V0ZXJIZWlnaHQoKS10LnNpemVEaWZmLmhlaWdodDt0Ll9oZWxwZXImJiFyLmFuaW1hdGUmJi9yZWxhdGl2ZS8udGVzdChlLmNzcygicG9zaXRpb24iKSkmJm4odGhpcykuY3NzKHtsZWZ0Om8ubGVmdC1mLmxlZnQtdS5sZWZ0LHdpZHRoOnMsaGVpZ2h0Omh9KTt0Ll9oZWxwZXImJiFyLmFuaW1hdGUmJi9zdGF0aWMvLnRlc3QoZS5jc3MoInBvc2l0aW9uIikpJiZuKHRoaXMpLmNzcyh7bGVmdDpvLmxlZnQtZi5sZWZ0LXUubGVmdCx3aWR0aDpzLGhlaWdodDpofSl9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbHNvUmVzaXplIix7c3RhcnQ6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxpPXQub3B0aW9ucztuKGkuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5kYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIse3dpZHRoOnBhcnNlRmxvYXQodC53aWR0aCgpKSxoZWlnaHQ6cGFyc2VGbG9hdCh0LmhlaWdodCgpKSxsZWZ0OnBhcnNlRmxvYXQodC5jc3MoImxlZnQiKSksdG9wOnBhcnNlRmxvYXQodC5jc3MoInRvcCIpKX0pfSl9LHJlc2l6ZTpmdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGU9ci5vcHRpb25zLHU9ci5vcmlnaW5hbFNpemUsZj1yLm9yaWdpbmFsUG9zaXRpb24sbz17aGVpZ2h0OnIuc2l6ZS5oZWlnaHQtdS5oZWlnaHR8fDAsd2lkdGg6ci5zaXplLndpZHRoLXUud2lkdGh8fDAsdG9wOnIucG9zaXRpb24udG9wLWYudG9wfHwwLGxlZnQ6ci5wb3NpdGlvbi5sZWZ0LWYubGVmdHx8MH07bihlLmFsc29SZXNpemUpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLHU9bih0aGlzKS5kYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIpLHI9e30sZj10LnBhcmVudHMoaS5vcmlnaW5hbEVsZW1lbnRbMF0pLmxlbmd0aD9bIndpZHRoIiwiaGVpZ2h0Il06WyJ3aWR0aCIsImhlaWdodCIsInRvcCIsImxlZnQiXTtuLmVhY2goZixmdW5jdGlvbihuLHQpe3ZhciBpPSh1W3RdfHwwKSsob1t0XXx8MCk7aSYmaT49MCYmKHJbdF09aXx8bnVsbCl9KTt0LmNzcyhyKX0pfSxzdG9wOmZ1bmN0aW9uKCl7bih0aGlzKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUtYWxzb3Jlc2l6ZSIpfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ2hvc3QiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5zaXplO3QuZ2hvc3Q9dC5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKTt0Lmdob3N0LmNzcyh7b3BhY2l0eTouMjUsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OmkuaGVpZ2h0LHdpZHRoOmkud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSk7dC5fYWRkQ2xhc3ModC5naG9zdCwidWktcmVzaXphYmxlLWdob3N0Iik7bi51aUJhY2tDb21wYXQhPT0hMSYmInN0cmluZyI9PXR5cGVvZiB0Lm9wdGlvbnMuZ2hvc3QmJnQuZ2hvc3QuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmdob3N0KTt0Lmdob3N0LmFwcGVuZFRvKHQuaGVscGVyKX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIik7dC5naG9zdCYmdC5naG9zdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OnQuc2l6ZS5oZWlnaHQsd2lkdGg6dC5zaXplLndpZHRofSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0LmhlbHBlciYmdC5oZWxwZXIuZ2V0KDApLnJlbW92ZUNoaWxkKHQuZ2hvc3QuZ2V0KDApKX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdyaWQiLHtyZXNpemU6ZnVuY3Rpb24oKXt2YXIgaCx0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zLHk9dC5zaXplLG89dC5vcmlnaW5hbFNpemUscz10Lm9yaWdpbmFsUG9zaXRpb24sYz10LmF4aXMsbD0ibnVtYmVyIj09dHlwZW9mIGkuZ3JpZD9baS5ncmlkLGkuZ3JpZF06aS5ncmlkLGY9bFswXXx8MSxlPWxbMV18fDEsYT1NYXRoLnJvdW5kKCh5LndpZHRoLW8ud2lkdGgpL2YpKmYsdj1NYXRoLnJvdW5kKCh5LmhlaWdodC1vLmhlaWdodCkvZSkqZSxyPW8ud2lkdGgrYSx1PW8uaGVpZ2h0K3YscD1pLm1heFdpZHRoJiZyPmkubWF4V2lkdGgsdz1pLm1heEhlaWdodCYmdT5pLm1heEhlaWdodCxiPWkubWluV2lkdGgmJmkubWluV2lkdGg+cixrPWkubWluSGVpZ2h0JiZpLm1pbkhlaWdodD51O2kuZ3JpZD1sO2ImJihyKz1mKTtrJiYodSs9ZSk7cCYmKHItPWYpO3cmJih1LT1lKTsvXihzZXxzfGUpJC8udGVzdChjKT8odC5zaXplLndpZHRoPXIsdC5zaXplLmhlaWdodD11KTovXihuZSkkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi50b3A9cy50b3Atdik6L14oc3cpJC8udGVzdChjKT8odC5zaXplLndpZHRoPXIsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24ubGVmdD1zLmxlZnQtYSk6KCgwPj11LWV8fDA+PXItZikmJihoPXQuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyh0aGlzKSksdS1lPjA/KHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1zLnRvcC12KToodT1lLWguaGVpZ2h0LHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1zLnRvcCtvLmhlaWdodC11KSxyLWY+MD8odC5zaXplLndpZHRoPXIsdC5wb3NpdGlvbi5sZWZ0PXMubGVmdC1hKToocj1mLWgud2lkdGgsdC5zaXplLndpZHRoPXIsdC5wb3NpdGlvbi5sZWZ0PXMubGVmdCtvLndpZHRoLXIpKX19KTtuLnVpLnJlc2l6YWJsZTtuLndpZGdldCgidWkuZGlhbG9nIix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b09wZW46ITAsYnV0dG9uczpbXSxjbGFzc2VzOnsidWktZGlhbG9nIjoidWktY29ybmVyLWFsbCIsInVpLWRpYWxvZy10aXRsZWJhciI6InVpLWNvcm5lci1hbGwifSxjbG9zZU9uRXNjYXBlOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLGRyYWdnYWJsZTohMCxoaWRlOm51bGwsaGVpZ2h0OiJhdXRvIixtYXhIZWlnaHQ6bnVsbCxtYXhXaWR0aDpudWxsLG1pbkhlaWdodDoxNTAsbWluV2lkdGg6MTUwLG1vZGFsOiExLHBvc2l0aW9uOntteToiY2VudGVyIixhdDoiY2VudGVyIiwib2YiOndpbmRvdyxjb2xsaXNpb246ImZpdCIsdXNpbmc6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5jc3ModCkub2Zmc2V0KCkudG9wOzA+aSYmbih0aGlzKS5jc3MoInRvcCIsdC50b3AtaSl9fSxyZXNpemFibGU6ITAsc2hvdzpudWxsLHRpdGxlOm51bGwsd2lkdGg6MzAwLGJlZm9yZUNsb3NlOm51bGwsY2xvc2U6bnVsbCxkcmFnOm51bGwsZHJhZ1N0YXJ0Om51bGwsZHJhZ1N0b3A6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxyZXNpemU6bnVsbCxyZXNpemVTdGFydDpudWxsLHJlc2l6ZVN0b3A6bnVsbH0sc2l6ZVJlbGF0ZWRPcHRpb25zOntidXR0b25zOiEwLGhlaWdodDohMCxtYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwLHdpZHRoOiEwfSxyZXNpemFibGVSZWxhdGVkT3B0aW9uczp7bWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3JpZ2luYWxDc3M9e2Rpc3BsYXk6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmRpc3BsYXksd2lkdGg6dGhpcy5lbGVtZW50WzBdLnN0eWxlLndpZHRoLG1pbkhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUubWluSGVpZ2h0LG1heEhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUubWF4SGVpZ2h0LGhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0fTt0aGlzLm9yaWdpbmFsUG9zaXRpb249e3BhcmVudDp0aGlzLmVsZW1lbnQucGFyZW50KCksaW5kZXg6dGhpcy5lbGVtZW50LnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXgodGhpcy5lbGVtZW50KX07dGhpcy5vcmlnaW5hbFRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpO251bGw9PXRoaXMub3B0aW9ucy50aXRsZSYmbnVsbCE9dGhpcy5vcmlnaW5hbFRpdGxlJiYodGhpcy5vcHRpb25zLnRpdGxlPXRoaXMub3JpZ2luYWxUaXRsZSk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSExKTt0aGlzLl9jcmVhdGVXcmFwcGVyKCk7dGhpcy5lbGVtZW50LnNob3coKS5yZW1vdmVBdHRyKCJ0aXRsZSIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2cpO3RoaXMuX2FkZENsYXNzKCJ1aS1kaWFsb2ctY29udGVudCIsInVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fY3JlYXRlVGl0bGViYXIoKTt0aGlzLl9jcmVhdGVCdXR0b25QYW5lKCk7dGhpcy5vcHRpb25zLmRyYWdnYWJsZSYmbi5mbi5kcmFnZ2FibGUmJnRoaXMuX21ha2VEcmFnZ2FibGUoKTt0aGlzLm9wdGlvbnMucmVzaXphYmxlJiZuLmZuLnJlc2l6YWJsZSYmdGhpcy5fbWFrZVJlc2l6YWJsZSgpO3RoaXMuX2lzT3Blbj0hMTt0aGlzLl90cmFja0ZvY3VzKCl9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF1dG9PcGVuJiZ0aGlzLm9wZW4oKX0sX2FwcGVuZFRvOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmFwcGVuZFRvO3JldHVybiB0JiYodC5qcXVlcnl8fHQubm9kZVR5cGUpP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHR8fCJib2R5IikuZXEoMCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG4sdD10aGlzLm9yaWdpbmFsUG9zaXRpb247dGhpcy5fdW50cmFja0luc3RhbmNlKCk7dGhpcy5fZGVzdHJveU92ZXJsYXkoKTt0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKS5jc3ModGhpcy5vcmlnaW5hbENzcykuZGV0YWNoKCk7dGhpcy51aURpYWxvZy5yZW1vdmUoKTt0aGlzLm9yaWdpbmFsVGl0bGUmJnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIsdGhpcy5vcmlnaW5hbFRpdGxlKTtuPXQucGFyZW50LmNoaWxkcmVuKCkuZXEodC5pbmRleCk7bi5sZW5ndGgmJm5bMF0hPT10aGlzLmVsZW1lbnRbMF0/bi5iZWZvcmUodGhpcy5lbGVtZW50KTp0LnBhcmVudC5hcHBlbmQodGhpcy5lbGVtZW50KX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlEaWFsb2d9LGRpc2FibGU6bi5ub29wLGVuYWJsZTpuLm5vb3AsY2xvc2U6ZnVuY3Rpb24odCl7dmFyIGk9dGhpczt0aGlzLl9pc09wZW4mJnRoaXMuX3RyaWdnZXIoImJlZm9yZUNsb3NlIix0KSE9PSExJiYodGhpcy5faXNPcGVuPSExLHRoaXMuX2ZvY3VzZWRFbGVtZW50PW51bGwsdGhpcy5fZGVzdHJveU92ZXJsYXkoKSx0aGlzLl91bnRyYWNrSW5zdGFuY2UoKSx0aGlzLm9wZW5lci5maWx0ZXIoIjpmb2N1c2FibGUiKS50cmlnZ2VyKCJmb2N1cyIpLmxlbmd0aHx8bi51aS5zYWZlQmx1cihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKSx0aGlzLl9oaWRlKHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtpLl90cmlnZ2VyKCJjbG9zZSIsdCl9KSl9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZW59LG1vdmVUb1RvcDpmdW5jdGlvbigpe3RoaXMuX21vdmVUb1RvcCgpfSxfbW92ZVRvVG9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9ITEsZj10aGlzLnVpRGlhbG9nLnNpYmxpbmdzKCIudWktZnJvbnQ6dmlzaWJsZSIpLm1hcChmdW5jdGlvbigpe3JldHVybituKHRoaXMpLmNzcygiei1pbmRleCIpfSkuZ2V0KCksdT1NYXRoLm1heC5hcHBseShudWxsLGYpO3JldHVybiB1Pj0rdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKSYmKHRoaXMudWlEaWFsb2cuY3NzKCJ6LWluZGV4Iix1KzEpLHI9ITApLHImJiFpJiZ0aGlzLl90cmlnZ2VyKCJmb2N1cyIsdCkscn0sb3BlbjpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX2lzT3Blbj8odGhpcy5fbW92ZVRvVG9wKCkmJnRoaXMuX2ZvY3VzVGFiYmFibGUoKSx2b2lkIDApOih0aGlzLl9pc09wZW49ITAsdGhpcy5vcGVuZXI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKSx0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9jcmVhdGVPdmVybGF5KCksdGhpcy5fbW92ZVRvVG9wKG51bGwsITApLHRoaXMub3ZlcmxheSYmdGhpcy5vdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKS0xKSx0aGlzLl9zaG93KHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLnNob3csZnVuY3Rpb24oKXt0Ll9mb2N1c1RhYmJhYmxlKCk7dC5fdHJpZ2dlcigiZm9jdXMiKX0pLHRoaXMuX21ha2VGb2N1c1RhcmdldCgpLHRoaXMuX3RyaWdnZXIoIm9wZW4iKSx2b2lkIDApfSxfZm9jdXNUYWJiYWJsZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX2ZvY3VzZWRFbGVtZW50O258fChuPXRoaXMuZWxlbWVudC5maW5kKCJbYXV0b2ZvY3VzXSIpKTtuLmxlbmd0aHx8KG49dGhpcy5lbGVtZW50LmZpbmQoIjp0YWJiYWJsZSIpKTtuLmxlbmd0aHx8KG49dGhpcy51aURpYWxvZ0J1dHRvblBhbmUuZmluZCgiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5maWx0ZXIoIjp0YWJiYWJsZSIpKTtuLmxlbmd0aHx8KG49dGhpcy51aURpYWxvZyk7bi5lcSgwKS50cmlnZ2VyKCJmb2N1cyIpfSxfa2VlcEZvY3VzOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGkoKXt2YXIgdD1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pLGk9dGhpcy51aURpYWxvZ1swXT09PXR8fG4uY29udGFpbnModGhpcy51aURpYWxvZ1swXSx0KTtpfHx0aGlzLl9mb2N1c1RhYmJhYmxlKCl9dC5wcmV2ZW50RGVmYXVsdCgpO2kuY2FsbCh0aGlzKTt0aGlzLl9kZWxheShpKX0sX2NyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nPW4oIjxkaXY+IikuaGlkZSgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6ImRpYWxvZyJ9KS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nLCJ1aS1kaWFsb2ciLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLnVpRGlhbG9nLHtrZXlkb3duOmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjYXBlJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmdC5rZXlDb2RlJiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuRVNDQVBFKXJldHVybiB0LnByZXZlbnREZWZhdWx0KCksdGhpcy5jbG9zZSh0KSx2b2lkIDA7aWYodC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlRBQiYmIXQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBpPXRoaXMudWlEaWFsb2cuZmluZCgiOnRhYmJhYmxlIikscj1pLmZpbHRlcigiOmZpcnN0IiksdT1pLmZpbHRlcigiOmxhc3QiKTt0LnRhcmdldCE9PXVbMF0mJnQudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8dC5zaGlmdEtleT90LnRhcmdldCE9PXJbMF0mJnQudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8IXQuc2hpZnRLZXl8fCh0aGlzLl9kZWxheShmdW5jdGlvbigpe3UudHJpZ2dlcigiZm9jdXMiKX0pLHQucHJldmVudERlZmF1bHQoKSk6KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ci50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKX19LG1vdXNlZG93bjpmdW5jdGlvbihuKXt0aGlzLl9tb3ZlVG9Ub3AobikmJnRoaXMuX2ZvY3VzVGFiYmFibGUoKX19KTt0aGlzLmVsZW1lbnQuZmluZCgiW2FyaWEtZGVzY3JpYmVkYnldIikubGVuZ3RofHx0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWRlc2NyaWJlZGJ5Ijp0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpfSl9LF9jcmVhdGVUaXRsZWJhcjpmdW5jdGlvbigpe3ZhciB0O3RoaXMudWlEaWFsb2dUaXRsZWJhcj1uKCI8ZGl2PiIpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2dUaXRsZWJhciwidWktZGlhbG9nLXRpdGxlYmFyIiwidWktd2lkZ2V0LWhlYWRlciB1aS1oZWxwZXItY2xlYXJmaXgiKTt0aGlzLl9vbih0aGlzLnVpRGlhbG9nVGl0bGViYXIse21vdXNlZG93bjpmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIil8fHRoaXMudWlEaWFsb2cudHJpZ2dlcigiZm9jdXMiKX19KTt0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZT1uKCI8YnV0dG9uIHR5cGU9J2J1dHRvbic+PFwvYnV0dG9uPiIpLmJ1dHRvbih7bGFiZWw6bigiPGE+IikudGV4dCh0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCksaWNvbjoidWktaWNvbi1jbG9zZXRoaWNrIixzaG93TGFiZWw6ITF9KS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nVGl0bGViYXIpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLCJ1aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKTt0aGlzLl9vbih0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSx7Y2xpY2s6ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3RoaXMuY2xvc2Uobil9fSk7dD1uKCI8c3Bhbj4iKS51bmlxdWVJZCgpLnByZXBlbmRUbyh0aGlzLnVpRGlhbG9nVGl0bGViYXIpO3RoaXMuX2FkZENsYXNzKHQsInVpLWRpYWxvZy10aXRsZSIpO3RoaXMuX3RpdGxlKHQpO3RoaXMudWlEaWFsb2dUaXRsZWJhci5wcmVwZW5kVG8odGhpcy51aURpYWxvZyk7dGhpcy51aURpYWxvZy5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5Ijp0LmF0dHIoImlkIil9KX0sX3RpdGxlOmZ1bmN0aW9uKG4pe3RoaXMub3B0aW9ucy50aXRsZT9uLnRleHQodGhpcy5vcHRpb25zLnRpdGxlKTpuLmh0bWwoIiYjMTYwOyIpfSxfY3JlYXRlQnV0dG9uUGFuZTpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2dCdXR0b25QYW5lPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ0J1dHRvblBhbmUsInVpLWRpYWxvZy1idXR0b25wYW5lIiwidWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4Iik7dGhpcy51aUJ1dHRvblNldD1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpQnV0dG9uU2V0LCJ1aS1kaWFsb2ctYnV0dG9uc2V0Iik7dGhpcy5fY3JlYXRlQnV0dG9ucygpfSxfY3JlYXRlQnV0dG9uczpmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD10aGlzLm9wdGlvbnMuYnV0dG9ucztyZXR1cm4gdGhpcy51aURpYWxvZ0J1dHRvblBhbmUucmVtb3ZlKCksdGhpcy51aUJ1dHRvblNldC5lbXB0eSgpLG4uaXNFbXB0eU9iamVjdCh0KXx8bi5pc0FycmF5KHQpJiYhdC5sZW5ndGg/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIiksdm9pZCAwKToobi5lYWNoKHQsZnVuY3Rpb24odCxyKXt2YXIgdSxmO3I9bi5pc0Z1bmN0aW9uKHIpP3tjbGljazpyLHRleHQ6dH06cjtyPW4uZXh0ZW5kKHt0eXBlOiJidXR0b24ifSxyKTt1PXIuY2xpY2s7Zj17aWNvbjpyLmljb24saWNvblBvc2l0aW9uOnIuaWNvblBvc2l0aW9uLHNob3dMYWJlbDpyLnNob3dMYWJlbCxpY29uczpyLmljb25zLHRleHQ6ci50ZXh0fTtkZWxldGUgci5jbGljaztkZWxldGUgci5pY29uO2RlbGV0ZSByLmljb25Qb3NpdGlvbjtkZWxldGUgci5zaG93TGFiZWw7ZGVsZXRlIHIuaWNvbnM7ImJvb2xlYW4iPT10eXBlb2Ygci50ZXh0JiZkZWxldGUgci50ZXh0O24oIjxidXR0b24+PFwvYnV0dG9uPiIscikuYnV0dG9uKGYpLmFwcGVuZFRvKGkudWlCdXR0b25TZXQpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt1LmFwcGx5KGkuZWxlbWVudFswXSxhcmd1bWVudHMpfSl9KSx0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nLCJ1aS1kaWFsb2ctYnV0dG9ucyIpLHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLmFwcGVuZFRvKHRoaXMudWlEaWFsb2cpLHZvaWQgMCl9LF9tYWtlRHJhZ2dhYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShuKXtyZXR1cm57cG9zaXRpb246bi5wb3NpdGlvbixvZmZzZXQ6bi5vZmZzZXR9fXZhciB0PXRoaXMscj10aGlzLm9wdGlvbnM7dGhpcy51aURpYWxvZy5kcmFnZ2FibGUoe2NhbmNlbDoiLnVpLWRpYWxvZy1jb250ZW50LCAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIixoYW5kbGU6Ii51aS1kaWFsb2ctdGl0bGViYXIiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsc3RhcnQ6ZnVuY3Rpb24ocix1KXt0Ll9hZGRDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKTt0Ll9ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoImRyYWdTdGFydCIscixpKHUpKX0sZHJhZzpmdW5jdGlvbihuLHIpe3QuX3RyaWdnZXIoImRyYWciLG4saShyKSl9LHN0b3A6ZnVuY3Rpb24odSxmKXt2YXIgZT1mLm9mZnNldC5sZWZ0LXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLG89Zi5vZmZzZXQudG9wLXQuZG9jdW1lbnQuc2Nyb2xsVG9wKCk7ci5wb3NpdGlvbj17bXk6ImxlZnQgdG9wIixhdDoibGVmdCIrKGU+PTA/IisiOiIiKStlKyIgdG9wIisobz49MD8iKyI6IiIpK28sIm9mIjp0LndpbmRvd307dC5fcmVtb3ZlQ2xhc3Mobih0aGlzKSwidWktZGlhbG9nLWRyYWdnaW5nIik7dC5fdW5ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoImRyYWdTdG9wIix1LGkoZikpfX0pfSxfbWFrZVJlc2l6YWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIHIobil7cmV0dXJue29yaWdpbmFsUG9zaXRpb246bi5vcmlnaW5hbFBvc2l0aW9uLG9yaWdpbmFsU2l6ZTpuLm9yaWdpbmFsU2l6ZSxwb3NpdGlvbjpuLnBvc2l0aW9uLHNpemU6bi5zaXplfX12YXIgdD10aGlzLGk9dGhpcy5vcHRpb25zLHU9aS5yZXNpemFibGUsZj10aGlzLnVpRGlhbG9nLmNzcygicG9zaXRpb24iKSxlPSJzdHJpbmciPT10eXBlb2YgdT91OiJuLGUscyx3LHNlLHN3LG5lLG53Ijt0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsYWxzb1Jlc2l6ZTp0aGlzLmVsZW1lbnQsbWF4V2lkdGg6aS5tYXhXaWR0aCxtYXhIZWlnaHQ6aS5tYXhIZWlnaHQsbWluV2lkdGg6aS5taW5XaWR0aCxtaW5IZWlnaHQ6dGhpcy5fbWluSGVpZ2h0KCksaGFuZGxlczplLHN0YXJ0OmZ1bmN0aW9uKGksdSl7dC5fYWRkQ2xhc3Mobih0aGlzKSwidWktZGlhbG9nLXJlc2l6aW5nIik7dC5fYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJyZXNpemVTdGFydCIsaSxyKHUpKX0scmVzaXplOmZ1bmN0aW9uKG4saSl7dC5fdHJpZ2dlcigicmVzaXplIixuLHIoaSkpfSxzdG9wOmZ1bmN0aW9uKHUsZil7dmFyIGU9dC51aURpYWxvZy5vZmZzZXQoKSxvPWUubGVmdC10LmRvY3VtZW50LnNjcm9sbExlZnQoKSxzPWUudG9wLXQuZG9jdW1lbnQuc2Nyb2xsVG9wKCk7aS5oZWlnaHQ9dC51aURpYWxvZy5oZWlnaHQoKTtpLndpZHRoPXQudWlEaWFsb2cud2lkdGgoKTtpLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0Iisobz49MD8iKyI6IiIpK28rIiB0b3AiKyhzPj0wPyIrIjoiIikrcywib2YiOnQud2luZG93fTt0Ll9yZW1vdmVDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctcmVzaXppbmciKTt0Ll91bmJsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigicmVzaXplU3RvcCIsdSxyKGYpKX19KS5jc3MoInBvc2l0aW9uIixmKX0sX3RyYWNrRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpZGdldCgpLHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX21ha2VGb2N1c1RhcmdldCgpO3RoaXMuX2ZvY3VzZWRFbGVtZW50PW4odC50YXJnZXQpfX0pfSxfbWFrZUZvY3VzVGFyZ2V0OmZ1bmN0aW9uKCl7dGhpcy5fdW50cmFja0luc3RhbmNlKCk7dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKS51bnNoaWZ0KHRoaXMpfSxfdW50cmFja0luc3RhbmNlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKSxpPW4uaW5BcnJheSh0aGlzLHQpOy0xIT09aSYmdC5zcGxpY2UoaSwxKX0sX3RyYWNraW5nSW5zdGFuY2VzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIik7cmV0dXJuIG58fChuPVtdLHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLWluc3RhbmNlcyIsbikpLG59LF9taW5IZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnM7cmV0dXJuImF1dG8iPT09bi5oZWlnaHQ/bi5taW5IZWlnaHQ6TWF0aC5taW4obi5taW5IZWlnaHQsbi5oZWlnaHQpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnVpRGlhbG9nLmlzKCI6dmlzaWJsZSIpO258fHRoaXMudWlEaWFsb2cuc2hvdygpO3RoaXMudWlEaWFsb2cucG9zaXRpb24odGhpcy5vcHRpb25zLnBvc2l0aW9uKTtufHx0aGlzLnVpRGlhbG9nLmhpZGUoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxyPSExLHU9e307bi5lYWNoKHQsZnVuY3Rpb24obix0KXtpLl9zZXRPcHRpb24obix0KTtuIGluIGkuc2l6ZVJlbGF0ZWRPcHRpb25zJiYocj0hMCk7biBpbiBpLnJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zJiYodVtuXT10KX0pO3ImJih0aGlzLl9zaXplKCksdGhpcy5fcG9zaXRpb24oKSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIix1KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciBmLHUscj10aGlzLnVpRGlhbG9nOyJkaXNhYmxlZCIhPT10JiYodGhpcy5fc3VwZXIodCxpKSwiYXBwZW5kVG8iPT09dCYmdGhpcy51aURpYWxvZy5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSwiYnV0dG9ucyI9PT10JiZ0aGlzLl9jcmVhdGVCdXR0b25zKCksImNsb3NlVGV4dCI9PT10JiZ0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5idXR0b24oe2xhYmVsOm4oIjxhPiIpLnRleHQoIiIrdGhpcy5vcHRpb25zLmNsb3NlVGV4dCkuaHRtbCgpfSksImRyYWdnYWJsZSI9PT10JiYoZj1yLmlzKCI6ZGF0YSh1aS1kcmFnZ2FibGUpIiksZiYmIWkmJnIuZHJhZ2dhYmxlKCJkZXN0cm95IiksIWYmJmkmJnRoaXMuX21ha2VEcmFnZ2FibGUoKSksInBvc2l0aW9uIj09PXQmJnRoaXMuX3Bvc2l0aW9uKCksInJlc2l6YWJsZSI9PT10JiYodT1yLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIiksdSYmIWkmJnIucmVzaXphYmxlKCJkZXN0cm95IiksdSYmInN0cmluZyI9PXR5cGVvZiBpJiZyLnJlc2l6YWJsZSgib3B0aW9uIiwiaGFuZGxlcyIsaSksdXx8aT09PSExfHx0aGlzLl9tYWtlUmVzaXphYmxlKCkpLCJ0aXRsZSI9PT10JiZ0aGlzLl90aXRsZSh0aGlzLnVpRGlhbG9nVGl0bGViYXIuZmluZCgiLnVpLWRpYWxvZy10aXRsZSIpKSl9LF9zaXplOmZ1bmN0aW9uKCl7dmFyIHQsaSxyLG49dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudC5zaG93KCkuY3NzKHt3aWR0aDoiYXV0byIsbWluSGVpZ2h0OjAsbWF4SGVpZ2h0OiJub25lIixoZWlnaHQ6MH0pO24ubWluV2lkdGg+bi53aWR0aCYmKG4ud2lkdGg9bi5taW5XaWR0aCk7dD10aGlzLnVpRGlhbG9nLmNzcyh7aGVpZ2h0OiJhdXRvIix3aWR0aDpuLndpZHRofSkub3V0ZXJIZWlnaHQoKTtpPU1hdGgubWF4KDAsbi5taW5IZWlnaHQtdCk7cj0ibnVtYmVyIj09dHlwZW9mIG4ubWF4SGVpZ2h0P01hdGgubWF4KDAsbi5tYXhIZWlnaHQtdCk6Im5vbmUiOyJhdXRvIj09PW4uaGVpZ2h0P3RoaXMuZWxlbWVudC5jc3Moe21pbkhlaWdodDppLG1heEhlaWdodDpyLGhlaWdodDoiYXV0byJ9KTp0aGlzLmVsZW1lbnQuaGVpZ2h0KE1hdGgubWF4KDAsbi5oZWlnaHQtdCkpO3RoaXMudWlEaWFsb2cuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSYmdGhpcy51aURpYWxvZy5yZXNpemFibGUoIm9wdGlvbiIsIm1pbkhlaWdodCIsdGhpcy5fbWluSGVpZ2h0KCkpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2Nrcz10aGlzLmRvY3VtZW50LmZpbmQoImlmcmFtZSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7cmV0dXJuIG4oIjxkaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHdpZHRoOnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0Lm91dGVySGVpZ2h0KCl9KS5hcHBlbmRUbyh0LnBhcmVudCgpKS5vZmZzZXQodC5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9hbGxvd0ludGVyYWN0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGlhbG9nIikubGVuZ3RoPyEwOiEhbih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWRhdGVwaWNrZXIiKS5sZW5ndGh9LF9jcmVhdGVPdmVybGF5OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLm1vZGFsKXt2YXIgdD0hMDt0aGlzLl9kZWxheShmdW5jdGlvbigpe3Q9ITF9KTt0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpfHx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtmb2N1c2luOmZ1bmN0aW9uKG4pe3R8fHRoaXMuX2FsbG93SW50ZXJhY3Rpb24obil8fChuLnByZXZlbnREZWZhdWx0KCksdGhpcy5fdHJhY2tpbmdJbnN0YW5jZXMoKVswXS5fZm9jdXNUYWJiYWJsZSgpKX19KTt0aGlzLm92ZXJsYXk9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLm92ZXJsYXksbnVsbCwidWktd2lkZ2V0LW92ZXJsYXkgdWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLm92ZXJsYXkse21vdXNlZG93bjoiX2tlZXBGb2N1cyJ9KTt0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIsKHRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fDApKzEpfX0sX2Rlc3Ryb3lPdmVybGF5OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLm1vZGFsJiZ0aGlzLm92ZXJsYXkpe3ZhciBuPXRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIiktMTtuP3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIixuKToodGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsImZvY3VzaW4iKSx0aGlzLmRvY3VtZW50LnJlbW92ZURhdGEoInVpLWRpYWxvZy1vdmVybGF5cyIpKTt0aGlzLm92ZXJsYXkucmVtb3ZlKCk7dGhpcy5vdmVybGF5PW51bGx9fX0pO24udWlCYWNrQ29tcGF0IT09ITEmJm4ud2lkZ2V0KCJ1aS5kaWFsb2ciLG4udWkuZGlhbG9nLHtvcHRpb25zOntkaWFsb2dDbGFzczoiIn0sX2NyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMudWlEaWFsb2cuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpeyJkaWFsb2dDbGFzcyI9PT1uJiZ0aGlzLnVpRGlhbG9nLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcykuYWRkQ2xhc3ModCk7dGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpfX0pO24udWkuZGlhbG9nO24ud2lkZ2V0KCJ1aS5kcm9wcGFibGUiLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJkcm9wIixvcHRpb25zOnthY2NlcHQ6IioiLGFkZENsYXNzZXM6ITAsZ3JlZWR5OiExLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsYWN0aXZhdGU6bnVsbCxkZWFjdGl2YXRlOm51bGwsZHJvcDpudWxsLG91dDpudWxsLG92ZXI6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5vcHRpb25zLHI9aS5hY2NlcHQ7dGhpcy5pc292ZXI9ITE7dGhpcy5pc291dD0hMDt0aGlzLmFjY2VwdD1uLmlzRnVuY3Rpb24ocik/cjpmdW5jdGlvbihuKXtyZXR1cm4gbi5pcyhyKX07dGhpcy5wcm9wb3J0aW9ucz1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PWFyZ3VtZW50c1swXSx2b2lkIDApOnQ/dDp0PXt3aWR0aDp0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9fTt0aGlzLl9hZGRUb01hbmFnZXIoaS5zY29wZSk7aS5hZGRDbGFzc2VzJiZ0aGlzLl9hZGRDbGFzcygidWktZHJvcHBhYmxlIil9LF9hZGRUb01hbmFnZXI6ZnVuY3Rpb24odCl7bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0XT1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdfHxbXTtuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdLnB1c2godGhpcyl9LF9zcGxpY2U6ZnVuY3Rpb24obil7Zm9yKHZhciB0PTA7bi5sZW5ndGg+dDt0Kyspblt0XT09PXRoaXMmJm4uc3BsaWNlKHQsMSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdO3RoaXMuX3NwbGljZSh0KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe2lmKCJhY2NlcHQiPT09dCl0aGlzLmFjY2VwdD1uLmlzRnVuY3Rpb24oaSk/aTpmdW5jdGlvbihuKXtyZXR1cm4gbi5pcyhpKX07ZWxzZSBpZigic2NvcGUiPT09dCl7dmFyIHI9bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0aGlzLm9wdGlvbnMuc2NvcGVdO3RoaXMuX3NwbGljZShyKTt0aGlzLl9hZGRUb01hbmFnZXIoaSl9dGhpcy5fc3VwZXIodCxpKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPW4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5fYWRkQWN0aXZlQ2xhc3MoKTtpJiZ0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsdCx0aGlzLnVpKGkpKX0sX2RlYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpO2kmJnRoaXMuX3RyaWdnZXIoImRlYWN0aXZhdGUiLHQsdGhpcy51aShpKSl9LF9vdmVyOmZ1bmN0aW9uKHQpe3ZhciBpPW4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ7aSYmKGkuY3VycmVudEl0ZW18fGkuZWxlbWVudClbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLGkuY3VycmVudEl0ZW18fGkuZWxlbWVudCkmJih0aGlzLl9hZGRIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLnVpKGkpKSl9LF9vdXQ6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdXQiLHQsdGhpcy51aShpKSkpfSxfZHJvcDpmdW5jdGlvbih0LGkpe3ZhciByPWl8fG4udWkuZGRtYW5hZ2VyLmN1cnJlbnQsdT0hMTtyZXR1cm4gciYmKHIuY3VycmVudEl0ZW18fHIuZWxlbWVudClbMF0hPT10aGlzLmVsZW1lbnRbMF0/KHRoaXMuZWxlbWVudC5maW5kKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikubm90KCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuZHJvcHBhYmxlKCJpbnN0YW5jZSIpO2lmKGkub3B0aW9ucy5ncmVlZHkmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmkub3B0aW9ucy5zY29wZT09PXIub3B0aW9ucy5zY29wZSYmaS5hY2NlcHQuY2FsbChpLmVsZW1lbnRbMF0sci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KSYmZShyLG4uZXh0ZW5kKGkse29mZnNldDppLmVsZW1lbnQub2Zmc2V0KCl9KSxpLm9wdGlvbnMudG9sZXJhbmNlLHQpKXJldHVybih1PSEwLCExKX0pLHU/ITE6dGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KT8odGhpcy5fcmVtb3ZlQWN0aXZlQ2xhc3MoKSx0aGlzLl9yZW1vdmVIb3ZlckNsYXNzKCksdGhpcy5fdHJpZ2dlcigiZHJvcCIsdCx0aGlzLnVpKHIpKSx0aGlzLmVsZW1lbnQpOiExKTohMX0sdWk6ZnVuY3Rpb24obil7cmV0dXJue2RyYWdnYWJsZTpuLmN1cnJlbnRJdGVtfHxuLmVsZW1lbnQsaGVscGVyOm4uaGVscGVyLHBvc2l0aW9uOm4ucG9zaXRpb24sb2Zmc2V0Om4ucG9zaXRpb25BYnN9fSxfYWRkSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUtaG92ZXIiKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcygidWktZHJvcHBhYmxlLWhvdmVyIil9LF9hZGRBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUtYWN0aXZlIil9LF9yZW1vdmVBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUtYWN0aXZlIil9fSk7ZT1uLnVpLmludGVyc2VjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0LGkpe3JldHVybiBuPj10JiZ0K2k+bn1yZXR1cm4gZnVuY3Rpb24odCxpLHIsdSl7aWYoIWkub2Zmc2V0KXJldHVybiExO3ZhciBvPSh0LnBvc2l0aW9uQWJzfHx0LnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0K3QubWFyZ2lucy5sZWZ0LHM9KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLnRvcCt0Lm1hcmdpbnMudG9wLGg9byt0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLGM9cyt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxmPWkub2Zmc2V0LmxlZnQsZT1pLm9mZnNldC50b3AsbD1mK2kucHJvcG9ydGlvbnMoKS53aWR0aCxhPWUraS5wcm9wb3J0aW9ucygpLmhlaWdodDtzd2l0Y2gocil7Y2FzZSJmaXQiOnJldHVybiBvPj1mJiZsPj1oJiZzPj1lJiZhPj1jO2Nhc2UiaW50ZXJzZWN0IjpyZXR1cm4gbyt0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI+ZiYmbD5oLXQuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmcyt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yPmUmJmE+Yy10LmhlbHBlclByb3BvcnRpb25zLmhlaWdodC8yO2Nhc2UicG9pbnRlciI6cmV0dXJuIG4odS5wYWdlWSxlLGkucHJvcG9ydGlvbnMoKS5oZWlnaHQpJiZuKHUucGFnZVgsZixpLnByb3BvcnRpb25zKCkud2lkdGgpO2Nhc2UidG91Y2giOnJldHVybihzPj1lJiZhPj1zfHxjPj1lJiZhPj1jfHxlPnMmJmM+YSkmJihvPj1mJiZsPj1vfHxoPj1mJiZsPj1ofHxmPm8mJmg+bCk7ZGVmYXVsdDpyZXR1cm4hMX19fSgpO24udWkuZGRtYW5hZ2VyPXtjdXJyZW50Om51bGwsZHJvcHBhYmxlczp7ImRlZmF1bHQiOltdfSxwcmVwYXJlT2Zmc2V0czpmdW5jdGlvbih0LGkpe3ZhciByLGYsdT1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3Qub3B0aW9ucy5zY29wZV18fFtdLG89aT9pLnR5cGU6bnVsbCxlPSh0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpLmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5hZGRCYWNrKCk7bjpmb3Iocj0wO3UubGVuZ3RoPnI7cisrKWlmKCEodVtyXS5vcHRpb25zLmRpc2FibGVkfHx0JiYhdVtyXS5hY2NlcHQuY2FsbCh1W3JdLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSkpe2ZvcihmPTA7ZS5sZW5ndGg+ZjtmKyspaWYoZVtmXT09PXVbcl0uZWxlbWVudFswXSl7dVtyXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIG59dVtyXS52aXNpYmxlPSJub25lIiE9PXVbcl0uZWxlbWVudC5jc3MoImRpc3BsYXkiKTt1W3JdLnZpc2libGUmJigibW91c2Vkb3duIj09PW8mJnVbcl0uX2FjdGl2YXRlLmNhbGwodVtyXSxpKSx1W3JdLm9mZnNldD11W3JdLmVsZW1lbnQub2Zmc2V0KCksdVtyXS5wcm9wb3J0aW9ucyh7d2lkdGg6dVtyXS5lbGVtZW50WzBdLm9mZnNldFdpZHRoLGhlaWdodDp1W3JdLmVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0fSkpfX0sZHJvcDpmdW5jdGlvbih0LGkpe3ZhciByPSExO3JldHVybiBuLmVhY2goKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10pLnNsaWNlKCksZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMmJighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJmUodCx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UsaSkmJihyPXRoaXMuX2Ryb3AuY2FsbCh0aGlzLGkpfHxyKSwhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkmJih0aGlzLmlzb3V0PSEwLHRoaXMuaXNvdmVyPSExLHRoaXMuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLGkpKSl9KSxyfSxkcmFnU3RhcnQ6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub24oInNjcm9sbC5kcm9wcGFibGUiLGZ1bmN0aW9uKCl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fG4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSl9KX0sZHJhZzpmdW5jdGlvbih0LGkpe3Qub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGkpO24uZWFjaChuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3Qub3B0aW9ucy5zY29wZV18fFtdLGZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmIXRoaXMuZ3JlZWR5Q2hpbGQmJnRoaXMudmlzaWJsZSl7dmFyIHIsbyxmLHM9ZSh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSx1PSFzJiZ0aGlzLmlzb3Zlcj8iaXNvdXQiOnMmJiF0aGlzLmlzb3Zlcj8iaXNvdmVyIjpudWxsO3UmJih0aGlzLm9wdGlvbnMuZ3JlZWR5JiYobz10aGlzLm9wdGlvbnMuc2NvcGUsZj10aGlzLmVsZW1lbnQucGFyZW50cygiOmRhdGEodWktZHJvcHBhYmxlKSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLmRyb3BwYWJsZSgiaW5zdGFuY2UiKS5vcHRpb25zLnNjb3BlPT09b30pLGYubGVuZ3RoJiYocj1uKGZbMF0pLmRyb3BwYWJsZSgiaW5zdGFuY2UiKSxyLmdyZWVkeUNoaWxkPSJpc292ZXIiPT09dSkpLHImJiJpc292ZXIiPT09dSYmKHIuaXNvdmVyPSExLHIuaXNvdXQ9ITAsci5fb3V0LmNhbGwocixpKSksdGhpc1t1XT0hMCx0aGlzWyJpc291dCI9PT11PyJpc292ZXIiOiJpc291dCJdPSExLHRoaXNbImlzb3ZlciI9PT11PyJfb3ZlciI6Il9vdXQiXS5jYWxsKHRoaXMsaSksciYmImlzb3V0Ij09PXUmJihyLmlzb3V0PSExLHIuaXNvdmVyPSEwLHIuX292ZXIuY2FsbChyLGkpKSl9fSl9LGRyYWdTdG9wOmZ1bmN0aW9uKHQsaSl7dC5lbGVtZW50LnBhcmVudHNVbnRpbCgiYm9keSIpLm9mZigic2Nyb2xsLmRyb3BwYWJsZSIpO3Qub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHxuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGkpfX07bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLmRyb3BwYWJsZSIsbi51aS5kcm9wcGFibGUse29wdGlvbnM6e2hvdmVyQ2xhc3M6ITEsYWN0aXZlQ2xhc3M6ITF9LF9hZGRBY3RpdmVDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfYWRkSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyl9LF9yZW1vdmVIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX19KTtuLnVpLmRyb3BwYWJsZTtuLndpZGdldCgidWkucHJvZ3Jlc3NiYXIiLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1wcm9ncmVzc2JhciI6InVpLWNvcm5lci1hbGwiLCJ1aS1wcm9ncmVzc2Jhci12YWx1ZSI6InVpLWNvcm5lci1sZWZ0IiwidWktcHJvZ3Jlc3NiYXItY29tcGxldGUiOiJ1aS1jb3JuZXItcmlnaHQifSxtYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKTt0aGlzLmVsZW1lbnQuYXR0cih7cm9sZToicHJvZ3Jlc3NiYXIiLCJhcmlhLXZhbHVlbWluIjp0aGlzLm1pbn0pO3RoaXMuX2FkZENsYXNzKCJ1aS1wcm9ncmVzc2JhciIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMudmFsdWVEaXY9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpO3RoaXMuX2FkZENsYXNzKHRoaXMudmFsdWVEaXYsInVpLXByb2dyZXNzYmFyLXZhbHVlIiwidWktd2lkZ2V0LWhlYWRlciIpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93Iik7dGhpcy52YWx1ZURpdi5yZW1vdmUoKX0sdmFsdWU6ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW4/dGhpcy5vcHRpb25zLnZhbHVlOih0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZShuKSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx2b2lkIDApfSxfY29uc3RyYWluZWRWYWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49dGhpcy5vcHRpb25zLnZhbHVlKSx0aGlzLmluZGV0ZXJtaW5hdGU9bj09PSExLCJudW1iZXIiIT10eXBlb2YgbiYmKG49MCksdGhpcy5pbmRldGVybWluYXRlPyExOk1hdGgubWluKHRoaXMub3B0aW9ucy5tYXgsTWF0aC5tYXgodGhpcy5taW4sbikpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihuKXt2YXIgdD1uLnZhbHVlO2RlbGV0ZSBuLnZhbHVlO3RoaXMuX3N1cGVyKG4pO3RoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKHQpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7Im1heCI9PT1uJiYodD1NYXRoLm1heCh0aGlzLm1pbix0KSk7dGhpcy5fc3VwZXIobix0KX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWRpc2FibGVkIixuKTt0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFuKX0sX3BlcmNlbnRhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRldGVybWluYXRlPzEwMDoxMDAqKHRoaXMub3B0aW9ucy52YWx1ZS10aGlzLm1pbikvKHRoaXMub3B0aW9ucy5tYXgtdGhpcy5taW4pfSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnZhbHVlLGk9dGhpcy5fcGVyY2VudGFnZSgpO3RoaXMudmFsdWVEaXYudG9nZ2xlKHRoaXMuaW5kZXRlcm1pbmF0ZXx8dD50aGlzLm1pbikud2lkdGgoaS50b0ZpeGVkKDApKyIlIik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy52YWx1ZURpdiwidWktcHJvZ3Jlc3NiYXItY29tcGxldGUiLG51bGwsdD09PXRoaXMub3B0aW9ucy5tYXgpLl90b2dnbGVDbGFzcygidWktcHJvZ3Jlc3NiYXItaW5kZXRlcm1pbmF0ZSIsbnVsbCx0aGlzLmluZGV0ZXJtaW5hdGUpO3RoaXMuaW5kZXRlcm1pbmF0ZT8odGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKSx0aGlzLm92ZXJsYXlEaXZ8fCh0aGlzLm92ZXJsYXlEaXY9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLnZhbHVlRGl2KSx0aGlzLl9hZGRDbGFzcyh0aGlzLm92ZXJsYXlEaXYsInVpLXByb2dyZXNzYmFyLW92ZXJsYXkiKSkpOih0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnR9KSx0aGlzLm92ZXJsYXlEaXYmJih0aGlzLm92ZXJsYXlEaXYucmVtb3ZlKCksdGhpcy5vdmVybGF5RGl2PW51bGwpKTt0aGlzLm9sZFZhbHVlIT09dCYmKHRoaXMub2xkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKSk7dD09PXRoaXMub3B0aW9ucy5tYXgmJnRoaXMuX3RyaWdnZXIoImNvbXBsZXRlIil9fSk7bi53aWRnZXQoInVpLnNlbGVjdGFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7YXBwZW5kVG86ImJvZHkiLGF1dG9SZWZyZXNoOiEwLGRpc3RhbmNlOjAsZmlsdGVyOiIqIix0b2xlcmFuY2U6InRvdWNoIixzZWxlY3RlZDpudWxsLHNlbGVjdGluZzpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVuc2VsZWN0ZWQ6bnVsbCx1bnNlbGVjdGluZzpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9hZGRDbGFzcygidWktc2VsZWN0YWJsZSIpO3RoaXMuZHJhZ2dlZD0hMTt0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oKXt0LmVsZW1lbnRQb3M9bih0LmVsZW1lbnRbMF0pLm9mZnNldCgpO3Quc2VsZWN0ZWVzPW4odC5vcHRpb25zLmZpbHRlcix0LmVsZW1lbnRbMF0pO3QuX2FkZENsYXNzKHQuc2VsZWN0ZWVzLCJ1aS1zZWxlY3RlZSIpO3Quc2VsZWN0ZWVzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHU9aS5vZmZzZXQoKSxyPXtsZWZ0OnUubGVmdC10LmVsZW1lbnRQb3MubGVmdCx0b3A6dS50b3AtdC5lbGVtZW50UG9zLnRvcH07bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIse2VsZW1lbnQ6dGhpcywkZWxlbWVudDppLGxlZnQ6ci5sZWZ0LHRvcDpyLnRvcCxyaWdodDpyLmxlZnQraS5vdXRlcldpZHRoKCksYm90dG9tOnIudG9wK2kub3V0ZXJIZWlnaHQoKSxzdGFydHNlbGVjdGVkOiExLHNlbGVjdGVkOmkuaGFzQ2xhc3MoInVpLXNlbGVjdGVkIiksc2VsZWN0aW5nOmkuaGFzQ2xhc3MoInVpLXNlbGVjdGluZyIpLHVuc2VsZWN0aW5nOmkuaGFzQ2xhc3MoInVpLXVuc2VsZWN0aW5nIil9KX0pfTt0aGlzLnJlZnJlc2goKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLmhlbHBlcj1uKCI8ZGl2PiIpO3RoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zZWxlY3RhYmxlLWhlbHBlciIpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWVzLnJlbW92ZURhdGEoInNlbGVjdGFibGUtaXRlbSIpO3RoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9dGhpcy5vcHRpb25zO3RoaXMub3Bvcz1bdC5wYWdlWCx0LnBhZ2VZXTt0aGlzLmVsZW1lbnRQb3M9bih0aGlzLmVsZW1lbnRbMF0pLm9mZnNldCgpO3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8KHRoaXMuc2VsZWN0ZWVzPW4oci5maWx0ZXIsdGhpcy5lbGVtZW50WzBdKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCksbihyLmFwcGVuZFRvKS5hcHBlbmQodGhpcy5oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZLHdpZHRoOjAsaGVpZ2h0OjB9KSxyLmF1dG9SZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSx0aGlzLnNlbGVjdGVlcy5maWx0ZXIoIi51aS1zZWxlY3RlZCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7ci5zdGFydHNlbGVjdGVkPSEwO3QubWV0YUtleXx8dC5jdHJsS2V5fHwoaS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxyLnNlbGVjdGVkPSExLGkuX2FkZENsYXNzKHIuJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ci5lbGVtZW50fSkpfSksbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHUscj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aWYocilyZXR1cm4odT0hdC5tZXRhS2V5JiYhdC5jdHJsS2V5fHwhci4kZWxlbWVudC5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LHU/InVpLXVuc2VsZWN0aW5nIjoidWktc2VsZWN0ZWQiKS5fYWRkQ2xhc3Moci4kZWxlbWVudCx1PyJ1aS1zZWxlY3RpbmciOiJ1aS11bnNlbGVjdGluZyIpLHIudW5zZWxlY3Rpbmc9IXUsci5zZWxlY3Rpbmc9dSxyLnNlbGVjdGVkPXUsdT9pLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpyLmVsZW1lbnR9KTppLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ci5lbGVtZW50fSksITEpfSkpfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZHJhZ2dlZD0hMCwhdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgbyxpPXRoaXMscz10aGlzLm9wdGlvbnMscj10aGlzLm9wb3NbMF0sdT10aGlzLm9wb3NbMV0sZj10LnBhZ2VYLGU9dC5wYWdlWTtyZXR1cm4gcj5mJiYobz1mLGY9cixyPW8pLHU+ZSYmKG89ZSxlPXUsdT1vKSx0aGlzLmhlbHBlci5jc3Moe2xlZnQ6cix0b3A6dSx3aWR0aDpmLXIsaGVpZ2h0OmUtdX0pLHRoaXMuc2VsZWN0ZWVzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIiksYz0hMSxoPXt9O28mJm8uZWxlbWVudCE9PWkuZWxlbWVudFswXSYmKGgubGVmdD1vLmxlZnQraS5lbGVtZW50UG9zLmxlZnQsaC5yaWdodD1vLnJpZ2h0K2kuZWxlbWVudFBvcy5sZWZ0LGgudG9wPW8udG9wK2kuZWxlbWVudFBvcy50b3AsaC5ib3R0b209by5ib3R0b20raS5lbGVtZW50UG9zLnRvcCwidG91Y2giPT09cy50b2xlcmFuY2U/Yz0hKGgubGVmdD5mfHxyPmgucmlnaHR8fGgudG9wPmV8fHU+aC5ib3R0b20pOiJmaXQiPT09cy50b2xlcmFuY2UmJihjPWgubGVmdD5yJiZmPmgucmlnaHQmJmgudG9wPnUmJmU+aC5ib3R0b20pLGM/KG8uc2VsZWN0ZWQmJihpLl9yZW1vdmVDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLG8uc2VsZWN0ZWQ9ITEpLG8udW5zZWxlY3RpbmcmJihpLl9yZW1vdmVDbGFzcyhvLiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLG8udW5zZWxlY3Rpbmc9ITEpLG8uc2VsZWN0aW5nfHwoaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigic2VsZWN0aW5nIix0LHtzZWxlY3Rpbmc6by5lbGVtZW50fSkpKTooby5zZWxlY3RpbmcmJigodC5tZXRhS2V5fHx0LmN0cmxLZXkpJiZvLnN0YXJ0c2VsZWN0ZWQ/KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLG8uc2VsZWN0aW5nPSExLGkuX2FkZENsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMCk6KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLG8uc2VsZWN0aW5nPSExLG8uc3RhcnRzZWxlY3RlZCYmKGkuX2FkZENsYXNzKG8uJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksby51bnNlbGVjdGluZz0hMCksaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOm8uZWxlbWVudH0pKSksby5zZWxlY3RlZCYmKHQubWV0YUtleXx8dC5jdHJsS2V5fHxvLnN0YXJ0c2VsZWN0ZWR8fChpLl9yZW1vdmVDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLG8uc2VsZWN0ZWQ9ITEsaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxvLnVuc2VsZWN0aW5nPSEwLGkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpvLmVsZW1lbnR9KSkpKSl9KSwhMX19LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5kcmFnZ2VkPSExLG4oIi51aS11bnNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2kuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIik7ci51bnNlbGVjdGluZz0hMTtyLnN0YXJ0c2VsZWN0ZWQ9ITE7aS5fdHJpZ2dlcigidW5zZWxlY3RlZCIsdCx7dW5zZWxlY3RlZDpyLmVsZW1lbnR9KX0pLG4oIi51aS1zZWxlY3RpbmciLHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3ZhciByPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKS5fYWRkQ2xhc3Moci4kZWxlbWVudCwidWktc2VsZWN0ZWQiKTtyLnNlbGVjdGluZz0hMTtyLnNlbGVjdGVkPSEwO3Iuc3RhcnRzZWxlY3RlZD0hMDtpLl90cmlnZ2VyKCJzZWxlY3RlZCIsdCx7c2VsZWN0ZWQ6ci5lbGVtZW50fSl9KSx0aGlzLl90cmlnZ2VyKCJzdG9wIix0KSx0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX19KTtuLndpZGdldCgidWkuc2VsZWN0bWVudSIsW24udWkuZm9ybVJlc2V0TWl4aW4se3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxzZWxlY3Q+IixvcHRpb25zOnthcHBlbmRUbzpudWxsLGNsYXNzZXM6eyJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1vcGVuIjoidWktY29ybmVyLXRvcCIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci1hbGwifSxkaXNhYmxlZDpudWxsLGljb25zOntidXR0b246InVpLWljb24tdHJpYW5nbGUtMS1zIn0scG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246Im5vbmUifSx3aWR0aDohMSxjaGFuZ2U6bnVsbCxjbG9zZTpudWxsLGZvY3VzOm51bGwsb3BlbjpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYXR0cigiaWQiKTt0aGlzLmlkcz17ZWxlbWVudDp0LGJ1dHRvbjp0KyItYnV0dG9uIixtZW51OnQrIi1tZW51In07dGhpcy5fZHJhd0J1dHRvbigpO3RoaXMuX2RyYXdNZW51KCk7dGhpcy5fYmluZEZvcm1SZXNldEhhbmRsZXIoKTt0aGlzLl9yZW5kZXJlZD0hMTt0aGlzLm1lbnVJdGVtcz1uKCl9LF9kcmF3QnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLHI9dGhpcy5fcGFyc2VPcHRpb24odGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KTt0aGlzLmxhYmVscz10aGlzLmVsZW1lbnQubGFiZWxzKCkuYXR0cigiZm9yIix0aGlzLmlkcy5idXR0b24pO3RoaXMuX29uKHRoaXMubGFiZWxzLHtjbGljazpmdW5jdGlvbihuKXt0aGlzLmJ1dHRvbi5mb2N1cygpO24ucHJldmVudERlZmF1bHQoKX19KTt0aGlzLmVsZW1lbnQuaGlkZSgpO3RoaXMuYnV0dG9uPW4oIjxzcGFuPiIse3RhYmluZGV4OnRoaXMub3B0aW9ucy5kaXNhYmxlZD8tMTowLGlkOnRoaXMuaWRzLmJ1dHRvbixyb2xlOiJjb21ib2JveCIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsImFyaWEtYXV0b2NvbXBsZXRlIjoibGlzdCIsImFyaWEtb3ducyI6dGhpcy5pZHMubWVudSwiYXJpYS1oYXNwb3B1cCI6InRydWUiLHRpdGxlOnRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpfSkuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24gdWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIiwidWktYnV0dG9uIHVpLXdpZGdldCIpO3Q9bigiPHNwYW4+IikuYXBwZW5kVG8odGhpcy5idXR0b24pO3RoaXMuX2FkZENsYXNzKHQsInVpLXNlbGVjdG1lbnUtaWNvbiIsInVpLWljb24gIit0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uKTt0aGlzLmJ1dHRvbkl0ZW09dGhpcy5fcmVuZGVyQnV0dG9uSXRlbShyKS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5vcHRpb25zLndpZHRoIT09ITEmJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpO3RoaXMuX29uKHRoaXMuYnV0dG9uLHRoaXMuX2J1dHRvbkV2ZW50cyk7dGhpcy5idXR0b24ub25lKCJmb2N1c2luIixmdW5jdGlvbigpe2kuX3JlbmRlcmVkfHxpLl9yZWZyZXNoTWVudSgpfSl9LF9kcmF3TWVudTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5tZW51PW4oIjx1bD4iLHsiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1sYWJlbGxlZGJ5Ijp0aGlzLmlkcy5idXR0b24saWQ6dGhpcy5pZHMubWVudX0pO3RoaXMubWVudVdyYXA9bigiPGRpdj4iKS5hcHBlbmQodGhpcy5tZW51KTt0aGlzLl9hZGRDbGFzcyh0aGlzLm1lbnVXcmFwLCJ1aS1zZWxlY3RtZW51LW1lbnUiLCJ1aS1mcm9udCIpO3RoaXMubWVudVdyYXAuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSk7dGhpcy5tZW51SW5zdGFuY2U9dGhpcy5tZW51Lm1lbnUoe2NsYXNzZXM6eyJ1aS1tZW51IjoidWktY29ybmVyLWJvdHRvbSJ9LHJvbGU6Imxpc3Rib3giLHNlbGVjdDpmdW5jdGlvbihuLGkpe24ucHJldmVudERlZmF1bHQoKTt0Ll9zZXRTZWxlY3Rpb24oKTt0Ll9zZWxlY3QoaS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLG4pfSxmb2N1czpmdW5jdGlvbihuLGkpe3ZhciByPWkuaXRlbS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKTtudWxsIT10LmZvY3VzSW5kZXgmJnIuaW5kZXghPT10LmZvY3VzSW5kZXgmJih0Ll90cmlnZ2VyKCJmb2N1cyIsbix7aXRlbTpyfSksdC5pc09wZW58fHQuX3NlbGVjdChyLG4pKTt0LmZvY3VzSW5kZXg9ci5pbmRleDt0LmJ1dHRvbi5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHQubWVudUl0ZW1zLmVxKHIuaW5kZXgpLmF0dHIoImlkIikpfX0pLm1lbnUoImluc3RhbmNlIik7dGhpcy5tZW51SW5zdGFuY2UuX29mZih0aGlzLm1lbnUsIm1vdXNlbGVhdmUiKTt0aGlzLm1lbnVJbnN0YW5jZS5fY2xvc2VPbkRvY3VtZW50Q2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dGhpcy5tZW51SW5zdGFuY2UuX2lzRGl2aWRlcj1mdW5jdGlvbigpe3JldHVybiExfX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2hNZW51KCk7dGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKHRoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpfHx7fSkpO251bGw9PT10aGlzLm9wdGlvbnMud2lkdGgmJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfcmVmcmVzaE1lbnU6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMuZWxlbWVudC5maW5kKCJvcHRpb24iKTt0aGlzLm1lbnUuZW1wdHkoKTt0aGlzLl9wYXJzZU9wdGlvbnModCk7dGhpcy5fcmVuZGVyTWVudSh0aGlzLm1lbnUsdGhpcy5pdGVtcyk7dGhpcy5tZW51SW5zdGFuY2UucmVmcmVzaCgpO3RoaXMubWVudUl0ZW1zPXRoaXMubWVudS5maW5kKCJsaSIpLm5vdCgiLnVpLXNlbGVjdG1lbnUtb3B0Z3JvdXAiKS5maW5kKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9yZW5kZXJlZD0hMDt0Lmxlbmd0aCYmKG49dGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCksdGhpcy5tZW51SW5zdGFuY2UuZm9jdXMobnVsbCxuKSx0aGlzLl9zZXRBcmlhKG4uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIikpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpKSl9LG9wZW46ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5fcmVuZGVyZWQ/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMubWVudS5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5tZW51SW5zdGFuY2UuZm9jdXMobnVsbCx0aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSkpOnRoaXMuX3JlZnJlc2hNZW51KCksdGhpcy5tZW51SXRlbXMubGVuZ3RoJiYodGhpcy5pc09wZW49ITAsdGhpcy5fdG9nZ2xlQXR0cigpLHRoaXMuX3Jlc2l6ZU1lbnUoKSx0aGlzLl9wb3NpdGlvbigpLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQsdGhpcy5fZG9jdW1lbnRDbGljayksdGhpcy5fdHJpZ2dlcigib3BlbiIsbikpKX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5tZW51V3JhcC5wb3NpdGlvbihuLmV4dGVuZCh7Im9mIjp0aGlzLmJ1dHRvbn0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSl9LGNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuaXNPcGVuJiYodGhpcy5pc09wZW49ITEsdGhpcy5fdG9nZ2xlQXR0cigpLHRoaXMucmFuZ2U9bnVsbCx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCksdGhpcy5fdHJpZ2dlcigiY2xvc2UiLG4pKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnV0dG9ufSxtZW51V2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudX0sX3JlbmRlckJ1dHRvbkl0ZW06ZnVuY3Rpb24odCl7dmFyIGk9bigiPHNwYW4+Iik7cmV0dXJuIHRoaXMuX3NldFRleHQoaSx0LmxhYmVsKSx0aGlzLl9hZGRDbGFzcyhpLCJ1aS1zZWxlY3RtZW51LXRleHQiKSxpfSxfcmVuZGVyTWVudTpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXMsdT0iIjtuLmVhY2goaSxmdW5jdGlvbihpLGYpe3ZhciBlO2Yub3B0Z3JvdXAhPT11JiYoZT1uKCI8bGk+Iix7dGV4dDpmLm9wdGdyb3VwfSksci5fYWRkQ2xhc3MoZSwidWktc2VsZWN0bWVudS1vcHRncm91cCIsInVpLW1lbnUtZGl2aWRlciIrKGYuZWxlbWVudC5wYXJlbnQoIm9wdGdyb3VwIikucHJvcCgiZGlzYWJsZWQiKT8iIHVpLXN0YXRlLWRpc2FibGVkIjoiIikpLGUuYXBwZW5kVG8odCksdT1mLm9wdGdyb3VwKTtyLl9yZW5kZXJJdGVtRGF0YSh0LGYpfSl9LF9yZW5kZXJJdGVtRGF0YTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJdGVtKG4sdCkuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIix0KX0sX3JlbmRlckl0ZW06ZnVuY3Rpb24odCxpKXt2YXIgcj1uKCI8bGk+IiksdT1uKCI8ZGl2PiIse3RpdGxlOmkuZWxlbWVudC5hdHRyKCJ0aXRsZSIpfSk7cmV0dXJuIGkuZGlzYWJsZWQmJnRoaXMuX2FkZENsYXNzKHIsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiKSx0aGlzLl9zZXRUZXh0KHUsaS5sYWJlbCksci5hcHBlbmQodSkuYXBwZW5kVG8odCl9LF9zZXRUZXh0OmZ1bmN0aW9uKG4sdCl7dD9uLnRleHQodCk6bi5odG1sKCImIzE2MDsiKX0sX21vdmU6ZnVuY3Rpb24obix0KXt2YXIgaSxyLHU9Ii51aS1tZW51LWl0ZW0iO3RoaXMuaXNPcGVuP2k9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KS5wYXJlbnQoImxpIik6KGk9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKSx1Kz0iOm5vdCgudWktc3RhdGUtZGlzYWJsZWQpIik7cj0iZmlyc3QiPT09bnx8Imxhc3QiPT09bj9pWyJmaXJzdCI9PT1uPyJwcmV2QWxsIjoibmV4dEFsbCJdKHUpLmVxKC0xKTppW24rIkFsbCJdKHUpLmVxKDApO3IubGVuZ3RoJiZ0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyh0LHIpfSxfZ2V0U2VsZWN0ZWRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4KS5wYXJlbnQoImxpIil9LF90b2dnbGU6ZnVuY3Rpb24obil7dGhpc1t0aGlzLmlzT3Blbj8iY2xvc2UiOiJvcGVuIl0obil9LF9zZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbjt0aGlzLnJhbmdlJiYod2luZG93LmdldFNlbGVjdGlvbj8obj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksbi5yZW1vdmVBbGxSYW5nZXMoKSxuLmFkZFJhbmdlKHRoaXMucmFuZ2UpKTp0aGlzLnJhbmdlLnNlbGVjdCgpLHRoaXMuYnV0dG9uLmZvY3VzKCkpfSxfZG9jdW1lbnRDbGljazp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3RoaXMuaXNPcGVuJiYobih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXNlbGVjdG1lbnUtbWVudSwgIyIrbi51aS5lc2NhcGVTZWxlY3Rvcih0aGlzLmlkcy5idXR0b24pKS5sZW5ndGh8fHRoaXMuY2xvc2UodCkpfX0sX2J1dHRvbkV2ZW50czp7bW91c2Vkb3duOmZ1bmN0aW9uKCl7dmFyIG47d2luZG93LmdldFNlbGVjdGlvbj8obj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksbi5yYW5nZUNvdW50JiYodGhpcy5yYW5nZT1uLmdldFJhbmdlQXQoMCkpKTp0aGlzLnJhbmdlPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpfSxjbGljazpmdW5jdGlvbihuKXt0aGlzLl9zZXRTZWxlY3Rpb24oKTt0aGlzLl90b2dnbGUobil9LGtleWRvd246ZnVuY3Rpb24odCl7dmFyIGk9ITA7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBuLnVpLmtleUNvZGUuVEFCOmNhc2Ugbi51aS5rZXlDb2RlLkVTQ0FQRTp0aGlzLmNsb3NlKHQpO2k9ITE7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5URVI6dGhpcy5pc09wZW4mJnRoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlVQOnQuYWx0S2V5P3RoaXMuX3RvZ2dsZSh0KTp0aGlzLl9tb3ZlKCJwcmV2Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5ET1dOOnQuYWx0S2V5P3RoaXMuX3RvZ2dsZSh0KTp0aGlzLl9tb3ZlKCJuZXh0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5TUEFDRTp0aGlzLmlzT3Blbj90aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSh0KTp0aGlzLl90b2dnbGUodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDp0aGlzLl9tb3ZlKCJwcmV2Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5SSUdIVDp0aGlzLl9tb3ZlKCJuZXh0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5IT01FOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5fbW92ZSgiZmlyc3QiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDpjYXNlIG4udWkua2V5Q29kZS5QQUdFX0RPV046dGhpcy5fbW92ZSgibGFzdCIsdCk7YnJlYWs7ZGVmYXVsdDp0aGlzLm1lbnUudHJpZ2dlcih0KTtpPSExfWkmJnQucHJldmVudERlZmF1bHQoKX19LF9zZWxlY3RGb2N1c2VkSXRlbTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpLnBhcmVudCgibGkiKTt0Lmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHx0aGlzLl9zZWxlY3QodC5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSxuKX0sX3NlbGVjdDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4O3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4PW4uaW5kZXg7dGhpcy5idXR0b25JdGVtLnJlcGxhY2VXaXRoKHRoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKG4pKTt0aGlzLl9zZXRBcmlhKG4pO3RoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCx7aXRlbTpufSk7bi5pbmRleCE9PWkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx7aXRlbTpufSk7dGhpcy5jbG9zZSh0KX0sX3NldEFyaWE6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5tZW51SXRlbXMuZXEobi5pbmRleCkuYXR0cigiaWQiKTt0aGlzLmJ1dHRvbi5hdHRyKHsiYXJpYS1sYWJlbGxlZGJ5Ijp0LCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiOnR9KTt0aGlzLm1lbnUuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50Iix0KX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKCJpY29ucyI9PT1uKXt2YXIgaT10aGlzLmJ1dHRvbi5maW5kKCJzcGFuLnVpLWljb24iKTt0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbikuX2FkZENsYXNzKGksbnVsbCx0LmJ1dHRvbil9dGhpcy5fc3VwZXIobix0KTsiYXBwZW5kVG8iPT09biYmdGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTsid2lkdGgiPT09biYmdGhpcy5fcmVzaXplQnV0dG9uKCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKTt0aGlzLm1lbnVJbnN0YW5jZS5vcHRpb24oImRpc2FibGVkIixuKTt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixuKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmJ1dHRvbixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsbik7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIixuKTtuPyh0aGlzLmJ1dHRvbi5hdHRyKCJ0YWJpbmRleCIsLTEpLHRoaXMuY2xvc2UoKSk6dGhpcy5idXR0b24uYXR0cigidGFiaW5kZXgiLDApfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0PXQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSx0JiZ0WzBdfHwodD10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX3RvZ2dsZUF0dHI6ZnVuY3Rpb24oKXt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWV4cGFuZGVkIix0aGlzLmlzT3Blbik7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5idXR0b24sInVpLXNlbGVjdG1lbnUtYnV0dG9uLSIrKHRoaXMuaXNPcGVuPyJjbG9zZWQiOiJvcGVuIikpLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/Im9wZW4iOiJjbG9zZWQiKSkuX3RvZ2dsZUNsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtb3BlbiIsbnVsbCx0aGlzLmlzT3Blbik7dGhpcy5tZW51LmF0dHIoImFyaWEtaGlkZGVuIiwhdGhpcy5pc09wZW4pfSxfcmVzaXplQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLndpZHRoO3JldHVybiBuPT09ITE/KHRoaXMuYnV0dG9uLmNzcygid2lkdGgiLCIiKSx2b2lkIDApOihudWxsPT09biYmKG49dGhpcy5lbGVtZW50LnNob3coKS5vdXRlcldpZHRoKCksdGhpcy5lbGVtZW50LmhpZGUoKSksdGhpcy5idXR0b24ub3V0ZXJXaWR0aChuKSx2b2lkIDApfSxfcmVzaXplTWVudTpmdW5jdGlvbigpe3RoaXMubWVudS5vdXRlcldpZHRoKE1hdGgubWF4KHRoaXMuYnV0dG9uLm91dGVyV2lkdGgoKSx0aGlzLm1lbnUud2lkdGgoIiIpLm91dGVyV2lkdGgoKSsxKSl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fc3VwZXIoKTtyZXR1cm4gbi5kaXNhYmxlZD10aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKSxufSxfcGFyc2VPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1bXTt0LmVhY2goZnVuY3Rpb24odCx1KXtpLnB1c2goci5fcGFyc2VPcHRpb24obih1KSx0KSl9KTt0aGlzLml0ZW1zPWl9LF9wYXJzZU9wdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPW4ucGFyZW50KCJvcHRncm91cCIpO3JldHVybntlbGVtZW50Om4saW5kZXg6dCx2YWx1ZTpuLnZhbCgpLGxhYmVsOm4udGV4dCgpLG9wdGdyb3VwOmkuYXR0cigibGFiZWwiKXx8IiIsZGlzYWJsZWQ6aS5wcm9wKCJkaXNhYmxlZCIpfHxuLnByb3AoImRpc2FibGVkIil9fSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3VuYmluZEZvcm1SZXNldEhhbmRsZXIoKTt0aGlzLm1lbnVXcmFwLnJlbW92ZSgpO3RoaXMuYnV0dG9uLnJlbW92ZSgpO3RoaXMuZWxlbWVudC5zaG93KCk7dGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCk7dGhpcy5sYWJlbHMuYXR0cigiZm9yIix0aGlzLmlkcy5lbGVtZW50KX19XSk7bi53aWRnZXQoInVpLnNsaWRlciIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIix3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e2FuaW1hdGU6ITEsY2xhc3Nlczp7InVpLXNsaWRlciI6InVpLWNvcm5lci1hbGwiLCJ1aS1zbGlkZXItaGFuZGxlIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1yYW5nZSI6InVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LWhlYWRlciJ9LGRpc3RhbmNlOjAsbWF4OjEwMCxtaW46MCxvcmllbnRhdGlvbjoiaG9yaXpvbnRhbCIscmFuZ2U6ITEsc3RlcDoxLHZhbHVlOjAsdmFsdWVzOm51bGwsY2hhbmdlOm51bGwsc2xpZGU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sbnVtUGFnZXM6NSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fa2V5U2xpZGluZz0hMTt0aGlzLl9tb3VzZVNsaWRpbmc9ITE7dGhpcy5fYW5pbWF0ZU9mZj0hMDt0aGlzLl9oYW5kbGVJbmRleD1udWxsO3RoaXMuX2RldGVjdE9yaWVudGF0aW9uKCk7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7dGhpcy5fYWRkQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5fYW5pbWF0ZU9mZj0hMX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVSYW5nZSgpO3RoaXMuX2NyZWF0ZUhhbmRsZXMoKTt0aGlzLl9zZXR1cEV2ZW50cygpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfY3JlYXRlSGFuZGxlczpmdW5jdGlvbigpe3ZhciByLGksdT10aGlzLm9wdGlvbnMsdD10aGlzLmVsZW1lbnQuZmluZCgiLnVpLXNsaWRlci1oYW5kbGUiKSxmPVtdO2ZvcihpPXUudmFsdWVzJiZ1LnZhbHVlcy5sZW5ndGh8fDEsdC5sZW5ndGg+aSYmKHQuc2xpY2UoaSkucmVtb3ZlKCksdD10LnNsaWNlKDAsaSkpLHI9dC5sZW5ndGg7aT5yO3IrKylmLnB1c2goIjxzcGFuIHRhYmluZGV4PScwJz48XC9zcGFuPiIpO3RoaXMuaGFuZGxlcz10LmFkZChuKGYuam9pbigiIikpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCkpO3RoaXMuX2FkZENsYXNzKHRoaXMuaGFuZGxlcywidWktc2xpZGVyLWhhbmRsZSIsInVpLXN0YXRlLWRlZmF1bHQiKTt0aGlzLmhhbmRsZT10aGlzLmhhbmRsZXMuZXEoMCk7dGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24odCl7bih0aGlzKS5kYXRhKCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4Iix0KS5hdHRyKCJ0YWJJbmRleCIsMCl9KX0sX2NyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3QucmFuZ2U/KHQucmFuZ2U9PT0hMCYmKHQudmFsdWVzP3QudmFsdWVzLmxlbmd0aCYmMiE9PXQudmFsdWVzLmxlbmd0aD90LnZhbHVlcz1bdC52YWx1ZXNbMF0sdC52YWx1ZXNbMF1dOm4uaXNBcnJheSh0LnZhbHVlcykmJih0LnZhbHVlcz10LnZhbHVlcy5zbGljZSgwKSk6dC52YWx1ZXM9W3RoaXMuX3ZhbHVlTWluKCksdGhpcy5fdmFsdWVNaW4oKV0pLHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UubGVuZ3RoPyh0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLnJhbmdlLCJ1aS1zbGlkZXItcmFuZ2UtbWluIHVpLXNsaWRlci1yYW5nZS1tYXgiKSx0aGlzLnJhbmdlLmNzcyh7bGVmdDoiIixib3R0b206IiJ9KSk6KHRoaXMucmFuZ2U9bigiPGRpdj4iKS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZSIpKSwoIm1pbiI9PT10LnJhbmdlfHwibWF4Ij09PXQucmFuZ2UpJiZ0aGlzLl9hZGRDbGFzcyh0aGlzLnJhbmdlLCJ1aS1zbGlkZXItcmFuZ2UtIit0LnJhbmdlKSk6KHRoaXMucmFuZ2UmJnRoaXMucmFuZ2UucmVtb3ZlKCksdGhpcy5yYW5nZT1udWxsKX0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKHRoaXMuaGFuZGxlcyk7dGhpcy5fb24odGhpcy5oYW5kbGVzLHRoaXMuX2hhbmRsZUV2ZW50cyk7dGhpcy5faG92ZXJhYmxlKHRoaXMuaGFuZGxlcyk7dGhpcy5fZm9jdXNhYmxlKHRoaXMuaGFuZGxlcyl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVzLnJlbW92ZSgpO3RoaXMucmFuZ2UmJnRoaXMucmFuZ2UucmVtb3ZlKCk7dGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCl7dmFyIHMsZixyLGksdSxoLGUsYyxvPXRoaXMsbD10aGlzLm9wdGlvbnM7cmV0dXJuIGwuZGlzYWJsZWQ/ITE6KHRoaXMuZWxlbWVudFNpemU9e3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpfSx0aGlzLmVsZW1lbnRPZmZzZXQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHM9e3g6dC5wYWdlWCx5OnQucGFnZVl9LGY9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKHMpLHI9dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpKzEsdGhpcy5oYW5kbGVzLmVhY2goZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5hYnMoZi1vLnZhbHVlcyh0KSk7KHI+ZXx8cj09PWUmJih0PT09by5fbGFzdENoYW5nZWRWYWx1ZXx8by52YWx1ZXModCk9PT1sLm1pbikpJiYocj1lLGk9bih0aGlzKSx1PXQpfSksaD10aGlzLl9zdGFydCh0LHUpLGg9PT0hMT8hMToodGhpcy5fbW91c2VTbGlkaW5nPSEwLHRoaXMuX2hhbmRsZUluZGV4PXUsdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSxpLnRyaWdnZXIoImZvY3VzIiksZT1pLm9mZnNldCgpLGM9IW4odC50YXJnZXQpLnBhcmVudHMoKS5hZGRCYWNrKCkuaXMoIi51aS1zbGlkZXItaGFuZGxlIiksdGhpcy5fY2xpY2tPZmZzZXQ9Yz97bGVmdDowLHRvcDowfTp7bGVmdDp0LnBhZ2VYLWUubGVmdC1pLndpZHRoKCkvMix0b3A6dC5wYWdlWS1lLnRvcC1pLmhlaWdodCgpLzItKHBhcnNlSW50KGkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KGkuY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpLDEwKXx8MCkrKHBhcnNlSW50KGkuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDApfSx0aGlzLmhhbmRsZXMuaGFzQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil8fHRoaXMuX3NsaWRlKHQsdSxmKSx0aGlzLl9hbmltYXRlT2ZmPSEwLCEwKSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24obil7dmFyIHQ9e3g6bi5wYWdlWCx5Om4ucGFnZVl9LGk9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKHQpO3JldHVybiB0aGlzLl9zbGlkZShuLHRoaXMuX2hhbmRsZUluZGV4LGkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhhbmRsZXMsbnVsbCwidWktc3RhdGUtYWN0aXZlIiksdGhpcy5fbW91c2VTbGlkaW5nPSExLHRoaXMuX3N0b3Aobix0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5fY2hhbmdlKG4sdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2hhbmRsZUluZGV4PW51bGwsdGhpcy5fY2xpY2tPZmZzZXQ9bnVsbCx0aGlzLl9hbmltYXRlT2ZmPSExLCExfSxfZGV0ZWN0T3JpZW50YXRpb246ZnVuY3Rpb24oKXt0aGlzLm9yaWVudGF0aW9uPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMub3JpZW50YXRpb24/InZlcnRpY2FsIjoiaG9yaXpvbnRhbCJ9LF9ub3JtVmFsdWVGcm9tTW91c2U6ZnVuY3Rpb24obil7dmFyIGkscix0LHUsZjtyZXR1cm4iaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uPyhpPXRoaXMuZWxlbWVudFNpemUud2lkdGgscj1uLngtdGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LmxlZnQ6MCkpOihpPXRoaXMuZWxlbWVudFNpemUuaGVpZ2h0LHI9bi55LXRoaXMuZWxlbWVudE9mZnNldC50b3AtKHRoaXMuX2NsaWNrT2Zmc2V0P3RoaXMuX2NsaWNrT2Zmc2V0LnRvcDowKSksdD1yL2ksdD4xJiYodD0xKSwwPnQmJih0PTApLCJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiYodD0xLXQpLHU9dGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpLGY9dGhpcy5fdmFsdWVNaW4oKSt0KnUsdGhpcy5fdHJpbUFsaWduVmFsdWUoZil9LF91aUhhc2g6ZnVuY3Rpb24obix0LGkpe3ZhciByPXtoYW5kbGU6dGhpcy5oYW5kbGVzW25dLGhhbmRsZUluZGV4Om4sdmFsdWU6dm9pZCAwIT09dD90OnRoaXMudmFsdWUoKX07cmV0dXJuIHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkmJihyLnZhbHVlPXZvaWQgMCE9PXQ/dDp0aGlzLnZhbHVlcyhuKSxyLnZhbHVlcz1pfHx0aGlzLnZhbHVlcygpKSxyfSxfaGFzTXVsdGlwbGVWYWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGh9LF9zdGFydDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJzdGFydCIsbix0aGlzLl91aUhhc2godCkpfSxfc2xpZGU6ZnVuY3Rpb24obix0LGkpe3ZhciB1LHIsZj10aGlzLnZhbHVlKCksZT10aGlzLnZhbHVlcygpO3RoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkmJihyPXRoaXMudmFsdWVzKHQ/MDoxKSxmPXRoaXMudmFsdWVzKHQpLDI9PT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmdGhpcy5vcHRpb25zLnJhbmdlPT09ITAmJihpPTA9PT10P01hdGgubWluKHIsaSk6TWF0aC5tYXgocixpKSksZVt0XT1pKTtpIT09ZiYmKHU9dGhpcy5fdHJpZ2dlcigic2xpZGUiLG4sdGhpcy5fdWlIYXNoKHQsaSxlKSksdSE9PSExJiYodGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyh0LGkpOnRoaXMudmFsdWUoaSkpKX0sX3N0b3A6ZnVuY3Rpb24obix0KXt0aGlzLl90cmlnZ2VyKCJzdG9wIixuLHRoaXMuX3VpSGFzaCh0KSl9LF9jaGFuZ2U6ZnVuY3Rpb24obix0KXt0aGlzLl9rZXlTbGlkaW5nfHx0aGlzLl9tb3VzZVNsaWRpbmd8fCh0aGlzLl9sYXN0Q2hhbmdlZFZhbHVlPXQsdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuLHRoaXMuX3VpSGFzaCh0KSkpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3RyaW1BbGlnblZhbHVlKG4pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLDApLHZvaWQgMCk6dGhpcy5fdmFsdWUoKX0sdmFsdWVzOmZ1bmN0aW9uKHQsaSl7dmFyIHUsZixyO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlc1t0XT10aGlzLl90cmltQWxpZ25WYWx1ZShpKSx0aGlzLl9yZWZyZXNoVmFsdWUoKSx0aGlzLl9jaGFuZ2UobnVsbCx0KSx2b2lkIDA7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3ZhbHVlcygpO2lmKCFuLmlzQXJyYXkoYXJndW1lbnRzWzBdKSlyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLl92YWx1ZXModCk6dGhpcy52YWx1ZSgpO2Zvcih1PXRoaXMub3B0aW9ucy52YWx1ZXMsZj1hcmd1bWVudHNbMF0scj0wO3UubGVuZ3RoPnI7cis9MSl1W3JdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGZbcl0pLHRoaXMuX2NoYW5nZShudWxsLHIpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIHIsdT0wO3N3aXRjaCgicmFuZ2UiPT09dCYmdGhpcy5vcHRpb25zLnJhbmdlPT09ITAmJigibWluIj09PWk/KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXMoMCksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKToibWF4Ij09PWkmJih0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdmFsdWVzKHRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoLTEpLHRoaXMub3B0aW9ucy52YWx1ZXM9bnVsbCkpLG4uaXNBcnJheSh0aGlzLm9wdGlvbnMudmFsdWVzKSYmKHU9dGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgpLHRoaXMuX3N1cGVyKHQsaSksdCl7Y2FzZSJvcmllbnRhdGlvbiI6dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuX2FkZENsYXNzKCJ1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLm9wdGlvbnMucmFuZ2UmJnRoaXMuX3JlZnJlc2hSYW5nZShpKTt0aGlzLmhhbmRsZXMuY3NzKCJob3Jpem9udGFsIj09PWk/ImJvdHRvbSI6ImxlZnQiLCIiKTticmVhaztjYXNlInZhbHVlIjp0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMuX2NoYW5nZShudWxsLDApO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJ2YWx1ZXMiOmZvcih0aGlzLl9hbmltYXRlT2ZmPSEwLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHI9dS0xO3I+PTA7ci0tKXRoaXMuX2NoYW5nZShudWxsLHIpO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJzdGVwIjpjYXNlIm1pbiI6Y2FzZSJtYXgiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInJhbmdlIjp0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMudmFsdWU7cmV0dXJuIHRoaXMuX3RyaW1BbGlnblZhbHVlKG4pfSxfdmFsdWVzOmZ1bmN0aW9uKG4pe3ZhciByLHQsaTtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiByPXRoaXMub3B0aW9ucy52YWx1ZXNbbl0scj10aGlzLl90cmltQWxpZ25WYWx1ZShyKTtpZih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpKXtmb3IodD10aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCksaT0wO3QubGVuZ3RoPmk7aSs9MSl0W2ldPXRoaXMuX3RyaW1BbGlnblZhbHVlKHRbaV0pO3JldHVybiB0fXJldHVybltdfSxfdHJpbUFsaWduVmFsdWU6ZnVuY3Rpb24obil7aWYodGhpcy5fdmFsdWVNaW4oKT49bilyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtpZihuPj10aGlzLl92YWx1ZU1heCgpKXJldHVybiB0aGlzLl92YWx1ZU1heCgpO3ZhciB0PXRoaXMub3B0aW9ucy5zdGVwPjA/dGhpcy5vcHRpb25zLnN0ZXA6MSxpPShuLXRoaXMuX3ZhbHVlTWluKCkpJXQscj1uLWk7cmV0dXJuIDIqTWF0aC5hYnMoaSk+PXQmJihyKz1pPjA/dDotdCkscGFyc2VGbG9hdChyLnRvRml4ZWQoNSkpfSxfY2FsY3VsYXRlTmV3TWF4OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLm1heCxpPXRoaXMuX3ZhbHVlTWluKCksdD10aGlzLm9wdGlvbnMuc3RlcCxyPU1hdGgucm91bmQoKG4taSkvdCkqdDtuPXIraTtuPnRoaXMub3B0aW9ucy5tYXgmJihuLT10KTt0aGlzLm1heD1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpfSxfcHJlY2lzaW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLnN0ZXApO3JldHVybiBudWxsIT09dGhpcy5vcHRpb25zLm1pbiYmKG49TWF0aC5tYXgobix0aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMubWluKSkpLG59LF9wcmVjaXNpb25PZjpmdW5jdGlvbihuKXt2YXIgdD0iIituLGk9dC5pbmRleE9mKCIuIik7cmV0dXJuLTE9PT1pPzA6dC5sZW5ndGgtaS0xfSxfdmFsdWVNaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbn0sX3ZhbHVlTWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4fSxfcmVmcmVzaFJhbmdlOmZ1bmN0aW9uKG4peyJ2ZXJ0aWNhbCI9PT1uJiZ0aGlzLnJhbmdlLmNzcyh7d2lkdGg6IiIsbGVmdDoiIn0pOyJob3Jpem9udGFsIj09PW4mJnRoaXMucmFuZ2UuY3NzKHtoZWlnaHQ6IiIsYm90dG9tOiIifSl9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgcyx0LGMsZixoLGU9dGhpcy5vcHRpb25zLnJhbmdlLGk9dGhpcy5vcHRpb25zLHI9dGhpcyx1PXRoaXMuX2FuaW1hdGVPZmY/ITE6aS5hbmltYXRlLG89e307dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbihmKXt0PTEwMCooKHIudmFsdWVzKGYpLXIuX3ZhbHVlTWluKCkpLyhyLl92YWx1ZU1heCgpLXIuX3ZhbHVlTWluKCkpKTtvWyJob3Jpem9udGFsIj09PXIub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT10KyIlIjtuKHRoaXMpLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0obyxpLmFuaW1hdGUpO3Iub3B0aW9ucy5yYW5nZT09PSEwJiYoImhvcml6b250YWwiPT09ci5vcmllbnRhdGlvbj8oMD09PWYmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7bGVmdDp0KyIlIn0saS5hbmltYXRlKSwxPT09ZiYmci5yYW5nZVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSk6KDA9PT1mJiZyLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2JvdHRvbTp0KyIlIn0saS5hbmltYXRlKSwxPT09ZiYmci5yYW5nZVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0LXMrIiUifSx7cXVldWU6ITEsZHVyYXRpb246aS5hbmltYXRlfSkpKTtzPXR9KTooYz10aGlzLnZhbHVlKCksZj10aGlzLl92YWx1ZU1pbigpLGg9dGhpcy5fdmFsdWVNYXgoKSx0PWghPT1mPzEwMCooKGMtZikvKGgtZikpOjAsb1siaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uPyJsZWZ0IjoiYm90dG9tIl09dCsiJSIsdGhpcy5oYW5kbGUuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXShvLGkuYW5pbWF0ZSksIm1pbiI9PT1lJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOnQrIiUifSxpLmFuaW1hdGUpLCJtYXgiPT09ZSYmImhvcml6b250YWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDoxMDAtdCsiJSJ9LGkuYW5pbWF0ZSksIm1pbiI9PT1lJiYidmVydGljYWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6dCsiJSJ9LGkuYW5pbWF0ZSksIm1heCI9PT1lJiYidmVydGljYWwiPT09dGhpcy5vcmllbnRhdGlvbiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHtoZWlnaHQ6MTAwLXQrIiUifSxpLmFuaW1hdGUpKX0sX2hhbmRsZUV2ZW50czp7a2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgZSxyLGksdSxmPW4odC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5IT01FOmNhc2Ugbi51aS5rZXlDb2RlLkVORDpjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5SSUdIVDpjYXNlIG4udWkua2V5Q29kZS5ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6aWYodC5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLl9hZGRDbGFzcyhuKHQudGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSxlPXRoaXMuX3N0YXJ0KHQsZiksZT09PSExKSlyZXR1cm59c3dpdGNoKHU9dGhpcy5vcHRpb25zLnN0ZXAscj1pPXRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCk/dGhpcy52YWx1ZXMoZik6dGhpcy52YWx1ZSgpLHQua2V5Q29kZSl7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTppPXRoaXMuX3ZhbHVlTWluKCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmk9dGhpcy5fdmFsdWVNYXgoKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOmk9dGhpcy5fdHJpbUFsaWduVmFsdWUocisodGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpKS90aGlzLm51bVBhZ2VzKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5QQUdFX0RPV046aT10aGlzLl90cmltQWxpZ25WYWx1ZShyLSh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmlmKHI9PT10aGlzLl92YWx1ZU1heCgpKXJldHVybjtpPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIrdSk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjpjYXNlIG4udWkua2V5Q29kZS5MRUZUOmlmKHI9PT10aGlzLl92YWx1ZU1pbigpKXJldHVybjtpPXRoaXMuX3RyaW1BbGlnblZhbHVlKHItdSl9dGhpcy5fc2xpZGUodCxmLGkpfSxrZXl1cDpmdW5jdGlvbih0KXt2YXIgaT1uKHQudGFyZ2V0KS5kYXRhKCJ1aS1zbGlkZXItaGFuZGxlLWluZGV4Iik7dGhpcy5fa2V5U2xpZGluZyYmKHRoaXMuX2tleVNsaWRpbmc9ITEsdGhpcy5fc3RvcCh0LGkpLHRoaXMuX2NoYW5nZSh0LGkpLHRoaXMuX3JlbW92ZUNsYXNzKG4odC50YXJnZXQpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpKX19fSk7bi53aWRnZXQoInVpLnNvcnRhYmxlIixuLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJzb3J0IixyZWFkeTohMSxvcHRpb25zOnthcHBlbmRUbzoicGFyZW50IixheGlzOiExLGNvbm5lY3RXaXRoOiExLGNvbnRhaW5tZW50OiExLGN1cnNvcjoiYXV0byIsY3Vyc29yQXQ6ITEsZHJvcE9uRW1wdHk6ITAsZm9yY2VQbGFjZWhvbGRlclNpemU6ITEsZm9yY2VIZWxwZXJTaXplOiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGl0ZW1zOiI+ICoiLG9wYWNpdHk6ITEscGxhY2Vob2xkZXI6ITEscmV2ZXJ0OiExLHNjcm9sbDohMCxzY3JvbGxTZW5zaXRpdml0eToyMCxzY3JvbGxTcGVlZDoyMCxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QiLHpJbmRleDoxZTMsYWN0aXZhdGU6bnVsbCxiZWZvcmVTdG9wOm51bGwsY2hhbmdlOm51bGwsZGVhY3RpdmF0ZTpudWxsLG91dDpudWxsLG92ZXI6bnVsbCxyZWNlaXZlOm51bGwscmVtb3ZlOm51bGwsc29ydDpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsLHVwZGF0ZTpudWxsfSxfaXNPdmVyQXhpczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIG4+PXQmJnQraT5ufSxfaXNGbG9hdGluZzpmdW5jdGlvbihuKXtyZXR1cm4vbGVmdHxyaWdodC8udGVzdChuLmNzcygiZmxvYXQiKSl8fC9pbmxpbmV8dGFibGUtY2VsbC8udGVzdChuLmNzcygiZGlzcGxheSIpKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyQ2FjaGU9e307dGhpcy5fYWRkQ2xhc3MoInVpLXNvcnRhYmxlIik7dGhpcy5yZWZyZXNoKCk7dGhpcy5vZmZzZXQ9dGhpcy5lbGVtZW50Lm9mZnNldCgpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO3RoaXMucmVhZHk9ITB9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpOyJoYW5kbGUiPT09biYmdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCl9LF9zZXRIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZWxlbWVudC5maW5kKCIudWktc29ydGFibGUtaGFuZGxlIiksInVpLXNvcnRhYmxlLWhhbmRsZSIpO24uZWFjaCh0aGlzLml0ZW1zLGZ1bmN0aW9uKCl7dC5fYWRkQ2xhc3ModGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZT90aGlzLml0ZW0uZmluZCh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlKTp0aGlzLml0ZW0sInVpLXNvcnRhYmxlLWhhbmRsZSIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbW91c2VEZXN0cm95KCk7Zm9yKHZhciBuPXRoaXMuaXRlbXMubGVuZ3RoLTE7bj49MDtuLS0pdGhpcy5pdGVtc1tuXS5pdGVtLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lKyItaXRlbSIpO3JldHVybiB0aGlzfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bnVsbCxmPSExLHU9dGhpcztyZXR1cm4gdGhpcy5yZXZlcnRpbmc/ITE6dGhpcy5vcHRpb25zLmRpc2FibGVkfHwic3RhdGljIj09PXRoaXMub3B0aW9ucy50eXBlPyExOih0aGlzLl9yZWZyZXNoSXRlbXModCksbih0LnRhcmdldCkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXtpZihuLmRhdGEodGhpcyx1LndpZGdldE5hbWUrIi1pdGVtIik9PT11KXJldHVybihyPW4odGhpcyksITEpfSksbi5kYXRhKHQudGFyZ2V0LHUud2lkZ2V0TmFtZSsiLWl0ZW0iKT09PXUmJihyPW4odC50YXJnZXQpKSxyPyF0aGlzLm9wdGlvbnMuaGFuZGxlfHxpfHwobih0aGlzLm9wdGlvbnMuaGFuZGxlLHIpLmZpbmQoIioiKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3RoaXM9PT10LnRhcmdldCYmKGY9ITApfSksZik/KHRoaXMuY3VycmVudEl0ZW09cix0aGlzLl9yZW1vdmVDdXJyZW50c0Zyb21JdGVtcygpLCEwKTohMTohMSl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgZixlLHU9dGhpcy5vcHRpb25zO2lmKHRoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXMuaGVscGVyPXRoaXMuX2NyZWF0ZUhlbHBlcih0KSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5vZmZzZXQ9dGhpcy5jdXJyZW50SXRlbS5vZmZzZXQoKSx0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5vZmZzZXQubGVmdC10aGlzLm1hcmdpbnMubGVmdH0sbi5leHRlbmQodGhpcy5vZmZzZXQse2NsaWNrOntsZWZ0OnQucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6dC5wYWdlWS10aGlzLm9mZnNldC50b3B9LHBhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIiksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksdS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcih1LmN1cnNvckF0KSx0aGlzLmRvbVBvc2l0aW9uPXtwcmV2OnRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLHBhcmVudDp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuY3VycmVudEl0ZW0uaGlkZSgpLHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCksdS5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKSx1LmN1cnNvciYmImF1dG8iIT09dS5jdXJzb3ImJihlPXRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLHRoaXMuc3RvcmVkQ3Vyc29yPWUuY3NzKCJjdXJzb3IiKSxlLmNzcygiY3Vyc29yIix1LmN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0PW4oIjxzdHlsZT4qeyBjdXJzb3I6ICIrdS5jdXJzb3IrIiAhaW1wb3J0YW50OyB9PFwvc3R5bGU+IikuYXBwZW5kVG8oZSkpLHUub3BhY2l0eSYmKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpJiYodGhpcy5fc3RvcmVkT3BhY2l0eT10aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSksdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iix1Lm9wYWNpdHkpKSx1LnpJbmRleCYmKHRoaXMuaGVscGVyLmNzcygiekluZGV4IikmJih0aGlzLl9zdG9yZWRaSW5kZXg9dGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSksdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLHUuekluZGV4KSksdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lJiYodGhpcy5vdmVyZmxvd09mZnNldD10aGlzLnNjcm9sbFBhcmVudC5vZmZzZXQoKSksdGhpcy5fdHJpZ2dlcigic3RhcnQiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuX3ByZXNlcnZlSGVscGVyUHJvcG9ydGlvbnN8fHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSwhcilmb3IoZj10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7Zj49MDtmLS0pdGhpcy5jb250YWluZXJzW2ZdLl90cmlnZ2VyKCJhY3RpdmF0ZSIsdCx0aGlzLl91aUhhc2godGhpcykpO3JldHVybiBuLnVpLmRkbWFuYWdlciYmKG4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksbi51aS5kZG1hbmFnZXImJiF1LmRyb3BCZWhhdmlvdXImJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsdCksdGhpcy5kcmFnZ2luZz0hMCx0aGlzLl9hZGRDbGFzcyh0aGlzLmhlbHBlciwidWktc29ydGFibGUtaGVscGVyIiksdGhpcy5fbW91c2VEcmFnKHQpLCEwfSxfbW91c2VEcmFnOmZ1bmN0aW9uKHQpe3ZhciBlLHUsZixvLGk9dGhpcy5vcHRpb25zLHI9ITE7Zm9yKHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMubGFzdFBvc2l0aW9uQWJzfHwodGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicyksdGhpcy5vcHRpb25zLnNjcm9sbCYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmIkhUTUwiIT09dGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZT8odGhpcy5vdmVyZmxvd09mZnNldC50b3ArdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0SGVpZ2h0LXQucGFnZVk8aS5zY3JvbGxTZW5zaXRpdml0eT90aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3A9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AraS5zY3JvbGxTcGVlZDp0LnBhZ2VZLXRoaXMub3ZlcmZsb3dPZmZzZXQudG9wPGkuc2Nyb2xsU2Vuc2l0aXZpdHkmJih0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3A9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxUb3AtaS5zY3JvbGxTcGVlZCksdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0K3RoaXMuc2Nyb2xsUGFyZW50WzBdLm9mZnNldFdpZHRoLXQucGFnZVg8aS5zY3JvbGxTZW5zaXRpdml0eT90aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0PXI9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdCtpLnNjcm9sbFNwZWVkOnQucGFnZVgtdGhpcy5vdmVyZmxvd09mZnNldC5sZWZ0PGkuc2Nyb2xsU2Vuc2l0aXZpdHkmJih0aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0PXI9dGhpcy5zY3JvbGxQYXJlbnRbMF0uc2Nyb2xsTGVmdC1pLnNjcm9sbFNwZWVkKSk6KHQucGFnZVktdGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKTxpLnNjcm9sbFNlbnNpdGl2aXR5P3I9dGhpcy5kb2N1bWVudC5zY3JvbGxUb3AodGhpcy5kb2N1bWVudC5zY3JvbGxUb3AoKS1pLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy5oZWlnaHQoKS0odC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpKTxpLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpK2kuc2Nyb2xsU3BlZWQpKSx0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpPGkuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCktaS5zY3JvbGxTcGVlZCk6dGhpcy53aW5kb3cud2lkdGgoKS0odC5wYWdlWC10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKSk8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHI9dGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KHRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpK2kuc2Nyb2xsU3BlZWQpKSksciE9PSExJiZuLnVpLmRkbWFuYWdlciYmIWkuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSx0aGlzLm9wdGlvbnMuYXhpcyYmInkiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLm9wdGlvbnMuYXhpcyYmIngiPT09dGhpcy5vcHRpb25zLmF4aXN8fCh0aGlzLmhlbHBlclswXS5zdHlsZS50b3A9dGhpcy5wb3NpdGlvbi50b3ArInB4IiksZT10aGlzLml0ZW1zLmxlbmd0aC0xO2U+PTA7ZS0tKWlmKHU9dGhpcy5pdGVtc1tlXSxmPXUuaXRlbVswXSxvPXRoaXMuX2ludGVyc2VjdHNXaXRoUG9pbnRlcih1KSxvJiZ1Lmluc3RhbmNlPT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiZmIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5wbGFjZWhvbGRlclsxPT09bz8ibmV4dCI6InByZXYiXSgpWzBdIT09ZiYmIW4uY29udGFpbnModGhpcy5wbGFjZWhvbGRlclswXSxmKSYmKCJzZW1pLWR5bmFtaWMiPT09dGhpcy5vcHRpb25zLnR5cGU/IW4uY29udGFpbnModGhpcy5lbGVtZW50WzBdLGYpOiEwKSl7aWYodGhpcy5kaXJlY3Rpb249MT09PW8/ImRvd24iOiJ1cCIsInBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmIXRoaXMuX2ludGVyc2VjdHNXaXRoU2lkZXModSkpYnJlYWs7dGhpcy5fcmVhcnJhbmdlKHQsdSk7dGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKTticmVha31yZXR1cm4gdGhpcy5fY29udGFjdENvbnRhaW5lcnModCksbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSx0aGlzLl90cmlnZ2VyKCJzb3J0Iix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKHQsaSl7aWYodCl7aWYobi51aS5kZG1hbmFnZXImJiF0aGlzLm9wdGlvbnMuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIuZHJvcCh0aGlzLHQpLHRoaXMub3B0aW9ucy5yZXZlcnQpe3ZhciBlPXRoaXMsZj10aGlzLnBsYWNlaG9sZGVyLm9mZnNldCgpLHI9dGhpcy5vcHRpb25zLmF4aXMsdT17fTtyJiYieCIhPT1yfHwodS5sZWZ0PWYubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdC10aGlzLm1hcmdpbnMubGVmdCsodGhpcy5vZmZzZXRQYXJlbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxMZWZ0KSk7ciYmInkiIT09cnx8KHUudG9wPWYudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AtdGhpcy5tYXJnaW5zLnRvcCsodGhpcy5vZmZzZXRQYXJlbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxUb3ApKTt0aGlzLnJldmVydGluZz0hMDtuKHRoaXMuaGVscGVyKS5hbmltYXRlKHUscGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwxMCl8fDUwMCxmdW5jdGlvbigpe2UuX2NsZWFyKHQpfSl9ZWxzZSB0aGlzLl9jbGVhcih0LGkpO3JldHVybiExfX0sY2FuY2VsOmZ1bmN0aW9uKCl7aWYodGhpcy5kcmFnZ2luZyl7dGhpcy5fbW91c2VVcChuZXcgbi5FdmVudCgibW91c2V1cCIse3RhcmdldDpudWxsfSkpOyJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyPyh0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuY3VycmVudEl0ZW0sInVpLXNvcnRhYmxlLWhlbHBlciIpKTp0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodmFyIHQ9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuY29udGFpbmVyc1t0XS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJvdXQiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLCJvcmlnaW5hbCIhPT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLmhlbHBlciYmdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksbi5leHRlbmQodGhpcyx7aGVscGVyOm51bGwsZHJhZ2dpbmc6ITEscmV2ZXJ0aW5nOiExLF9ub0ZpbmFsU29ydDpudWxsfSksdGhpcy5kb21Qb3NpdGlvbi5wcmV2P24odGhpcy5kb21Qb3NpdGlvbi5wcmV2KS5hZnRlcih0aGlzLmN1cnJlbnRJdGVtKTpuKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pKSx0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxuKHIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj0obih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIikubWF0Y2godC5leHByZXNzaW9ufHwvKC4rKVtcLT1fXSguKykvKTtyJiZpLnB1c2goKHQua2V5fHxyWzFdKyJbXSIpKyI9IisodC5rZXkmJnQuZXhwcmVzc2lvbj9yWzFdOnJbMl0pKX0pLCFpLmxlbmd0aCYmdC5rZXkmJmkucHVzaCh0LmtleSsiPSIpLGkuam9pbigiJiIpfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkodCYmdC5jb25uZWN0ZWQpLGk9W107cmV0dXJuIHQ9dHx8e30sci5lYWNoKGZ1bmN0aW9uKCl7aS5wdXNoKG4odC5pdGVtfHx0aGlzKS5hdHRyKHQuYXR0cmlidXRlfHwiaWQiKXx8IiIpfSksaX0sX2ludGVyc2VjdHNXaXRoOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMucG9zaXRpb25BYnMubGVmdCxoPXQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxpPXRoaXMucG9zaXRpb25BYnMudG9wLGM9aSt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxyPW4ubGVmdCxmPXIrbi53aWR0aCx1PW4udG9wLGU9dStuLmhlaWdodCxvPXRoaXMub2Zmc2V0LmNsaWNrLnRvcCxzPXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsbD0ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8aStvPnUmJmU+aStvLGE9InkiPT09dGhpcy5vcHRpb25zLmF4aXN8fHQrcz5yJiZmPnQrcyx2PWwmJmE7cmV0dXJuInBvaW50ZXIiPT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZXx8dGhpcy5vcHRpb25zLmZvcmNlUG9pbnRlckZvckNvbnRhaW5lcnN8fCJwb2ludGVyIiE9PXRoaXMub3B0aW9ucy50b2xlcmFuY2UmJnRoaXMuaGVscGVyUHJvcG9ydGlvbnNbdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT5uW3RoaXMuZmxvYXRpbmc/IndpZHRoIjoiaGVpZ2h0Il0/djp0K3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMj5yJiZmPmgtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZpK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI+dSYmZT5jLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzJ9LF9pbnRlcnNlY3RzV2l0aFBvaW50ZXI6ZnVuY3Rpb24obil7dmFyIHQsaSxyPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCxuLmhlaWdodCksdT0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCxuLmxlZnQsbi53aWR0aCksZj1yJiZ1O3JldHVybiBmPyh0PXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGk9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKSx0aGlzLmZsb2F0aW5nPyJyaWdodCI9PT1pfHwiZG93biI9PT10PzI6MTp0JiYoImRvd24iPT09dD8yOjEpKTohMX0sX2ludGVyc2VjdHNXaXRoU2lkZXM6ZnVuY3Rpb24obil7dmFyIHI9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLnRvcCt0aGlzLm9mZnNldC5jbGljay50b3Asbi50b3Arbi5oZWlnaHQvMixuLmhlaWdodCksdT10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LG4ubGVmdCtuLndpZHRoLzIsbi53aWR0aCksdD10aGlzLl9nZXREcmFnVmVydGljYWxEaXJlY3Rpb24oKSxpPXRoaXMuX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uKCk7cmV0dXJuIHRoaXMuZmxvYXRpbmcmJmk/InJpZ2h0Ij09PWkmJnV8fCJsZWZ0Ij09PWkmJiF1OnQmJigiZG93biI9PT10JiZyfHwidXAiPT09dCYmIXIpfSxfZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wb3NpdGlvbkFicy50b3AtdGhpcy5sYXN0UG9zaXRpb25BYnMudG9wO3JldHVybiAwIT09biYmKG4+MD8iZG93biI6InVwIil9LF9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMucG9zaXRpb25BYnMubGVmdC10aGlzLmxhc3RQb3NpdGlvbkFicy5sZWZ0O3JldHVybiAwIT09biYmKG4+MD8icmlnaHQiOiJsZWZ0Iil9LHJlZnJlc2g6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JlZnJlc2hJdGVtcyhuKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSx0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKSx0aGlzfSxfY29ubmVjdFdpdGg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnM7cmV0dXJuIG4uY29ubmVjdFdpdGguY29uc3RydWN0b3I9PT1TdHJpbmc/W24uY29ubmVjdFdpdGhdOm4uY29ubmVjdFdpdGh9LF9nZXRJdGVtc0FzalF1ZXJ5OmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGgoKXtzLnB1c2godGhpcyl9dmFyIHIsdSxlLGkscz1bXSxmPVtdLG89dGhpcy5fY29ubmVjdFdpdGgoKTtpZihvJiZ0KWZvcihyPW8ubGVuZ3RoLTE7cj49MDtyLS0pZm9yKGU9bihvW3JdLHRoaXMuZG9jdW1lbnRbMF0pLHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSlpPW4uZGF0YShlW3VdLHRoaXMud2lkZ2V0RnVsbE5hbWUpLGkmJmkhPT10aGlzJiYhaS5vcHRpb25zLmRpc2FibGVkJiZmLnB1c2goW24uaXNGdW5jdGlvbihpLm9wdGlvbnMuaXRlbXMpP2kub3B0aW9ucy5pdGVtcy5jYWxsKGkuZWxlbWVudCk6bihpLm9wdGlvbnMuaXRlbXMsaS5lbGVtZW50KS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKS5ub3QoIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlciIpLGldKTtmb3IoZi5wdXNoKFtuLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLml0ZW1zKT90aGlzLm9wdGlvbnMuaXRlbXMuY2FsbCh0aGlzLmVsZW1lbnQsbnVsbCx7b3B0aW9uczp0aGlzLm9wdGlvbnMsaXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6bih0aGlzLm9wdGlvbnMuaXRlbXMsdGhpcy5lbGVtZW50KS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKS5ub3QoIi51aS1zb3J0YWJsZS1wbGFjZWhvbGRlciIpLHRoaXNdKSxyPWYubGVuZ3RoLTE7cj49MDtyLS0pZltyXVswXS5lYWNoKGgpO3JldHVybiBuKHMpfSxfcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmN1cnJlbnRJdGVtLmZpbmQoIjpkYXRhKCIrdGhpcy53aWRnZXROYW1lKyItaXRlbSkiKTt0aGlzLml0ZW1zPW4uZ3JlcCh0aGlzLml0ZW1zLGZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0wO3QubGVuZ3RoPmk7aSsrKWlmKHRbaV09PT1uLml0ZW1bMF0pcmV0dXJuITE7cmV0dXJuITB9KX0sX3JlZnJlc2hJdGVtczpmdW5jdGlvbih0KXt0aGlzLml0ZW1zPVtdO3RoaXMuY29udGFpbmVycz1bdGhpc107dmFyIHIsdSxlLGksbyxzLGgsbCxhPXRoaXMuaXRlbXMsZj1bW24uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudFswXSx0LHtpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLHRoaXNdXSxjPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYoYyYmdGhpcy5yZWFkeSlmb3Iocj1jLmxlbmd0aC0xO3I+PTA7ci0tKWZvcihlPW4oY1tyXSx0aGlzLmRvY3VtZW50WzBdKSx1PWUubGVuZ3RoLTE7dT49MDt1LS0paT1uLmRhdGEoZVt1XSx0aGlzLndpZGdldEZ1bGxOYW1lKSxpJiZpIT09dGhpcyYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKGYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4oaS5vcHRpb25zLml0ZW1zLGkuZWxlbWVudCksaV0pLHRoaXMuY29udGFpbmVycy5wdXNoKGkpKTtmb3Iocj1mLmxlbmd0aC0xO3I+PTA7ci0tKWZvcihvPWZbcl1bMV0scz1mW3JdWzBdLHU9MCxsPXMubGVuZ3RoO2w+dTt1KyspaD1uKHNbdV0pLGguZGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIixvKSxhLnB1c2goe2l0ZW06aCxpbnN0YW5jZTpvLHdpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHRvcDowfSl9LHJlZnJlc2hQb3NpdGlvbnM6ZnVuY3Rpb24odCl7dGhpcy5mbG9hdGluZz10aGlzLml0ZW1zLmxlbmd0aD8ieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dGhpcy5faXNGbG9hdGluZyh0aGlzLml0ZW1zWzBdLml0ZW0pOiExO3RoaXMub2Zmc2V0UGFyZW50JiZ0aGlzLmhlbHBlciYmKHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSk7Zm9yKHZhciByLGYsdSxpPXRoaXMuaXRlbXMubGVuZ3RoLTE7aT49MDtpLS0pcj10aGlzLml0ZW1zW2ldLHIuaW5zdGFuY2UhPT10aGlzLmN1cnJlbnRDb250YWluZXImJnRoaXMuY3VycmVudENvbnRhaW5lciYmci5pdGVtWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXXx8KGY9dGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQ/bih0aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudCxyLml0ZW0pOnIuaXRlbSx0fHwoci53aWR0aD1mLm91dGVyV2lkdGgoKSxyLmhlaWdodD1mLm91dGVySGVpZ2h0KCkpLHU9Zi5vZmZzZXQoKSxyLmxlZnQ9dS5sZWZ0LHIudG9wPXUudG9wKTtpZih0aGlzLm9wdGlvbnMuY3VzdG9tJiZ0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzKXRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMuY2FsbCh0aGlzKTtlbHNlIGZvcihpPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtpPj0wO2ktLSl1PXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm9mZnNldCgpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5sZWZ0PXUubGVmdCx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUudG9wPXUudG9wLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS53aWR0aD10aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlcldpZHRoKCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmhlaWdodD10aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vdXRlckhlaWdodCgpO3JldHVybiB0aGlzfSxfY3JlYXRlUGxhY2Vob2xkZXI6ZnVuY3Rpb24odCl7dD10fHx0aGlzO3ZhciByLGk9dC5vcHRpb25zO2kucGxhY2Vob2xkZXImJmkucGxhY2Vob2xkZXIuY29uc3RydWN0b3IhPT1TdHJpbmd8fChyPWkucGxhY2Vob2xkZXIsaS5wbGFjZWhvbGRlcj17ZWxlbWVudDpmdW5jdGlvbigpe3ZhciB1PXQuY3VycmVudEl0ZW1bMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxpPW4oIjwiK3UrIj4iLHQuZG9jdW1lbnRbMF0pO3JldHVybiB0Ll9hZGRDbGFzcyhpLCJ1aS1zb3J0YWJsZS1wbGFjZWhvbGRlciIscnx8dC5jdXJyZW50SXRlbVswXS5jbGFzc05hbWUpLl9yZW1vdmVDbGFzcyhpLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSwidGJvZHkiPT09dT90Ll9jcmVhdGVUclBsYWNlaG9sZGVyKHQuY3VycmVudEl0ZW0uZmluZCgidHIiKS5lcSgwKSxuKCI8dHI+Iix0LmRvY3VtZW50WzBdKS5hcHBlbmRUbyhpKSk6InRyIj09PXU/dC5fY3JlYXRlVHJQbGFjZWhvbGRlcih0LmN1cnJlbnRJdGVtLGkpOiJpbWciPT09dSYmaS5hdHRyKCJzcmMiLHQuY3VycmVudEl0ZW0uYXR0cigic3JjIikpLHJ8fGkuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksaX0sdXBkYXRlOmZ1bmN0aW9uKG4sdSl7KCFyfHxpLmZvcmNlUGxhY2Vob2xkZXJTaXplKSYmKHUuaGVpZ2h0KCl8fHUuaGVpZ2h0KHQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1RvcCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0JvdHRvbSIpfHwwLDEwKSksdS53aWR0aCgpfHx1LndpZHRoKHQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nTGVmdCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1JpZ2h0Iil8fDAsMTApKSl9fSk7dC5wbGFjZWhvbGRlcj1uKGkucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHQuZWxlbWVudCx0LmN1cnJlbnRJdGVtKSk7dC5jdXJyZW50SXRlbS5hZnRlcih0LnBsYWNlaG9sZGVyKTtpLnBsYWNlaG9sZGVyLnVwZGF0ZSh0LHQucGxhY2Vob2xkZXIpfSxfY3JlYXRlVHJQbGFjZWhvbGRlcjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7dC5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXtuKCI8dGQ+JiMxNjA7PFwvdGQ+IixyLmRvY3VtZW50WzBdKS5hdHRyKCJjb2xzcGFuIixuKHRoaXMpLmF0dHIoImNvbHNwYW4iKXx8MSkuYXBwZW5kVG8oaSl9KX0sX2NvbnRhY3RDb250YWluZXJzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgdSxjLGYsYSx2LG8sbCxzLGgsZT1udWxsLGk9bnVsbCxyPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtyPj0wO3ItLSlpZighbi5jb250YWlucyh0aGlzLmN1cnJlbnRJdGVtWzBdLHRoaXMuY29udGFpbmVyc1tyXS5lbGVtZW50WzBdKSlpZih0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUpKXtpZihlJiZuLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tyXS5lbGVtZW50WzBdLGUuZWxlbWVudFswXSkpY29udGludWU7ZT10aGlzLmNvbnRhaW5lcnNbcl07aT1yfWVsc2UgdGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbcl0uX3RyaWdnZXIoIm91dCIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZS5vdmVyPTApO2lmKGUpaWYoMT09PXRoaXMuY29udGFpbmVycy5sZW5ndGgpdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXJ8fCh0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0xKTtlbHNle2ZvcihjPTFlNCxmPW51bGwscz1lLmZsb2F0aW5nfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuY3VycmVudEl0ZW0pLGE9cz8ibGVmdCI6InRvcCIsdj1zPyJ3aWR0aCI6ImhlaWdodCIsaD1zPyJwYWdlWCI6InBhZ2VZIix1PXRoaXMuaXRlbXMubGVuZ3RoLTE7dT49MDt1LS0pbi5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudFswXSx0aGlzLml0ZW1zW3VdLml0ZW1bMF0pJiZ0aGlzLml0ZW1zW3VdLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiYobz10aGlzLml0ZW1zW3VdLml0ZW0ub2Zmc2V0KClbYV0sbD0hMSx0W2hdLW8+dGhpcy5pdGVtc1t1XVt2XS8yJiYobD0hMCksYz5NYXRoLmFicyh0W2hdLW8pJiYoYz1NYXRoLmFicyh0W2hdLW8pLGY9dGhpcy5pdGVtc1t1XSx0aGlzLmRpcmVjdGlvbj1sPyJ1cCI6ImRvd24iKSk7aWYoIWYmJiF0aGlzLm9wdGlvbnMuZHJvcE9uRW1wdHkpcmV0dXJuO2lmKHRoaXMuY3VycmVudENvbnRhaW5lcj09PXRoaXMuY29udGFpbmVyc1tpXSlyZXR1cm4gdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXJ8fCh0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyPTEpLHZvaWQgMDtmP3RoaXMuX3JlYXJyYW5nZSh0LGYsbnVsbCwhMCk6dGhpcy5fcmVhcnJhbmdlKHQsbnVsbCx0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudCwhMCk7dGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKTt0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2godGhpcykpO3RoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLmNvbnRhaW5lcnNbaV07dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSh0aGlzLmN1cnJlbnRDb250YWluZXIsdGhpcy5wbGFjZWhvbGRlcik7dGhpcy5jb250YWluZXJzW2ldLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXI9MX19LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5vcHRpb25zLGk9bi5pc0Z1bmN0aW9uKHIuaGVscGVyKT9uKHIuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdCx0aGlzLmN1cnJlbnRJdGVtXSkpOiJjbG9uZSI9PT1yLmhlbHBlcj90aGlzLmN1cnJlbnRJdGVtLmNsb25lKCk6dGhpcy5jdXJyZW50SXRlbTtyZXR1cm4gaS5wYXJlbnRzKCJib2R5IikubGVuZ3RofHxuKCJwYXJlbnQiIT09ci5hcHBlbmRUbz9yLmFwcGVuZFRvOnRoaXMuY3VycmVudEl0ZW1bMF0ucGFyZW50Tm9kZSlbMF0uYXBwZW5kQ2hpbGQoaVswXSksaVswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0mJih0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfSksKCFpWzBdLnN0eWxlLndpZHRofHxyLmZvcmNlSGVscGVyU2l6ZSkmJmkud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKSwoIWlbMF0uc3R5bGUuaGVpZ2h0fHxyLmZvcmNlSGVscGVyU2l6ZSkmJmkuaGVpZ2h0KHRoaXMuY3VycmVudEl0ZW0uaGVpZ2h0KCkpLGl9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKTtuLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pOyJsZWZ0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCk7InJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCk7InRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApOyJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3RoaXMub2Zmc2V0UGFyZW50PXRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpO3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpO3JldHVybiJhYnNvbHV0ZSI9PT10aGlzLmNzc1Bvc2l0aW9uJiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYodC5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCksdC50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSwodGhpcy5vZmZzZXRQYXJlbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmJvZHl8fHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUmJiJodG1sIj09PXRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbi51aS5pZSkmJih0PXt0b3A6MCxsZWZ0OjB9KSx7dG9wOnQudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoInJlbGF0aXZlIj09PXRoaXMuY3NzUG9zaXRpb24pe3ZhciBuPXRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1yZXR1cm57dG9wOjAsbGVmdDowfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIHQscix1LGk9dGhpcy5vcHRpb25zOyJwYXJlbnQiPT09aS5jb250YWlubWVudCYmKGkuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSk7KCJkb2N1bWVudCI9PT1pLmNvbnRhaW5tZW50fHwid2luZG93Ij09PWkuY29udGFpbm1lbnQpJiYodGhpcy5jb250YWlubWVudD1bMC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LDAtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsImRvY3VtZW50Ij09PWkuY29udGFpbm1lbnQ/dGhpcy5kb2N1bWVudC53aWR0aCgpOnRoaXMud2luZG93LndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwoImRvY3VtZW50Ij09PWkuY29udGFpbm1lbnQ/dGhpcy5kb2N1bWVudC5oZWlnaHQoKXx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodDp0aGlzLndpbmRvdy5oZWlnaHQoKXx8dGhpcy5kb2N1bWVudFswXS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSk7L14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KGkuY29udGFpbm1lbnQpfHwodD1uKGkuY29udGFpbm1lbnQpWzBdLHI9bihpLmNvbnRhaW5tZW50KS5vZmZzZXQoKSx1PSJoaWRkZW4iIT09bih0KS5jc3MoIm92ZXJmbG93IiksdGhpcy5jb250YWlubWVudD1bci5sZWZ0KyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKS10aGlzLm1hcmdpbnMubGVmdCxyLnRvcCsocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLXRoaXMubWFyZ2lucy50b3Asci5sZWZ0Kyh1P01hdGgubWF4KHQuc2Nyb2xsV2lkdGgsdC5vZmZzZXRXaWR0aCk6dC5vZmZzZXRXaWR0aCktKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1JpZ2h0IiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyh1P01hdGgubWF4KHQuc2Nyb2xsSGVpZ2h0LHQub2Zmc2V0SGVpZ2h0KTp0Lm9mZnNldEhlaWdodCktKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nQm90dG9tIiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSl9LF9jb252ZXJ0UG9zaXRpb25UbzpmdW5jdGlvbih0LGkpe2l8fChpPXRoaXMucG9zaXRpb24pO3ZhciByPSJhYnNvbHV0ZSI9PT10PzE6LTEsdT0iYWJzb2x1dGUiIT09dGhpcy5jc3NQb3NpdGlvbnx8dGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKT90aGlzLnNjcm9sbFBhcmVudDp0aGlzLm9mZnNldFBhcmVudCxmPS8oaHRtbHxib2R5KS9pLnRlc3QodVswXS50YWdOYW1lKTtyZXR1cm57dG9wOmkudG9wK3RoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcCpyK3RoaXMub2Zmc2V0LnBhcmVudC50b3Aqci0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOmY/MDp1LnNjcm9sbFRvcCgpKSpyLGxlZnQ6aS5sZWZ0K3RoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQqcit0aGlzLm9mZnNldC5wYXJlbnQubGVmdCpyLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOmY/MDp1LnNjcm9sbExlZnQoKSkqcn19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKHQpe3ZhciByLHUsaT10aGlzLm9wdGlvbnMsZj10LnBhZ2VYLGU9dC5wYWdlWSxvPSJhYnNvbHV0ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LHM9LyhodG1sfGJvZHkpL2kudGVzdChvWzBdLnRhZ05hbWUpO3JldHVybiJyZWxhdGl2ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5vZmZzZXRQYXJlbnRbMF18fCh0aGlzLm9mZnNldC5yZWxhdGl2ZT10aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpKSx0aGlzLm9yaWdpbmFsUG9zaXRpb24mJih0aGlzLmNvbnRhaW5tZW50JiYodC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PHRoaXMuY29udGFpbm1lbnRbMF0mJihmPXRoaXMuY29udGFpbm1lbnRbMF0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A8dGhpcy5jb250YWlubWVudFsxXSYmKGU9dGhpcy5jb250YWlubWVudFsxXSt0aGlzLm9mZnNldC5jbGljay50b3ApLHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdD50aGlzLmNvbnRhaW5tZW50WzJdJiYoZj10aGlzLmNvbnRhaW5tZW50WzJdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPnRoaXMuY29udGFpbm1lbnRbM10mJihlPXRoaXMuY29udGFpbm1lbnRbM10rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSksaS5ncmlkJiYocj10aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoZS10aGlzLm9yaWdpbmFsUGFnZVkpL2kuZ3JpZFsxXSkqaS5ncmlkWzFdLGU9dGhpcy5jb250YWlubWVudD9yLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49dGhpcy5jb250YWlubWVudFsxXSYmci10aGlzLm9mZnNldC5jbGljay50b3A8PXRoaXMuY29udGFpbm1lbnRbM10/cjpyLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49dGhpcy5jb250YWlubWVudFsxXT9yLWkuZ3JpZFsxXTpyK2kuZ3JpZFsxXTpyLHU9dGhpcy5vcmlnaW5hbFBhZ2VYK01hdGgucm91bmQoKGYtdGhpcy5vcmlnaW5hbFBhZ2VYKS9pLmdyaWRbMF0pKmkuZ3JpZFswXSxmPXRoaXMuY29udGFpbm1lbnQ/dS10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdJiZ1LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8PXRoaXMuY29udGFpbm1lbnRbMl0/dTp1LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0/dS1pLmdyaWRbMF06dStpLmdyaWRbMF06dSkpLHt0b3A6ZS10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpzPzA6by5zY3JvbGxUb3AoKSksbGVmdDpmLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQtdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTpzPzA6by5zY3JvbGxMZWZ0KCkpfX0sX3JlYXJyYW5nZTpmdW5jdGlvbihuLHQsaSxyKXtpP2lbMF0uYXBwZW5kQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSk6dC5pdGVtWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMucGxhY2Vob2xkZXJbMF0sImRvd24iPT09dGhpcy5kaXJlY3Rpb24/dC5pdGVtWzBdOnQuaXRlbVswXS5uZXh0U2libGluZyk7dGhpcy5jb3VudGVyPXRoaXMuY291bnRlcj8rK3RoaXMuY291bnRlcjoxO3ZhciB1PXRoaXMuY291bnRlcjt0aGlzLl9kZWxheShmdW5jdGlvbigpe3U9PT10aGlzLmNvdW50ZXImJnRoaXMucmVmcmVzaFBvc2l0aW9ucyghcil9KX0sX2NsZWFyOmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gdShuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe2kuX3RyaWdnZXIobixyLHQuX3VpSGFzaCh0KSl9fXRoaXMucmV2ZXJ0aW5nPSExO3ZhciBpLHI9W107aWYoIXRoaXMuX25vRmluYWxTb3J0JiZ0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpLmxlbmd0aCYmdGhpcy5wbGFjZWhvbGRlci5iZWZvcmUodGhpcy5jdXJyZW50SXRlbSksdGhpcy5fbm9GaW5hbFNvcnQ9bnVsbCx0aGlzLmhlbHBlclswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0pe2ZvcihpIGluIHRoaXMuX3N0b3JlZENTUykoImF1dG8iPT09dGhpcy5fc3RvcmVkQ1NTW2ldfHwic3RhdGljIj09PXRoaXMuX3N0b3JlZENTU1tpXSkmJih0aGlzLl9zdG9yZWRDU1NbaV09IiIpO3RoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyk7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIil9ZWxzZSB0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodGhpcy5mcm9tT3V0c2lkZSYmIXQmJnIucHVzaChmdW5jdGlvbihuKXt0aGlzLl90cmlnZ2VyKCJyZWNlaXZlIixuLHRoaXMuX3VpSGFzaCh0aGlzLmZyb21PdXRzaWRlKSl9KSwhdGhpcy5mcm9tT3V0c2lkZSYmdGhpcy5kb21Qb3NpdGlvbi5wcmV2PT09dGhpcy5jdXJyZW50SXRlbS5wcmV2KCkubm90KCIudWktc29ydGFibGUtaGVscGVyIilbMF0mJnRoaXMuZG9tUG9zaXRpb24ucGFyZW50PT09dGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKVswXXx8dHx8ci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInVwZGF0ZSIsbix0aGlzLl91aUhhc2goKSl9KSx0aGlzIT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiYodHx8KHIucHVzaChmdW5jdGlvbihuKXt0aGlzLl90cmlnZ2VyKCJyZW1vdmUiLG4sdGhpcy5fdWlIYXNoKCkpfSksci5wdXNoKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtuLl90cmlnZ2VyKCJyZWNlaXZlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSksci5wdXNoKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtuLl90cmlnZ2VyKCJ1cGRhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSkpLGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2k+PTA7aS0tKXR8fHIucHVzaCh1KCJkZWFjdGl2YXRlIix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyJiYoci5wdXNoKHUoIm91dCIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbaV0pKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKTtpZih0aGlzLnN0b3JlZEN1cnNvciYmKHRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLmNzcygiY3Vyc29yIix0aGlzLnN0b3JlZEN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0LnJlbW92ZSgpKSx0aGlzLl9zdG9yZWRPcGFjaXR5JiZ0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHRoaXMuX3N0b3JlZE9wYWNpdHkpLHRoaXMuX3N0b3JlZFpJbmRleCYmdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLCJhdXRvIj09PXRoaXMuX3N0b3JlZFpJbmRleD8iIjp0aGlzLl9zdG9yZWRaSW5kZXgpLHRoaXMuZHJhZ2dpbmc9ITEsdHx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlU3RvcCIsbix0aGlzLl91aUhhc2goKSksdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbHx8KHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksdGhpcy5oZWxwZXI9bnVsbCksIXQpe2ZvcihpPTA7ci5sZW5ndGg+aTtpKyspcltpXS5jYWxsKHRoaXMsbik7dGhpcy5fdHJpZ2dlcigic3RvcCIsbix0aGlzLl91aUhhc2goKSl9cmV0dXJuIHRoaXMuZnJvbU91dHNpZGU9ITEsIXRoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbH0sX3RyaWdnZXI6ZnVuY3Rpb24oKXtuLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpPT09ITEmJnRoaXMuY2FuY2VsKCl9LF91aUhhc2g6ZnVuY3Rpb24odCl7dmFyIGk9dHx8dGhpcztyZXR1cm57aGVscGVyOmkuaGVscGVyLHBsYWNlaG9sZGVyOmkucGxhY2Vob2xkZXJ8fG4oW10pLHBvc2l0aW9uOmkucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjppLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OmkucG9zaXRpb25BYnMsaXRlbTppLmN1cnJlbnRJdGVtLHNlbmRlcjp0P3QuZWxlbWVudDpudWxsfX19KTtuLndpZGdldCgidWkuc3Bpbm5lciIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLHdpZGdldEV2ZW50UHJlZml4OiJzcGluIixvcHRpb25zOntjbGFzc2VzOnsidWktc3Bpbm5lciI6InVpLWNvcm5lci1hbGwiLCJ1aS1zcGlubmVyLWRvd24iOiJ1aS1jb3JuZXItYnIiLCJ1aS1zcGlubmVyLXVwIjoidWktY29ybmVyLXRyIn0sY3VsdHVyZTpudWxsLGljb25zOntkb3duOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsdXA6InVpLWljb24tdHJpYW5nbGUtMS1uIn0saW5jcmVtZW50YWw6ITAsbWF4Om51bGwsbWluOm51bGwsbnVtYmVyRm9ybWF0Om51bGwscGFnZToxMCxzdGVwOjEsY2hhbmdlOm51bGwsc3BpbjpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uKCJtYXgiLHRoaXMub3B0aW9ucy5tYXgpO3RoaXMuX3NldE9wdGlvbigibWluIix0aGlzLm9wdGlvbnMubWluKTt0aGlzLl9zZXRPcHRpb24oInN0ZXAiLHRoaXMub3B0aW9ucy5zdGVwKTsiIiE9PXRoaXMudmFsdWUoKSYmdGhpcy5fdmFsdWUodGhpcy5lbGVtZW50LnZhbCgpLCEwKTt0aGlzLl9kcmF3KCk7dGhpcy5fb24odGhpcy5fZXZlbnRzKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zdXBlcigpLGk9dGhpcy5lbGVtZW50O3JldHVybiBuLmVhY2goWyJtaW4iLCJtYXgiLCJzdGVwIl0sZnVuY3Rpb24obixyKXt2YXIgdT1pLmF0dHIocik7bnVsbCE9dSYmdS5sZW5ndGgmJih0W3JdPXUpfSksdH0sX2V2ZW50czp7a2V5ZG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydChuKSYmdGhpcy5fa2V5ZG93bihuKSYmbi5wcmV2ZW50RGVmYXVsdCgpfSxrZXl1cDoiX3N0b3AiLGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLmVsZW1lbnQudmFsKCl9LGJsdXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuY2FuY2VsQmx1cj8oZGVsZXRlIHRoaXMuY2FuY2VsQmx1cix2b2lkIDApOih0aGlzLl9zdG9wKCksdGhpcy5fcmVmcmVzaCgpLHRoaXMucHJldmlvdXMhPT10aGlzLmVsZW1lbnQudmFsKCkmJnRoaXMuX3RyaWdnZXIoImNoYW5nZSIsbiksdm9pZCAwKX0sbW91c2V3aGVlbDpmdW5jdGlvbihuLHQpe2lmKHQpe2lmKCF0aGlzLnNwaW5uaW5nJiYhdGhpcy5fc3RhcnQobikpcmV0dXJuITE7dGhpcy5fc3BpbigodD4wPzE6LTEpKnRoaXMub3B0aW9ucy5zdGVwLG4pO2NsZWFyVGltZW91dCh0aGlzLm1vdXNld2hlZWxUaW1lcik7dGhpcy5tb3VzZXdoZWVsVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnNwaW5uaW5nJiZ0aGlzLl9zdG9wKG4pfSwxMDApO24ucHJldmVudERlZmF1bHQoKX19LCJtb3VzZWRvd24gLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdPT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKTt0fHwodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIiksdGhpcy5wcmV2aW91cz1pLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz1pfSkpfXZhciBpO2k9dGhpcy5lbGVtZW50WzBdPT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKT90aGlzLnByZXZpb3VzOnRoaXMuZWxlbWVudC52YWwoKTt0LnByZXZlbnREZWZhdWx0KCk7ci5jYWxsKHRoaXMpO3RoaXMuY2FuY2VsQmx1cj0hMDt0aGlzLl9kZWxheShmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmNhbmNlbEJsdXI7ci5jYWxsKHRoaXMpfSk7dGhpcy5fc3RhcnQodCkhPT0hMSYmdGhpcy5fcmVwZWF0KG51bGwsbih0LmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCJ1aS1zcGlubmVyLXVwIik/MTotMSx0KX0sIm1vdXNldXAgLnVpLXNwaW5uZXItYnV0dG9uIjoiX3N0b3AiLCJtb3VzZWVudGVyIC51aS1zcGlubmVyLWJ1dHRvbiI6ZnVuY3Rpb24odCl7aWYobih0LmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSlyZXR1cm4gdGhpcy5fc3RhcnQodCk9PT0hMT8hMToodGhpcy5fcmVwZWF0KG51bGwsbih0LmN1cnJlbnRUYXJnZXQpLmhhc0NsYXNzKCJ1aS1zcGlubmVyLXVwIik/MTotMSx0KSx2b2lkIDApfSwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCJ9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAoIjxzcGFuPiIpLnBhcmVudCgpLmFwcGVuZCgiPGE+PFwvYT48YT48XC9hPiIpfSxfZHJhdzpmdW5jdGlvbigpe3RoaXMuX2VuaGFuY2UoKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpU3Bpbm5lciwidWktc3Bpbm5lciIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX2FkZENsYXNzKCJ1aS1zcGlubmVyLWlucHV0Iik7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJzcGluYnV0dG9uIik7dGhpcy5idXR0b25zPXRoaXMudWlTcGlubmVyLmNoaWxkcmVuKCJhIikuYXR0cigidGFiSW5kZXgiLC0xKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLmJ1dHRvbih7Y2xhc3Nlczp7InVpLWJ1dHRvbiI6IiJ9fSk7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5idXR0b25zLCJ1aS1jb3JuZXItYWxsIik7dGhpcy5fYWRkQ2xhc3ModGhpcy5idXR0b25zLmZpcnN0KCksInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItdXAiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbnMubGFzdCgpLCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLWRvd24iKTt0aGlzLmJ1dHRvbnMuZmlyc3QoKS5idXR0b24oe2ljb246dGhpcy5vcHRpb25zLmljb25zLnVwLHNob3dMYWJlbDohMX0pO3RoaXMuYnV0dG9ucy5sYXN0KCkuYnV0dG9uKHtpY29uOnRoaXMub3B0aW9ucy5pY29ucy5kb3duLHNob3dMYWJlbDohMX0pO3RoaXMuYnV0dG9ucy5oZWlnaHQoKT5NYXRoLmNlaWwoLjUqdGhpcy51aVNwaW5uZXIuaGVpZ2h0KCkpJiZ0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKT4wJiZ0aGlzLnVpU3Bpbm5lci5oZWlnaHQodGhpcy51aVNwaW5uZXIuaGVpZ2h0KCkpfSxfa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsaT1uLnVpLmtleUNvZGU7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBpLlVQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwxLHQpLCEwO2Nhc2UgaS5ET1dOOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCwtMSx0KSwhMDtjYXNlIGkuUEFHRV9VUDpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsci5wYWdlLHQpLCEwO2Nhc2UgaS5QQUdFX0RPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC1yLnBhZ2UsdCksITB9cmV0dXJuITF9LF9zdGFydDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5zcGlubmluZ3x8dGhpcy5fdHJpZ2dlcigic3RhcnQiLG4pIT09ITE/KHRoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKSx0aGlzLnNwaW5uaW5nPSEwLCEwKTohMX0sX3JlcGVhdDpmdW5jdGlvbihuLHQsaSl7bj1ufHw1MDA7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9yZXBlYXQoNDAsdCxpKX0sbik7dGhpcy5fc3Bpbih0KnRoaXMub3B0aW9ucy5zdGVwLGkpfSxfc3BpbjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMudmFsdWUoKXx8MDt0aGlzLmNvdW50ZXJ8fCh0aGlzLmNvdW50ZXI9MSk7aT10aGlzLl9hZGp1c3RWYWx1ZShpK24qdGhpcy5faW5jcmVtZW50KHRoaXMuY291bnRlcikpO3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3RyaWdnZXIoInNwaW4iLHQse3ZhbHVlOml9KT09PSExfHwodGhpcy5fdmFsdWUoaSksdGhpcy5jb3VudGVyKyspfSxfaW5jcmVtZW50OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5pbmNyZW1lbnRhbDtyZXR1cm4gaT9uLmlzRnVuY3Rpb24oaSk/aSh0KTpNYXRoLmZsb29yKHQqdCp0LzVlNC10KnQvNTAwKzE3KnQvMjAwKzEpOjF9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYobj1NYXRoLm1heChuLHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksbn0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKG4pe3ZhciB0PSIiK24saT10LmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PWk/MDp0Lmxlbmd0aC1pLTF9LF9hZGp1c3RWYWx1ZTpmdW5jdGlvbihuKXt2YXIgcixpLHQ9dGhpcy5vcHRpb25zO3JldHVybiByPW51bGwhPT10Lm1pbj90Lm1pbjowLGk9bi1yLGk9TWF0aC5yb3VuZChpL3Quc3RlcCkqdC5zdGVwLG49citpLG49cGFyc2VGbG9hdChuLnRvRml4ZWQodGhpcy5fcHJlY2lzaW9uKCkpKSxudWxsIT09dC5tYXgmJm4+dC5tYXg/dC5tYXg6bnVsbCE9PXQubWluJiZ0Lm1pbj5uP3QubWluOm59LF9zdG9wOmZ1bmN0aW9uKG4pe3RoaXMuc3Bpbm5pbmcmJihjbGVhclRpbWVvdXQodGhpcy50aW1lciksY2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKSx0aGlzLmNvdW50ZXI9MCx0aGlzLnNwaW5uaW5nPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiLG4pKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3ZhciB1LGkscjtyZXR1cm4iY3VsdHVyZSI9PT1ufHwibnVtYmVyRm9ybWF0Ij09PW4/KHU9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKSx0aGlzLm9wdGlvbnNbbl09dCx0aGlzLmVsZW1lbnQudmFsKHRoaXMuX2Zvcm1hdCh1KSksdm9pZCAwKTooKCJtYXgiPT09bnx8Im1pbiI9PT1ufHwic3RlcCI9PT1uKSYmInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLl9wYXJzZSh0KSksImljb25zIj09PW4mJihpPXRoaXMuYnV0dG9ucy5maXJzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLHRoaXMub3B0aW9ucy5pY29ucy51cCksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLHQudXApLHI9dGhpcy5idXR0b25zLmxhc3QoKS5maW5kKCIudWktaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKHIsbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuZG93biksdGhpcy5fYWRkQ2xhc3MocixudWxsLHQuZG93bikpLHRoaXMuX3N1cGVyKG4sdCksdm9pZCAwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMudWlTcGlubmVyLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISFuKTt0aGlzLmJ1dHRvbnMuYnV0dG9uKG4/ImRpc2FibGUiOiJlbmFibGUiKX0sX3NldE9wdGlvbnM6dChmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKX0pLF9wYXJzZTpmdW5jdGlvbihuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4mJiIiIT09biYmKG49d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUucGFyc2VGbG9hdChuLDEwLHRoaXMub3B0aW9ucy5jdWx0dXJlKTorbiksIiI9PT1ufHxpc05hTihuKT9udWxsOm59LF9mb3JtYXQ6ZnVuY3Rpb24obil7cmV0dXJuIiI9PT1uPyIiOndpbmRvdy5HbG9iYWxpemUmJnRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQ/R2xvYmFsaXplLmZvcm1hdChuLHRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQsdGhpcy5vcHRpb25zLmN1bHR1cmUpOm59LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoeyJhcmlhLXZhbHVlbWluIjp0aGlzLm9wdGlvbnMubWluLCJhcmlhLXZhbHVlbWF4Ijp0aGlzLm9wdGlvbnMubWF4LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSl9LGlzVmFsaWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnZhbHVlKCk7cmV0dXJuIG51bGw9PT1uPyExOm49PT10aGlzLl9hZGp1c3RWYWx1ZShuKX0sX3ZhbHVlOmZ1bmN0aW9uKG4sdCl7dmFyIGk7IiIhPT1uJiYoaT10aGlzLl9wYXJzZShuKSxudWxsIT09aSYmKHR8fChpPXRoaXMuX2FkanVzdFZhbHVlKGkpKSxuPXRoaXMuX2Zvcm1hdChpKSkpO3RoaXMuZWxlbWVudC52YWwobik7dGhpcy5fcmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSByb2xlIGFyaWEtdmFsdWVtaW4gYXJpYS12YWx1ZW1heCBhcmlhLXZhbHVlbm93Iik7dGhpcy51aVNwaW5uZXIucmVwbGFjZVdpdGgodGhpcy5lbGVtZW50KX0sc3RlcFVwOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcFVwKG4pfSksX3N0ZXBVcDpmdW5jdGlvbihuKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3Bpbigobnx8MSkqdGhpcy5vcHRpb25zLnN0ZXApLHRoaXMuX3N0b3AoKSl9LHN0ZXBEb3duOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcERvd24obil9KSxfc3RlcERvd246ZnVuY3Rpb24obil7dGhpcy5fc3RhcnQoKSYmKHRoaXMuX3NwaW4oKG58fDEpKi10aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0scGFnZVVwOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcFVwKChufHwxKSp0aGlzLm9wdGlvbnMucGFnZSl9KSxwYWdlRG93bjp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N0ZXBEb3duKChufHwxKSp0aGlzLm9wdGlvbnMucGFnZSl9KSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odCh0aGlzLl92YWx1ZSkuY2FsbCh0aGlzLG4pLHZvaWQgMCk6dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlTcGlubmVyfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJm4ud2lkZ2V0KCJ1aS5zcGlubmVyIixuLnVpLnNwaW5uZXIse19lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmF0dHIoImF1dG9jb21wbGV0ZSIsIm9mZiIpLndyYXAodGhpcy5fdWlTcGlubmVySHRtbCgpKS5wYXJlbnQoKS5hcHBlbmQodGhpcy5fYnV0dG9uSHRtbCgpKX0sX3VpU3Bpbm5lckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPHNwYW4+In0sX2J1dHRvbkh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPGE+PFwvYT48YT48XC9hPiJ9fSk7bi51aS5zcGlubmVyO24ud2lkZ2V0KCJ1aS50YWJzIix7dmVyc2lvbjoiMS4xMi4xIixkZWxheTozMDAsb3B0aW9uczp7YWN0aXZlOm51bGwsY2xhc3Nlczp7InVpLXRhYnMiOiJ1aS1jb3JuZXItYWxsIiwidWktdGFicy1uYXYiOiJ1aS1jb3JuZXItYWxsIiwidWktdGFicy1wYW5lbCI6InVpLWNvcm5lci1ib3R0b20iLCJ1aS10YWJzLXRhYiI6InVpLWNvcm5lci10b3AifSxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfaXNMb2NhbDpmdW5jdGlvbigpe3ZhciBuPS8jLiokLztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGkscjtpPXQuaHJlZi5yZXBsYWNlKG4sIiIpO3I9bG9jYXRpb24uaHJlZi5yZXBsYWNlKG4sIiIpO3RyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaCh1KXt9dHJ5e3I9ZGVjb2RlVVJJQ29tcG9uZW50KHIpfWNhdGNoKHUpe31yZXR1cm4gdC5oYXNoLmxlbmd0aD4xJiZpPT09cn19KCksX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD10aGlzLm9wdGlvbnM7dGhpcy5ydW5uaW5nPSExO3RoaXMuX2FkZENsYXNzKCJ1aS10YWJzIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fdG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLG51bGwsdC5jb2xsYXBzaWJsZSk7dGhpcy5fcHJvY2Vzc1RhYnMoKTt0LmFjdGl2ZT10aGlzLl9pbml0aWFsQWN0aXZlKCk7bi5pc0FycmF5KHQuZGlzYWJsZWQpJiYodC5kaXNhYmxlZD1uLnVuaXF1ZSh0LmRpc2FibGVkLmNvbmNhdChuLm1hcCh0aGlzLnRhYnMuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihuKXtyZXR1cm4gaS50YWJzLmluZGV4KG4pfSkpKS5zb3J0KCkpO3RoaXMuYWN0aXZlPXRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLl9maW5kQWN0aXZlKHQuYWN0aXZlKTpuKCk7dGhpcy5fcmVmcmVzaCgpO3RoaXMuYWN0aXZlLmxlbmd0aCYmdGhpcy5sb2FkKHQuYWN0aXZlKX0sX2luaXRpYWxBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYWN0aXZlLGk9dGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlLHI9bG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7cmV0dXJuIG51bGw9PT10JiYociYmdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oaSx1KXtpZihuKHUpLmF0dHIoImFyaWEtY29udHJvbHMiKT09PXIpcmV0dXJuKHQ9aSwhMSl9KSxudWxsPT09dCYmKHQ9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5maWx0ZXIoIi51aS10YWJzLWFjdGl2ZSIpKSksKG51bGw9PT10fHwtMT09PXQpJiYodD10aGlzLnRhYnMubGVuZ3RoPzA6ITEpKSx0IT09ITEmJih0PXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZXEodCkpLC0xPT09dCYmKHQ9aT8hMTowKSksIWkmJnQ9PT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aCYmKHQ9MCksdH0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTpuKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgcj1uKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLmNsb3Nlc3QoImxpIiksaT10aGlzLnRhYnMuaW5kZXgociksdT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdih0KSl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjppKys7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDp1PSExO2ktLTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6aT10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTppPTA7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShpKSx2b2lkIDA7Y2FzZSBuLnVpLmtleUNvZGUuRU5URVI6cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSxjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKSx0aGlzLl9hY3RpdmF0ZShpPT09dGhpcy5vcHRpb25zLmFjdGl2ZT8hMTppKSx2b2lkIDA7ZGVmYXVsdDpyZXR1cm59dC5wcmV2ZW50RGVmYXVsdCgpO2NsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpO2k9dGhpcy5fZm9jdXNOZXh0VGFiKGksdSk7dC5jdHJsS2V5fHx0Lm1ldGFLZXl8fChyLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJmYWxzZSIpLHRoaXMudGFicy5lcShpKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwidHJ1ZSIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKCJhY3RpdmUiLGkpfSx0aGlzLmRlbGF5KSl9fSxfcGFuZWxLZXlkb3duOmZ1bmN0aW9uKHQpe3RoaXMuX2hhbmRsZVBhZ2VOYXYodCl8fHQuY3RybEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlVQJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuYWN0aXZlLnRyaWdnZXIoImZvY3VzIikpfSxfaGFuZGxlUGFnZU5hdjpmdW5jdGlvbih0KXtyZXR1cm4gdC5hbHRLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5QQUdFX1VQPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZS0xLCExKSksITApOnQuYWx0S2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuUEFHRV9ET1dOPyh0aGlzLl9hY3RpdmF0ZSh0aGlzLl9mb2N1c05leHRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSsxLCEwKSksITApOnZvaWQgMH0sX2ZpbmROZXh0VGFiOmZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gdSgpe3JldHVybiB0PnImJih0PTApLDA+dCYmKHQ9ciksdH1mb3IodmFyIHI9dGhpcy50YWJzLmxlbmd0aC0xOy0xIT09bi5pbkFycmF5KHUoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpOyl0PWk/dCsxOnQtMTtyZXR1cm4gdH0sX2ZvY3VzTmV4dFRhYjpmdW5jdGlvbihuLHQpe3JldHVybiBuPXRoaXMuX2ZpbmROZXh0VGFiKG4sdCksdGhpcy50YWJzLmVxKG4pLnRyaWdnZXIoImZvY3VzIiksbn0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3JldHVybiJhY3RpdmUiPT09bj8odGhpcy5fYWN0aXZhdGUodCksdm9pZCAwKToodGhpcy5fc3VwZXIobix0KSwiY29sbGFwc2libGUiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIixudWxsLHQpLHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCkpLCJldmVudCI9PT1uJiZ0aGlzLl9zZXR1cEV2ZW50cyh0KSwiaGVpZ2h0U3R5bGUiPT09biYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0KSx2b2lkIDApfSxfc2FuaXRpemVTZWxlY3RvcjpmdW5jdGlvbihuKXtyZXR1cm4gbj9uLnJlcGxhY2UoL1shIiQlJicoKSorLC5cLzo7PD0+P0BcW1xdXF5ge3x9fl0vZywiXFwkJiIpOiIifSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGk9dGhpcy50YWJsaXN0LmNoaWxkcmVuKCI6aGFzKGFbaHJlZl0pIik7dC5kaXNhYmxlZD1uLm1hcChpLmZpbHRlcigiLnVpLXN0YXRlLWRpc2FibGVkIiksZnVuY3Rpb24obil7cmV0dXJuIGkuaW5kZXgobil9KTt0aGlzLl9wcm9jZXNzVGFicygpO3QuYWN0aXZlIT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGg/dGhpcy5hY3RpdmUubGVuZ3RoJiYhbi5jb250YWlucyh0aGlzLnRhYmxpc3RbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMudGFicy5sZW5ndGg9PT10LmRpc2FibGVkLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTp0aGlzLl9hY3RpdmF0ZSh0aGlzLl9maW5kTmV4dFRhYihNYXRoLm1heCgwLHQuYWN0aXZlLTEpLCExKSk6dC5hY3RpdmU9dGhpcy50YWJzLmluZGV4KHRoaXMuYWN0aXZlKToodC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTt0aGlzLl9yZWZyZXNoKCl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9zZXR1cEV2ZW50cyh0aGlzLm9wdGlvbnMuZXZlbnQpO3RoaXMuX3NldHVwSGVpZ2h0U3R5bGUodGhpcy5vcHRpb25zLmhlaWdodFN0eWxlKTt0aGlzLnRhYnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pO3RoaXMucGFuZWxzLm5vdCh0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkpLmhpZGUoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pO3RoaXMuYWN0aXZlLmxlbmd0aD8odGhpcy5hY3RpdmUuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KSx0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZSwidWktdGFicy1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pKTp0aGlzLnRhYnMuZXEoMCkuYXR0cigidGFiSW5kZXgiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dGhpcy50YWJzLHI9dGhpcy5hbmNob3JzLHU9dGhpcy5wYW5lbHM7dGhpcy50YWJsaXN0PXRoaXMuX2dldExpc3QoKS5hdHRyKCJyb2xlIiwidGFibGlzdCIpO3RoaXMuX2FkZENsYXNzKHRoaXMudGFibGlzdCwidWktdGFicy1uYXYiLCJ1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIiKTt0aGlzLnRhYmxpc3Qub24oIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSwiPiBsaSIsZnVuY3Rpb24odCl7bih0aGlzKS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJnQucHJldmVudERlZmF1bHQoKX0pLm9uKCJmb2N1cyIrdGhpcy5ldmVudE5hbWVzcGFjZSwiLnVpLXRhYnMtYW5jaG9yIixmdW5jdGlvbigpe24odGhpcykuY2xvc2VzdCgibGkiKS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJnRoaXMuYmx1cigpfSk7dGhpcy50YWJzPXRoaXMudGFibGlzdC5maW5kKCI+IGxpOmhhcyhhW2hyZWZdKSIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KTt0aGlzLl9hZGRDbGFzcyh0aGlzLnRhYnMsInVpLXRhYnMtdGFiIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMuYW5jaG9ycz10aGlzLnRhYnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4oImEiLHRoaXMpWzBdfSkuYXR0cih7cm9sZToicHJlc2VudGF0aW9uIix0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMuYW5jaG9ycywidWktdGFicy1hbmNob3IiKTt0aGlzLnBhbmVscz1uKCk7dGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oaSxyKXt2YXIgZix1LGUscz1uKHIpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxvPW4ocikuY2xvc2VzdCgibGkiKSxoPW8uYXR0cigiYXJpYS1jb250cm9scyIpO3QuX2lzTG9jYWwocik/KGY9ci5oYXNoLGU9Zi5zdWJzdHJpbmcoMSksdT10LmVsZW1lbnQuZmluZCh0Ll9zYW5pdGl6ZVNlbGVjdG9yKGYpKSk6KGU9by5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fG4oe30pLnVuaXF1ZUlkKClbMF0uaWQsZj0iIyIrZSx1PXQuZWxlbWVudC5maW5kKGYpLHUubGVuZ3RofHwodT10Ll9jcmVhdGVQYW5lbChlKSx1Lmluc2VydEFmdGVyKHQucGFuZWxzW2ktMV18fHQudGFibGlzdCkpLHUuYXR0cigiYXJpYS1saXZlIiwicG9saXRlIikpO3UubGVuZ3RoJiYodC5wYW5lbHM9dC5wYW5lbHMuYWRkKHUpKTtoJiZvLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIsaCk7by5hdHRyKHsiYXJpYS1jb250cm9scyI6ZSwiYXJpYS1sYWJlbGxlZGJ5IjpzfSk7dS5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLHMpfSk7dGhpcy5wYW5lbHMuYXR0cigicm9sZSIsInRhYnBhbmVsIik7dGhpcy5fYWRkQ2xhc3ModGhpcy5wYW5lbHMsInVpLXRhYnMtcGFuZWwiLCJ1aS13aWRnZXQtY29udGVudCIpO2kmJih0aGlzLl9vZmYoaS5ub3QodGhpcy50YWJzKSksdGhpcy5fb2ZmKHIubm90KHRoaXMuYW5jaG9ycykpLHRoaXMuX29mZih1Lm5vdCh0aGlzLnBhbmVscykpKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJsaXN0fHx0aGlzLmVsZW1lbnQuZmluZCgib2wsIHVsIikuZXEoMCl9LF9jcmVhdGVQYW5lbDpmdW5jdGlvbih0KXtyZXR1cm4gbigiPGRpdj4iKS5hdHRyKCJpZCIsdCkuZGF0YSgidWktdGFicy1kZXN0cm95IiwhMCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbih0KXt2YXIgaSx1LHI7Zm9yKG4uaXNBcnJheSh0KSYmKHQubGVuZ3RoP3QubGVuZ3RoPT09dGhpcy5hbmNob3JzLmxlbmd0aCYmKHQ9ITApOnQ9ITEpLHI9MDt1PXRoaXMudGFic1tyXTtyKyspaT1uKHUpLHQ9PT0hMHx8LTEhPT1uLmluQXJyYXkocix0KT8oaS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpLHRoaXMuX2FkZENsYXNzKGksbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiKSk6KGkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLHRoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiKSk7dGhpcy5vcHRpb25zLmRpc2FibGVkPXQ7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy53aWRnZXQoKSx0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQiLG51bGwsdD09PSEwKX0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKHQpe3ZhciBpPXt9O3QmJm4uZWFjaCh0LnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpW3RdPSJfZXZlbnRIYW5kbGVyIn0pO3RoaXMuX29mZih0aGlzLmFuY2hvcnMuYWRkKHRoaXMudGFicykuYWRkKHRoaXMucGFuZWxzKSk7dGhpcy5fb24oITAsdGhpcy5hbmNob3JzLHtjbGljazpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9fSk7dGhpcy5fb24odGhpcy5hbmNob3JzLGkpO3RoaXMuX29uKHRoaXMudGFicyx7a2V5ZG93bjoiX3RhYktleWRvd24ifSk7dGhpcy5fb24odGhpcy5wYW5lbHMse2tleWRvd246Il9wYW5lbEtleWRvd24ifSk7dGhpcy5fZm9jdXNhYmxlKHRoaXMudGFicyk7dGhpcy5faG92ZXJhYmxlKHRoaXMudGFicyl9LF9zZXR1cEhlaWdodFN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBpLHI9dGhpcy5lbGVtZW50LnBhcmVudCgpOyJmaWxsIj09PXQ/KGk9ci5oZWlnaHQoKSxpLT10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKCI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLHI9dC5jc3MoInBvc2l0aW9uIik7ImFic29sdXRlIiE9PXImJiJmaXhlZCIhPT1yJiYoaS09dC5vdXRlckhlaWdodCghMCkpfSksdGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7aS09bih0aGlzKS5vdXRlckhlaWdodCghMCl9KSx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCxpLW4odGhpcykuaW5uZXJIZWlnaHQoKStuKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT10JiYoaT0wLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtpPU1hdGgubWF4KGksbih0aGlzKS5oZWlnaHQoIiIpLmhlaWdodCgpKX0pLmhlaWdodChpKSl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIHU9dGhpcy5vcHRpb25zLHI9dGhpcy5hY3RpdmUsYz1uKHQuY3VycmVudFRhcmdldCksaT1jLmNsb3Nlc3QoImxpIiksZj1pWzBdPT09clswXSxlPWYmJnUuY29sbGFwc2libGUsbz1lP24oKTp0aGlzLl9nZXRQYW5lbEZvclRhYihpKSxzPXIubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHIpOm4oKSxoPXtvbGRUYWI6cixvbGRQYW5lbDpzLG5ld1RhYjplP24oKTppLG5ld1BhbmVsOm99O3QucHJldmVudERlZmF1bHQoKTtpLmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHxpLmhhc0NsYXNzKCJ1aS10YWJzLWxvYWRpbmciKXx8dGhpcy5ydW5uaW5nfHxmJiYhdS5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLHQsaCk9PT0hMXx8KHUuYWN0aXZlPWU/ITE6dGhpcy50YWJzLmluZGV4KGkpLHRoaXMuYWN0aXZlPWY/bigpOmksdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCkscy5sZW5ndGh8fG8ubGVuZ3RofHxuLmVycm9yKCJqUXVlcnkgVUkgVGFiczogTWlzbWF0Y2hpbmcgZnJhZ21lbnQgaWRlbnRpZmllci4iKSxvLmxlbmd0aCYmdGhpcy5sb2FkKHRoaXMudGFicy5pbmRleChpKSx0KSx0aGlzLl90b2dnbGUodCxoKSl9LF90b2dnbGU6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKCl7ci5ydW5uaW5nPSExO3IuX3RyaWdnZXIoImFjdGl2YXRlIix0LGkpfWZ1bmN0aW9uIG8oKXtyLl9hZGRDbGFzcyhpLm5ld1RhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpO3UubGVuZ3RoJiZyLm9wdGlvbnMuc2hvdz9yLl9zaG93KHUsci5vcHRpb25zLnNob3csZSk6KHUuc2hvdygpLGUoKSl9dmFyIHI9dGhpcyx1PWkubmV3UGFuZWwsZj1pLm9sZFBhbmVsO3RoaXMucnVubmluZz0hMDtmLmxlbmd0aCYmdGhpcy5vcHRpb25zLmhpZGU/dGhpcy5faGlkZShmLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7ci5fcmVtb3ZlQ2xhc3MoaS5vbGRUYWIuY2xvc2VzdCgibGkiKSwidWktdGFicy1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKTtvKCl9KToodGhpcy5fcmVtb3ZlQ2xhc3MoaS5vbGRUYWIuY2xvc2VzdCgibGkiKSwidWktdGFicy1hY3RpdmUiLCJ1aS1zdGF0ZS1hY3RpdmUiKSxmLmhpZGUoKSxvKCkpO2YuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIik7aS5vbGRUYWIuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTt1Lmxlbmd0aCYmZi5sZW5ndGg/aS5vbGRUYWIuYXR0cigidGFiSW5kZXgiLC0xKTp1Lmxlbmd0aCYmdGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09bih0aGlzKS5hdHRyKCJ0YWJJbmRleCIpfSkuYXR0cigidGFiSW5kZXgiLC0xKTt1LmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTtpLm5ld1RhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIHIsaT10aGlzLl9maW5kQWN0aXZlKHQpO2lbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGkubGVuZ3RofHwoaT10aGlzLmFjdGl2ZSkscj1pLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OnIsY3VycmVudFRhcmdldDpyLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMT9uKCk6dGhpcy50YWJzLmVxKHQpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0JiYodD10aGlzLmFuY2hvcnMuaW5kZXgodGhpcy5hbmNob3JzLmZpbHRlcigiW2hyZWYkPSciK24udWkuZXNjYXBlU2VsZWN0b3IodCkrIiddIikpKSx0fSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpO3RoaXMudGFibGlzdC5yZW1vdmVBdHRyKCJyb2xlIikub2ZmKHRoaXMuZXZlbnROYW1lc3BhY2UpO3RoaXMuYW5jaG9ycy5yZW1vdmVBdHRyKCJyb2xlIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKTt0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7bi5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP24odGhpcykucmVtb3ZlKCk6bih0aGlzKS5yZW1vdmVBdHRyKCJyb2xlIHRhYkluZGV4IGFyaWEtbGl2ZSBhcmlhLWJ1c3kgYXJpYS1zZWxlY3RlZCBhcmlhLWxhYmVsbGVkYnkgYXJpYS1oaWRkZW4gYXJpYS1leHBhbmRlZCIpfSk7dGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5kYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTtpP3QuYXR0cigiYXJpYS1jb250cm9scyIsaSkucmVtb3ZlRGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIik6dC5yZW1vdmVBdHRyKCJhcmlhLWNvbnRyb2xzIil9KTt0aGlzLnBhbmVscy5zaG93KCk7ImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZ0aGlzLnBhbmVscy5jc3MoImhlaWdodCIsIiIpfSxlbmFibGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmRpc2FibGVkO2khPT0hMSYmKHZvaWQgMD09PXQ/aT0hMToodD10aGlzLl9nZXRJbmRleCh0KSxpPW4uaXNBcnJheShpKT9uLm1hcChpLGZ1bmN0aW9uKG4pe3JldHVybiBuIT09dD9uOm51bGx9KTpuLm1hcCh0aGlzLnRhYnMsZnVuY3Rpb24obixpKXtyZXR1cm4gaSE9PXQ/aTpudWxsfSkpLHRoaXMuX3NldE9wdGlvbkRpc2FibGVkKGkpKX0sZGlzYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aWYoaSE9PSEwKXtpZih2b2lkIDA9PT10KWk9ITA7ZWxzZXtpZih0PXRoaXMuX2dldEluZGV4KHQpLC0xIT09bi5pbkFycmF5KHQsaSkpcmV0dXJuO2k9bi5pc0FycmF5KGkpP24ubWVyZ2UoW3RdLGkpLnNvcnQoKTpbdF19dGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSl9fSxsb2FkOmZ1bmN0aW9uKHQsaSl7dD10aGlzLl9nZXRJbmRleCh0KTt2YXIgcj10aGlzLHU9dGhpcy50YWJzLmVxKHQpLGU9dS5maW5kKCIudWktdGFicy1hbmNob3IiKSxmPXRoaXMuX2dldFBhbmVsRm9yVGFiKHUpLG89e3RhYjp1LHBhbmVsOmZ9LHM9ZnVuY3Rpb24obix0KXsiYWJvcnQiPT09dCYmci5wYW5lbHMuc3RvcCghMSwhMCk7ci5fcmVtb3ZlQ2xhc3ModSwidWktdGFicy1sb2FkaW5nIik7Zi5yZW1vdmVBdHRyKCJhcmlhLWJ1c3kiKTtuPT09ci54aHImJmRlbGV0ZSByLnhocn07dGhpcy5faXNMb2NhbChlWzBdKXx8KHRoaXMueGhyPW4uYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoZSxpLG8pKSx0aGlzLnhociYmImNhbmNlbGVkIiE9PXRoaXMueGhyLnN0YXR1c1RleHQmJih0aGlzLl9hZGRDbGFzcyh1LCJ1aS10YWJzLWxvYWRpbmciKSxmLmF0dHIoImFyaWEtYnVzeSIsInRydWUiKSx0aGlzLnhoci5kb25lKGZ1bmN0aW9uKG4sdCx1KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5odG1sKG4pO3IuX3RyaWdnZXIoImxvYWQiLGksbyk7cyh1LHQpfSwxKX0pLmZhaWwoZnVuY3Rpb24obix0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cyhuLHQpfSwxKX0pKSl9LF9hamF4U2V0dGluZ3M6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXRoaXM7cmV0dXJue3VybDp0LmF0dHIoImhyZWYiKS5yZXBsYWNlKC8jLiokLywiIiksYmVmb3JlU2VuZDpmdW5jdGlvbih0LGYpe3JldHVybiB1Ll90cmlnZ2VyKCJiZWZvcmVMb2FkIixpLG4uZXh0ZW5kKHtqcVhIUjp0LGFqYXhTZXR0aW5nczpmfSxyKSl9fX0sX2dldFBhbmVsRm9yVGFiOmZ1bmN0aW9uKHQpe3ZhciBpPW4odCkuYXR0cigiYXJpYS1jb250cm9scyIpO3JldHVybiB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLl9zYW5pdGl6ZVNlbGVjdG9yKCIjIitpKSl9fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLnRhYnMiLG4udWkudGFicyx7X3Byb2Nlc3NUYWJzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpO3RoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFiIil9fSk7bi51aS50YWJzO24ud2lkZ2V0KCJ1aS50b29sdGlwIix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOntjbGFzc2VzOnsidWktdG9vbHRpcCI6InVpLWNvcm5lci1hbGwgdWktd2lkZ2V0LXNoYWRvdyJ9LGNvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLmF0dHIoInRpdGxlIil8fCIiO3JldHVybiBuKCI8YT4iKS50ZXh0KHQpLmh0bWwoKX0saGlkZTohMCxpdGVtczoiW3RpdGxlXTpub3QoW2Rpc2FibGVkXSkiLHBvc2l0aW9uOntteToibGVmdCB0b3ArMTUiLGF0OiJsZWZ0IGJvdHRvbSIsY29sbGlzaW9uOiJmbGlwZml0IGZsaXAifSxzaG93OiEwLHRyYWNrOiExLGNsb3NlOm51bGwsb3BlbjpudWxsfSxfYWRkRGVzY3JpYmVkQnk6ZnVuY3Rpb24odCxpKXt2YXIgcj0odC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil8fCIiKS5zcGxpdCgvXHMrLyk7ci5wdXNoKGkpO3QuZGF0YSgidWktdG9vbHRpcC1pZCIsaSkuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsbi50cmltKHIuam9pbigiICIpKSl9LF9yZW1vdmVEZXNjcmliZWRCeTpmdW5jdGlvbih0KXt2YXIgdT10LmRhdGEoInVpLXRvb2x0aXAtaWQiKSxpPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKSxyPW4uaW5BcnJheSh1LGkpOy0xIT09ciYmaS5zcGxpY2UociwxKTt0LnJlbW92ZURhdGEoInVpLXRvb2x0aXAtaWQiKTtpPW4udHJpbShpLmpvaW4oIiAiKSk7aT90LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGkpOnQucmVtb3ZlQXR0cigiYXJpYS1kZXNjcmliZWRieSIpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fb24oe21vdXNlb3Zlcjoib3BlbiIsZm9jdXNpbjoib3BlbiJ9KTt0aGlzLnRvb2x0aXBzPXt9O3RoaXMucGFyZW50cz17fTt0aGlzLmxpdmVSZWdpb249bigiPGRpdj4iKS5hdHRyKHtyb2xlOiJsb2ciLCJhcmlhLWxpdmUiOiJhc3NlcnRpdmUiLCJhcmlhLXJlbGV2YW50IjoiYWRkaXRpb25zIn0pLmFwcGVuZFRvKHRoaXMuZG9jdW1lbnRbMF0uYm9keSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5saXZlUmVnaW9uLG51bGwsInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpO3RoaXMuZGlzYWJsZWRUaXRsZXM9bihbXSl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzO3RoaXMuX3N1cGVyKHQsaSk7ImNvbnRlbnQiPT09dCYmbi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24obix0KXtyLl91cGRhdGVDb250ZW50KHQuZWxlbWVudCl9KX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXNbbj8iX2Rpc2FibGUiOiJfZW5hYmxlIl0oKX0sX2Rpc2FibGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO24uZWFjaCh0aGlzLnRvb2x0aXBzLGZ1bmN0aW9uKGkscil7dmFyIHU9bi5FdmVudCgiYmx1ciIpO3UudGFyZ2V0PXUuY3VycmVudFRhcmdldD1yLmVsZW1lbnRbMF07dC5jbG9zZSh1LCEwKX0pO3RoaXMuZGlzYWJsZWRUaXRsZXM9dGhpcy5kaXNhYmxlZFRpdGxlcy5hZGQodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5hZGRCYWNrKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtpZih0LmlzKCJbdGl0bGVdIikpcmV0dXJuIHQuZGF0YSgidWktdG9vbHRpcC10aXRsZSIsdC5hdHRyKCJ0aXRsZSIpKS5yZW1vdmVBdHRyKCJ0aXRsZSIpfSkpfSxfZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZFRpdGxlcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmdC5hdHRyKCJ0aXRsZSIsdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSk7dGhpcy5kaXNhYmxlZFRpdGxlcz1uKFtdKX0sb3BlbjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9bih0P3QudGFyZ2V0OnRoaXMuZWxlbWVudCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuaXRlbXMpO2kubGVuZ3RoJiYhaS5kYXRhKCJ1aS10b29sdGlwLWlkIikmJihpLmF0dHIoInRpdGxlIikmJmkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIsaS5hdHRyKCJ0aXRsZSIpKSxpLmRhdGEoInVpLXRvb2x0aXAtb3BlbiIsITApLHQmJiJtb3VzZW92ZXIiPT09dC50eXBlJiZpLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGksdD1uKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC1vcGVuIikmJihpPW4uRXZlbnQoImJsdXIiKSxpLnRhcmdldD1pLmN1cnJlbnRUYXJnZXQ9dGhpcyxyLmNsb3NlKGksITApKTt0LmF0dHIoInRpdGxlIikmJih0LnVuaXF1ZUlkKCksci5wYXJlbnRzW3RoaXMuaWRdPXtlbGVtZW50OnRoaXMsdGl0bGU6dC5hdHRyKCJ0aXRsZSIpfSx0LmF0dHIoInRpdGxlIiwiIikpfSksdGhpcy5fcmVnaXN0ZXJDbG9zZUhhbmRsZXJzKHQsaSksdGhpcy5fdXBkYXRlQ29udGVudChpLHQpKX0sX3VwZGF0ZUNvbnRlbnQ6ZnVuY3Rpb24obix0KXt2YXIgcixpPXRoaXMub3B0aW9ucy5jb250ZW50LHU9dGhpcyxmPXQ/dC50eXBlOm51bGw7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBpfHxpLm5vZGVUeXBlfHxpLmpxdWVyeT90aGlzLl9vcGVuKHQsbixpKToocj1pLmNhbGwoblswXSxmdW5jdGlvbihpKXt1Ll9kZWxheShmdW5jdGlvbigpe24uZGF0YSgidWktdG9vbHRpcC1vcGVuIikmJih0JiYodC50eXBlPWYpLHRoaXMuX29wZW4odCxuLGkpKX0pfSksciYmdGhpcy5fb3Blbih0LG4sciksdm9pZCAwKX0sX29wZW46ZnVuY3Rpb24odCxpLHIpe2Z1bmN0aW9uIG8obil7cy5vZj1uO3UuaXMoIjpoaWRkZW4iKXx8dS5wb3NpdGlvbihzKX12YXIgZix1LGgsZSxzPW4uZXh0ZW5kKHt9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7aWYocil7aWYoZj10aGlzLl9maW5kKGkpKXJldHVybiBmLnRvb2x0aXAuZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwociksdm9pZCAwO2kuaXMoIlt0aXRsZV0iKSYmKHQmJiJtb3VzZW92ZXIiPT09dC50eXBlP2kuYXR0cigidGl0bGUiLCIiKTppLnJlbW92ZUF0dHIoInRpdGxlIikpO2Y9dGhpcy5fdG9vbHRpcChpKTt1PWYudG9vbHRpcDt0aGlzLl9hZGREZXNjcmliZWRCeShpLHUuYXR0cigiaWQiKSk7dS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKTt0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCk7ZT1uKCI8ZGl2PiIpLmh0bWwodS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbCgpKTtlLnJlbW92ZUF0dHIoIm5hbWUiKS5maW5kKCJbbmFtZV0iKS5yZW1vdmVBdHRyKCJuYW1lIik7ZS5yZW1vdmVBdHRyKCJpZCIpLmZpbmQoIltpZF0iKS5yZW1vdmVBdHRyKCJpZCIpO2UuYXBwZW5kVG8odGhpcy5saXZlUmVnaW9uKTt0aGlzLm9wdGlvbnMudHJhY2smJnQmJi9ebW91c2UvLnRlc3QodC50eXBlKT8odGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vtb3ZlOm99KSxvKHQpKTp1LnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOml9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpO3UuaGlkZSgpO3RoaXMuX3Nob3codSx0aGlzLm9wdGlvbnMuc2hvdyk7dGhpcy5vcHRpb25zLnRyYWNrJiZ0aGlzLm9wdGlvbnMuc2hvdyYmdGhpcy5vcHRpb25zLnNob3cuZGVsYXkmJihoPXRoaXMuZGVsYXllZFNob3c9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt1LmlzKCI6dmlzaWJsZSIpJiYobyhzLm9mKSxjbGVhckludGVydmFsKGgpKX0sbi5meC5pbnRlcnZhbCkpO3RoaXMuX3RyaWdnZXIoIm9wZW4iLHQse3Rvb2x0aXA6dX0pfX0sX3JlZ2lzdGVyQ2xvc2VIYW5kbGVyczpmdW5jdGlvbih0LGkpe3ZhciByPXtrZXl1cDpmdW5jdGlvbih0KXtpZih0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuRVNDQVBFKXt2YXIgcj1uLkV2ZW50KHQpO3IuY3VycmVudFRhcmdldD1pWzBdO3RoaXMuY2xvc2UociwhMCl9fX07aVswXSE9PXRoaXMuZWxlbWVudFswXSYmKHIucmVtb3ZlPWZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlVG9vbHRpcCh0aGlzLl9maW5kKGkpLnRvb2x0aXApfSk7dCYmIm1vdXNlb3ZlciIhPT10LnR5cGV8fChyLm1vdXNlbGVhdmU9ImNsb3NlIik7dCYmImZvY3VzaW4iIT09dC50eXBlfHwoci5mb2N1c291dD0iY2xvc2UiKTt0aGlzLl9vbighMCxpLHIpfSxjbG9zZTpmdW5jdGlvbih0KXt2YXIgdSxmPXRoaXMsaT1uKHQ/dC5jdXJyZW50VGFyZ2V0OnRoaXMuZWxlbWVudCkscj10aGlzLl9maW5kKGkpO3JldHVybiByPyh1PXIudG9vbHRpcCxyLmNsb3Npbmd8fChjbGVhckludGVydmFsKHRoaXMuZGVsYXllZFNob3cpLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYhaS5hdHRyKCJ0aXRsZSIpJiZpLmF0dHIoInRpdGxlIixpLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdGhpcy5fcmVtb3ZlRGVzY3JpYmVkQnkoaSksci5oaWRpbmc9ITAsdS5zdG9wKCEwKSx0aGlzLl9oaWRlKHUsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtmLl9yZW1vdmVUb29sdGlwKG4odGhpcykpfSksaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx0aGlzLl9vZmYoaSwibW91c2VsZWF2ZSBmb2N1c291dCBrZXl1cCIpLGlbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuX29mZihpLCJyZW1vdmUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwibW91c2Vtb3ZlIiksdCYmIm1vdXNlbGVhdmUiPT09dC50eXBlJiZuLmVhY2godGhpcy5wYXJlbnRzLGZ1bmN0aW9uKHQsaSl7bihpLmVsZW1lbnQpLmF0dHIoInRpdGxlIixpLnRpdGxlKTtkZWxldGUgZi5wYXJlbnRzW3RdfSksci5jbG9zaW5nPSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIix0LHt0b29sdGlwOnV9KSxyLmhpZGluZ3x8KHIuY2xvc2luZz0hMSkpLHZvaWQgMCk6KGkucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1vcGVuIiksdm9pZCAwKX0sX3Rvb2x0aXA6ZnVuY3Rpb24odCl7dmFyIGk9bigiPGRpdj4iKS5hdHRyKCJyb2xlIiwidG9vbHRpcCIpLHI9bigiPGRpdj4iKS5hcHBlbmRUbyhpKSx1PWkudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3JldHVybiB0aGlzLl9hZGRDbGFzcyhyLCJ1aS10b29sdGlwLWNvbnRlbnQiKSx0aGlzLl9hZGRDbGFzcyhpLCJ1aS10b29sdGlwIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IiksaS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbyh0KSksdGhpcy50b29sdGlwc1t1XT17ZWxlbWVudDp0LHRvb2x0aXA6aX19LF9maW5kOmZ1bmN0aW9uKG4pe3ZhciB0PW4uZGF0YSgidWktdG9vbHRpcC1pZCIpO3JldHVybiB0P3RoaXMudG9vbHRpcHNbdF06bnVsbH0sX3JlbW92ZVRvb2x0aXA6ZnVuY3Rpb24obil7bi5yZW1vdmUoKTtkZWxldGUgdGhpcy50b29sdGlwc1tuLmF0dHIoImlkIildfSxfYXBwZW5kVG86ZnVuY3Rpb24obil7dmFyIHQ9bi5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpO3JldHVybiB0Lmxlbmd0aHx8KHQ9dGhpcy5kb2N1bWVudFswXS5ib2R5KSx0fSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgZj1uLkV2ZW50KCJibHVyIiksdT1yLmVsZW1lbnQ7Zi50YXJnZXQ9Zi5jdXJyZW50VGFyZ2V0PXVbMF07dC5jbG9zZShmLCEwKTtuKCIjIitpKS5yZW1vdmUoKTt1LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSYmKHUuYXR0cigidGl0bGUiKXx8dS5hdHRyKCJ0aXRsZSIsdS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpLHUucmVtb3ZlRGF0YSgidWktdG9vbHRpcC10aXRsZSIpKX0pO3RoaXMubGl2ZVJlZ2lvbi5yZW1vdmUoKX19KTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkudG9vbHRpcCIsbi51aS50b29sdGlwLHtvcHRpb25zOnt0b29sdGlwQ2xhc3M6bnVsbH0sX3Rvb2x0aXA6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MmJm4udG9vbHRpcC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudG9vbHRpcENsYXNzKSxufX0pO24udWkudG9vbHRpcH0pOwovKiEgalF1ZXJ5IE1pZ3JhdGUgdjMuMy4yIHwgKGMpIE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KInVuZGVmaW5lZCI9PXR5cGVvZiBqUXVlcnkubWlncmF0ZU11dGUmJihqUXVlcnkubWlncmF0ZU11dGU9ITApLGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGZ1bmN0aW9uKHQpe3JldHVybiBuKHQsd2luZG93KX0pOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKHJlcXVpcmUoImpxdWVyeSIpLHdpbmRvdyk6bihqUXVlcnksd2luZG93KX0oZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdSh0KXtyZXR1cm4gMDw9ZnVuY3Rpb24obix0KXtmb3IodmFyIHI9L14oXGQrKVwuKFxkKylcLihcZCspLyx1PXIuZXhlYyhuKXx8W10sZj1yLmV4ZWModCl8fFtdLGk9MTtpPD0zO2krKyl7aWYoK2ZbaV08K3VbaV0pcmV0dXJuIDE7aWYoK3VbaV08K2ZbaV0pcmV0dXJuLTF9cmV0dXJuIDB9KG4uZm4uanF1ZXJ5LHQpfWZ1bmN0aW9uIGkoaSl7dmFyIHI9dC5jb25zb2xlO24ubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3MmJmVbaV18fChlW2ldPSEwLG4ubWlncmF0ZVdhcm5pbmdzLnB1c2goaSksciYmci53YXJuJiYhbi5taWdyYXRlTXV0ZSYmKHIud2FybigiSlFNSUdSQVRFOiAiK2kpLG4ubWlncmF0ZVRyYWNlJiZyLnRyYWNlJiZyLnRyYWNlKCkpKX1mdW5jdGlvbiBoKG4sdCxyLHUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKHUpLHJ9LHNldDpmdW5jdGlvbihuKXtpKHUpO3I9bn19KX1mdW5jdGlvbiByKG4sdCxyLHUpe25bdF09ZnVuY3Rpb24oKXtyZXR1cm4gaSh1KSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gbChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tKFthLXpdKS9nLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfWZ1bmN0aW9uIHR0KG4pe3ZhciBpPXQuZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTtyZXR1cm4gaS5ib2R5LmlubmVySFRNTD1uLGkuYm9keSYmaS5ib2R5LmlubmVySFRNTH1mdW5jdGlvbiBpdChuKXt2YXIgdD1uLnJlcGxhY2UocCwiPCQxPjxcLyQyPiIpO3QhPT1uJiZ0dChuKSE9PXR0KHQpJiZpKCJIVE1MIHRhZ3MgbXVzdCBiZSBwcm9wZXJseSBuZXN0ZWQgYW5kIGNsb3NlZDogIituKX12YXIgZSx2LHksZyxudCxmLHAscnQsdXQsZnQsdyxldCxvdDtuLm1pZ3JhdGVWZXJzaW9uPSIzLjMuMiI7dC5jb25zb2xlJiZ0LmNvbnNvbGUubG9nJiYobiYmdSgiMy4wLjAiKXx8dC5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBqUXVlcnkgMy4wLjArIFJFUVVJUkVEIiksbi5taWdyYXRlV2FybmluZ3MmJnQuY29uc29sZS5sb2coIkpRTUlHUkFURTogTWlncmF0ZSBwbHVnaW4gbG9hZGVkIG11bHRpcGxlIHRpbWVzIiksdC5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIGlzIGluc3RhbGxlZCIrKG4ubWlncmF0ZU11dGU/IiI6IiB3aXRoIGxvZ2dpbmcgYWN0aXZlIikrIiwgdmVyc2lvbiAiK24ubWlncmF0ZVZlcnNpb24pKTtlPXt9O24ubWlncmF0ZURlZHVwbGljYXRlV2FybmluZ3M9ITA7bi5taWdyYXRlV2FybmluZ3M9W107dm9pZCAwPT09bi5taWdyYXRlVHJhY2UmJihuLm1pZ3JhdGVUcmFjZT0hMCk7bi5taWdyYXRlUmVzZXQ9ZnVuY3Rpb24oKXtlPXt9O24ubWlncmF0ZVdhcm5pbmdzLmxlbmd0aD0wfTsiQmFja0NvbXBhdCI9PT10LmRvY3VtZW50LmNvbXBhdE1vZGUmJmkoImpRdWVyeSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFF1aXJrcyBNb2RlIik7dmFyIG8sYixjLGs9e30sc3Q9bi5mbi5pbml0LHM9bi5maW5kLGh0PS9cWyhccypbLVx3XStccyopKFt+fF4kKl0/PSlccyooWy1cdyNdKj8jWy1cdyNdKilccypcXS8sY3Q9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdL2csbHQ9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO2ZvcihvIGluIG4uZm4uaW5pdD1mdW5jdGlvbihuKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmIiMiPT09biYmKGkoImpRdWVyeSggJyMnICkgaXMgbm90IGEgdmFsaWQgc2VsZWN0b3IiKSx0WzBdPVtdKSxzdC5hcHBseSh0aGlzLHQpfSxuLmZuLmluaXQucHJvdG90eXBlPW4uZm4sbi5maW5kPWZ1bmN0aW9uKG4pe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZodC50ZXN0KG4pKXRyeXt0LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobil9Y2F0Y2godSl7bj1uLnJlcGxhY2UoY3QsZnVuY3Rpb24obix0LGkscil7cmV0dXJuIlsiK3QraSsnIicrcisnIl0nfSk7dHJ5e3QuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKTtpKCJBdHRyaWJ1dGUgc2VsZWN0b3Igd2l0aCAnIycgbXVzdCBiZSBxdW90ZWQ6ICIrclswXSk7clswXT1ufWNhdGNoKHUpe2koIkF0dHJpYnV0ZSBzZWxlY3RvciB3aXRoICcjJyB3YXMgbm90IGZpeGVkOiAiK3JbMF0pfX1yZXR1cm4gcy5hcHBseSh0aGlzLHIpfSxzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLG8pJiYobi5maW5kW29dPXNbb10pO3Iobi5mbiwic2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LCJqUXVlcnkuZm4uc2l6ZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQ7IHVzZSB0aGUgLmxlbmd0aCBwcm9wZXJ0eSIpO3IobiwicGFyc2VKU09OIixmdW5jdGlvbigpe3JldHVybiBKU09OLnBhcnNlLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sImpRdWVyeS5wYXJzZUpTT04gaXMgZGVwcmVjYXRlZDsgdXNlIEpTT04ucGFyc2UiKTtyKG4sImhvbGRSZWFkeSIsbi5ob2xkUmVhZHksImpRdWVyeS5ob2xkUmVhZHkgaXMgZGVwcmVjYXRlZCIpO3IobiwidW5pcXVlIixuLnVuaXF1ZVNvcnQsImpRdWVyeS51bmlxdWUgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS51bmlxdWVTb3J0Iik7aChuLmV4cHIsImZpbHRlcnMiLG4uZXhwci5wc2V1ZG9zLCJqUXVlcnkuZXhwci5maWx0ZXJzIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkuZXhwci5wc2V1ZG9zIik7aChuLmV4cHIsIjoiLG4uZXhwci5wc2V1ZG9zLCJqUXVlcnkuZXhwclsnOiddIGlzIGRlcHJlY2F0ZWQ7IHVzZSBqUXVlcnkuZXhwci5wc2V1ZG9zIik7dSgiMy4xLjEiKSYmcihuLCJ0cmltIixmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj8iIjoobisiIikucmVwbGFjZShsdCwiIil9LCJqUXVlcnkudHJpbSBpcyBkZXByZWNhdGVkOyB1c2UgU3RyaW5nLnByb3RvdHlwZS50cmltIik7dSgiMy4yLjAiKSYmKHIobiwibm9kZU5hbWUiLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sImpRdWVyeS5ub2RlTmFtZSBpcyBkZXByZWNhdGVkIikscihuLCJpc0FycmF5IixBcnJheS5pc0FycmF5LCJqUXVlcnkuaXNBcnJheSBpcyBkZXByZWNhdGVkOyB1c2UgQXJyYXkuaXNBcnJheSIpKTt1KCIzLjMuMCIpJiYocihuLCJpc051bWVyaWMiLGZ1bmN0aW9uKG4pe3ZhciB0PXR5cGVvZiBuO3JldHVybigibnVtYmVyIj09dHx8InN0cmluZyI9PXQpJiYhaXNOYU4obi1wYXJzZUZsb2F0KG4pKX0sImpRdWVyeS5pc051bWVyaWMoKSBpcyBkZXByZWNhdGVkIiksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2tbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSkscihuLCJ0eXBlIixmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/a1tPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobildfHwib2JqZWN0Ijp0eXBlb2Ygbn0sImpRdWVyeS50eXBlIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzRnVuY3Rpb24iLGZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBufSwialF1ZXJ5LmlzRnVuY3Rpb24oKSBpcyBkZXByZWNhdGVkIikscihuLCJpc1dpbmRvdyIsZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4mJm49PT1uLndpbmRvd30sImpRdWVyeS5pc1dpbmRvdygpIGlzIGRlcHJlY2F0ZWQiKSk7bi5hamF4JiYoYj1uLmFqYXgsYz0vKD0pXD8oPz0mfCQpfFw/XD8vLG4uYWpheD1mdW5jdGlvbigpe3ZhciBuPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBuLnByb21pc2UmJihyKG4sInN1Y2Nlc3MiLG4uZG9uZSwialFYSFIuc3VjY2VzcyBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIikscihuLCJlcnJvciIsbi5mYWlsLCJqUVhIUi5lcnJvciBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIikscihuLCJjb21wbGV0ZSIsbi5hbHdheXMsImpRWEhSLmNvbXBsZXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSksbn0sdSgiNC4wLjAiKXx8bi5hamF4UHJlZmlsdGVyKCIranNvbiIsZnVuY3Rpb24obil7ITEhPT1uLmpzb25wJiYoYy50ZXN0KG4udXJsKXx8InN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJjA9PT0obi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZjLnRlc3Qobi5kYXRhKSkmJmkoIkpTT04tdG8tSlNPTlAgYXV0by1wcm9tb3Rpb24gaXMgZGVwcmVjYXRlZCIpfSkpO3ZhciBhdD1uLmZuLnJlbW92ZUF0dHIsdnQ9bi5mbi50b2dnbGVDbGFzcyx5dD0vXFMrL2c7bi5mbi5yZW1vdmVBdHRyPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7cmV0dXJuIG4uZWFjaCh0Lm1hdGNoKHl0KSxmdW5jdGlvbih0LHUpe24uZXhwci5tYXRjaC5ib29sLnRlc3QodSkmJihpKCJqUXVlcnkuZm4ucmVtb3ZlQXR0ciBubyBsb25nZXIgc2V0cyBib29sZWFuIHByb3BlcnRpZXM6ICIrdSksci5wcm9wKHUsITEpKX0pLGF0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGQsYT0hKG4uZm4udG9nZ2xlQ2xhc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJiJib29sZWFuIiE9dHlwZW9mIHQ/dnQuYXBwbHkodGhpcyxhcmd1bWVudHMpOihpKCJqUXVlcnkuZm4udG9nZ2xlQ2xhc3MoIGJvb2xlYW4gKSBpcyBkZXByZWNhdGVkIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5nZXRBdHRyaWJ1dGUmJnRoaXMuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIjtpJiZuLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIsaSk7dGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsIWkmJiExIT09dCYmbi5kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpfSkpfSkscHQ9L15bYS16XS8sd3Q9L14oPzpCb3JkZXIoPzpUb3B8UmlnaHR8Qm90dG9tfExlZnQpPyg/OldpZHRofCl8KD86TWFyZ2lufFBhZGRpbmcpPyg/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/fCg/Ok1pbnxNYXgpPyg/OldpZHRofEhlaWdodCkpJC87bi5zd2FwJiZuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCIsInJlbGlhYmxlTWFyZ2luUmlnaHQiXSxmdW5jdGlvbih0LGkpe3ZhciByPW4uY3NzSG9va3NbaV0mJm4uY3NzSG9va3NbaV0uZ2V0O3ImJihuLmNzc0hvb2tzW2ldLmdldD1mdW5jdGlvbigpe3ZhciBuO3JldHVybiBhPSEwLG49ci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT0hMSxufSl9KTtuLnN3YXA9ZnVuY3Rpb24obix0LHIsdSl7dmFyIGUsZixvPXt9O2ZvcihmIGluIGF8fGkoImpRdWVyeS5zd2FwKCkgaXMgdW5kb2N1bWVudGVkIGFuZCBkZXByZWNhdGVkIiksdClvW2ZdPW4uc3R5bGVbZl0sbi5zdHlsZVtmXT10W2ZdO2ZvcihmIGluIGU9ci5hcHBseShuLHV8fFtdKSx0KW4uc3R5bGVbZl09b1tmXTtyZXR1cm4gZX07dSgiMy40LjAiKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBQcm94eSYmKG4uY3NzUHJvcHM9bmV3IFByb3h5KG4uY3NzUHJvcHN8fHt9LHtzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgiSlFNSUdSQVRFOiBqUXVlcnkuY3NzUHJvcHMgaXMgZGVwcmVjYXRlZCIpLFJlZmxlY3Quc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSk7bi5jc3NOdW1iZXJ8fChuLmNzc051bWJlcj17fSk7ZD1uLmZuLmNzcztuLmZuLmNzcz1mdW5jdGlvbih0LHIpe3ZhciBmLHUsZT10aGlzO3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJiFBcnJheS5pc0FycmF5KHQpPyhuLmVhY2godCxmdW5jdGlvbih0LGkpe24uZm4uY3NzLmNhbGwoZSx0LGkpfSksdGhpcyk6KCJudW1iZXIiPT10eXBlb2YgciYmKGY9bCh0KSx1PWYscHQudGVzdCh1KSYmd3QudGVzdCh1WzBdLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKSl8fG4uY3NzTnVtYmVyW2ZdfHxpKCdOdW1iZXItdHlwZWQgdmFsdWVzIGFyZSBkZXByZWNhdGVkIGZvciBqUXVlcnkuZm4uY3NzKCAiJyt0KyciLCB2YWx1ZSApJykpLGQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX07Zj1uLmRhdGE7bi5kYXRhPWZ1bmN0aW9uKHQscix1KXt2YXIgbyxzLGU7aWYociYmIm9iamVjdCI9PXR5cGVvZiByJiYyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKGUgaW4gbz1uLmhhc0RhdGEodCkmJmYuY2FsbCh0aGlzLHQpLHM9e30scillIT09bChlKT8oaSgialF1ZXJ5LmRhdGEoKSBhbHdheXMgc2V0cy9nZXRzIGNhbWVsQ2FzZWQgbmFtZXM6ICIrZSksb1tlXT1yW2VdKTpzW2VdPXJbZV07cmV0dXJuIGYuY2FsbCh0aGlzLHQscykscn1yZXR1cm4gciYmInN0cmluZyI9PXR5cGVvZiByJiZyIT09bChyKSYmKG89bi5oYXNEYXRhKHQpJiZmLmNhbGwodGhpcyx0KSkmJnIgaW4gbz8oaSgialF1ZXJ5LmRhdGEoKSBhbHdheXMgc2V0cy9nZXRzIGNhbWVsQ2FzZWQgbmFtZXM6ICIrciksMjxhcmd1bWVudHMubGVuZ3RoJiYob1tyXT11KSxvW3JdKTpmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bi5meCYmKGc9bi5Ud2Vlbi5wcm90b3R5cGUucnVuLG50PWZ1bmN0aW9uKG4pe3JldHVybiBufSxuLlR3ZWVuLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXsxPG4uZWFzaW5nW3RoaXMuZWFzaW5nXS5sZW5ndGgmJihpKCInalF1ZXJ5LmVhc2luZy4iK3RoaXMuZWFzaW5nLnRvU3RyaW5nKCkrIicgc2hvdWxkIHVzZSBvbmx5IG9uZSBhcmd1bWVudCIpLG4uZWFzaW5nW3RoaXMuZWFzaW5nXT1udCk7Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHY9bi5meC5pbnRlcnZhbHx8MTMseT0ialF1ZXJ5LmZ4LmludGVydmFsIGlzIGRlcHJlY2F0ZWQiLHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZPYmplY3QuZGVmaW5lUHJvcGVydHkobi5meCwiaW50ZXJ2YWwiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kb2N1bWVudC5oaWRkZW58fGkoeSksdn0sc2V0OmZ1bmN0aW9uKG4pe2koeSk7dj1ufX0pKTt2YXIgYnQ9bi5mbi5sb2FkLGt0PW4uZXZlbnQuYWRkLGR0PW4uZXZlbnQuZml4O3JldHVybiBuLmV2ZW50LnByb3BzPVtdLG4uZXZlbnQuZml4SG9va3M9e30saChuLmV2ZW50LnByb3BzLCJjb25jYXQiLG4uZXZlbnQucHJvcHMuY29uY2F0LCJqUXVlcnkuZXZlbnQucHJvcHMuY29uY2F0KCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpLG4uZXZlbnQuZml4PWZ1bmN0aW9uKHQpe3ZhciBmLGU9dC50eXBlLHU9dGhpcy5maXhIb29rc1tlXSxyPW4uZXZlbnQucHJvcHM7aWYoci5sZW5ndGgpZm9yKGkoImpRdWVyeS5ldmVudC5wcm9wcyBhcmUgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDogIityLmpvaW4oKSk7ci5sZW5ndGg7KW4uZXZlbnQuYWRkUHJvcChyLnBvcCgpKTtpZih1JiYhdS5fbWlncmF0ZWRfJiYodS5fbWlncmF0ZWRfPSEwLGkoImpRdWVyeS5ldmVudC5maXhIb29rcyBhcmUgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDogIitlKSwocj11LnByb3BzKSYmci5sZW5ndGgpKXdoaWxlKHIubGVuZ3RoKW4uZXZlbnQuYWRkUHJvcChyLnBvcCgpKTtyZXR1cm4gZj1kdC5jYWxsKHRoaXMsdCksdSYmdS5maWx0ZXI/dS5maWx0ZXIoZix0KTpmfSxuLmV2ZW50LmFkZD1mdW5jdGlvbihuLHIpe3JldHVybiBuPT09dCYmImxvYWQiPT09ciYmImNvbXBsZXRlIj09PXQuZG9jdW1lbnQucmVhZHlTdGF0ZSYmaSgialF1ZXJ5KHdpbmRvdykub24oJ2xvYWQnLi4uKSBjYWxsZWQgYWZ0ZXIgbG9hZCBldmVudCBvY2N1cnJlZCIpLGt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbi5lYWNoKFsibG9hZCIsInVubG9hZCIsImVycm9yIl0sZnVuY3Rpb24odCxyKXtuLmZuW3JdPWZ1bmN0aW9uKCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiJsb2FkIj09PXImJiJzdHJpbmciPT10eXBlb2YgblswXT9idC5hcHBseSh0aGlzLG4pOihpKCJqUXVlcnkuZm4uIityKyIoKSBpcyBkZXByZWNhdGVkIiksbi5zcGxpY2UoMCwwLHIpLGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbi5hcHBseSh0aGlzLG4pOih0aGlzLnRyaWdnZXJIYW5kbGVyLmFwcGx5KHRoaXMsbiksdGhpcykpfX0pLG4uZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbih0LHIpe24uZm5bcl09ZnVuY3Rpb24obix0KXtyZXR1cm4gaSgialF1ZXJ5LmZuLiIrcisiKCkgZXZlbnQgc2hvcnRoYW5kIGlzIGRlcHJlY2F0ZWQiKSwwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihyLG51bGwsbix0KTp0aGlzLnRyaWdnZXIocil9fSksbihmdW5jdGlvbigpe24odC5kb2N1bWVudCkudHJpZ2dlckhhbmRsZXIoInJlYWR5Iil9KSxuLmV2ZW50LnNwZWNpYWwucmVhZHk9e3NldHVwOmZ1bmN0aW9uKCl7dGhpcz09PXQuZG9jdW1lbnQmJmkoIidyZWFkeScgZXZlbnQgaXMgZGVwcmVjYXRlZCIpfX0sbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24obix0LHIpe3JldHVybiBpKCJqUXVlcnkuZm4uYmluZCgpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKG4sbnVsbCx0LHIpfSx1bmJpbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gaSgialF1ZXJ5LmZuLnVuYmluZCgpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9mZihuLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxyLHUpe3JldHVybiBpKCJqUXVlcnkuZm4uZGVsZWdhdGUoKSBpcyBkZXByZWNhdGVkIiksdGhpcy5vbih0LG4scix1KX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkoImpRdWVyeS5mbi51bmRlbGVnYXRlKCkgaXMgZGVwcmVjYXRlZCIpLDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKG4sIioqIik6dGhpcy5vZmYodCxufHwiKioiLHIpfSxob3ZlcjpmdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4uaG92ZXIoKSBpcyBkZXByZWNhdGVkIiksdGhpcy5vbigibW91c2VlbnRlciIsbikub24oIm1vdXNlbGVhdmUiLHR8fG4pfX0pLHA9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopW14+XSopXC8+L2dpLHJ0PW4uaHRtbFByZWZpbHRlcixuLlVOU0FGRV9yZXN0b3JlTGVnYWN5SHRtbFByZWZpbHRlcj1mdW5jdGlvbigpe24uaHRtbFByZWZpbHRlcj1mdW5jdGlvbihuKXtyZXR1cm4gaXQobiksbi5yZXBsYWNlKHAsIjwkMT48XC8kMj4iKX19LG4uaHRtbFByZWZpbHRlcj1mdW5jdGlvbihuKXtyZXR1cm4gaXQobikscnQobil9LGZ0PW4uZm4ub2Zmc2V0LG4uZm4ub2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIG49dGhpc1swXTtyZXR1cm4hbnx8bi5ub2RlVHlwZSYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3Q/ZnQuYXBwbHkodGhpcyxhcmd1bWVudHMpOihpKCJqUXVlcnkuZm4ub2Zmc2V0KCkgcmVxdWlyZXMgYSB2YWxpZCBET00gZWxlbWVudCIpLGFyZ3VtZW50cy5sZW5ndGg/dGhpczp2b2lkIDApfSxuLmFqYXgmJih1dD1uLnBhcmFtLG4ucGFyYW09ZnVuY3Rpb24odCxyKXt2YXIgdT1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7cmV0dXJuIHZvaWQgMD09PXImJnUmJihpKCJqUXVlcnkucGFyYW0oKSBubyBsb25nZXIgdXNlcyBqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsIikscj11KSx1dC5jYWxsKHRoaXMsdCxyKX0pLG90PW4uZm4uYW5kU2VsZnx8bi5mbi5hZGRCYWNrLG4uZm4uYW5kU2VsZj1mdW5jdGlvbigpe3JldHVybiBpKCJqUXVlcnkuZm4uYW5kU2VsZigpIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQsIHVzZSBqUXVlcnkuZm4uYWRkQmFjaygpIiksb3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLkRlZmVycmVkJiYodz1uLkRlZmVycmVkLGV0PVtbInJlc29sdmUiLCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKSxuLkNhbGxiYWNrcygibWVtb3J5IildXSxuLkRlZmVycmVkPWZ1bmN0aW9uKHQpe3ZhciByPXcoKSx1PXIucHJvbWlzZSgpO3JldHVybiByLnBpcGU9dS5waXBlPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzO3JldHVybiBpKCJkZWZlcnJlZC5waXBlKCkgaXMgZGVwcmVjYXRlZCIpLG4uRGVmZXJyZWQoZnVuY3Rpb24oaSl7bi5lYWNoKGV0LGZ1bmN0aW9uKG4sZil7dmFyIGU9ImZ1bmN0aW9uIj09dHlwZW9mIHRbbl0mJnRbbl07cltmWzFdXShmdW5jdGlvbigpe3ZhciBuPWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO24mJiJmdW5jdGlvbiI9PXR5cGVvZiBuLnByb21pc2U/bi5wcm9taXNlKCkuZG9uZShpLnJlc29sdmUpLmZhaWwoaS5yZWplY3QpLnByb2dyZXNzKGkubm90aWZ5KTppW2ZbMF0rIldpdGgiXSh0aGlzPT09dT9pLnByb21pc2UoKTp0aGlzLGU/W25dOmFyZ3VtZW50cyl9KX0pO3Q9bnVsbH0pLnByb21pc2UoKX0sdCYmdC5jYWxsKHIscikscn0sbi5EZWZlcnJlZC5leGNlcHRpb25Ib29rPXcuZXhjZXB0aW9uSG9vayksbn0pO0FqYXhDYXJ0PXtsb2FkV2FpdGluZzohMSx1c2Vwb3B1cG5vdGlmaWNhdGlvbnM6ITEsdG9wY2FydHNlbGVjdG9yOiIiLHRvcHdpc2hsaXN0c2VsZWN0b3I6IiIsZmx5b3V0Y2FydHNlbGVjdG9yOiIiLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMudXNlcG9wdXBub3RpZmljYXRpb25zPW47dGhpcy50b3BjYXJ0c2VsZWN0b3I9dDt0aGlzLnRvcHdpc2hsaXN0c2VsZWN0b3I9aTt0aGlzLmZseW91dGNhcnRzZWxlY3Rvcj1yO3RoaXMubG9jYWxpemVkX2RhdGE9dX0sc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24obil7ZGlzcGxheUFqYXhMb2FkaW5nKG4pO3RoaXMubG9hZFdhaXRpbmc9bn0sYWRkcHJvZHVjdHRvY2FydF9jYXRhbG9nOmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxhZGRwcm9kdWN0dG9jYXJ0X2RldGFpbHM6ZnVuY3Rpb24obix0KXt0aGlzLmxvYWRXYWl0aW5nPT09ITEmJih0aGlzLnNldExvYWRXYWl0aW5nKCEwKSwkLmFqYXgoe2NhY2hlOiExLHVybDpuLGRhdGE6JCh0KS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSkpfSxhZGRwcm9kdWN0dG9jb21wYXJlbGlzdDpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sc3VjY2Vzc19wcm9jZXNzOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3BjYXJ0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwpLG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3B3aXNobGlzdHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCksbi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQuZmx5b3V0Y2FydHNlbGVjdG9yKS5yZXBsYWNlV2l0aChuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCksbi5tZXNzYWdlKT8obi5zdWNjZXNzPT09ITA/QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwzNTAwKTpBamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsMCksITEpOm4ucmVkaXJlY3Q/KGxvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdCwhMCk6ITF9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtBamF4Q2FydC5zZXRMb2FkV2FpdGluZyghMSl9LGFqYXhGYWlsdXJlOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5BamF4Q2FydEZhaWx1cmUpfX07K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7dmFyIHQ9bih0aGlzKSx1PXQudmFsKCksaT1uKHQuZGF0YSgic3RhdGVwcm92aW5jZSIpKSxyO2kubGVuZ3RoIT0wJiYocj1uKHQuZGF0YSgibG9hZGluZyIpKSxyLnNob3coKSxuLmFqYXgoe2NhY2hlOiExLHR5cGU6IkdFVCIsdXJsOnQuZGF0YSgidXJsIiksZGF0YTp7Y291bnRyeUlkOnUsYWRkU2VsZWN0U3RhdGVJdGVtOiJ0cnVlIn0sc3VjY2VzczpmdW5jdGlvbih0KXtpLmh0bWwoIiIpO24uZWFjaCh0LGZ1bmN0aW9uKHQscil7aS5hcHBlbmQobigiPG9wdGlvbj48XC9vcHRpb24+IikudmFsKHIuaWQpLmh0bWwoci5uYW1lKSl9KX0sZXJyb3I6ZnVuY3Rpb24oKXthbGVydCgiRmFpbGVkIHRvIHJldHJpZXZlIHN0YXRlcy4iKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD10eXBlb2YgQmlsbGluZyE9InVuZGVmaW5lZCI/QmlsbGluZy5zZWxlY3RlZFN0YXRlSWQ6dHlwZW9mIENoZWNrb3V0QmlsbGluZyE9InVuZGVmaW5lZCI/Q2hlY2tvdXRCaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDowO24oIiMiK2lbMF0uaWQrIiBvcHRpb25bdmFsdWU9Iit0KyJdIikucHJvcCgic2VsZWN0ZWQiLCEwKTtyLmhpZGUoKX19KSl9aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBqUXVlcnkpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgSlMgcmVxdWlyZWQiKTtuKGRvY3VtZW50KS5oYXMoJ1tkYXRhLXRyaWdnZXI9ImNvdW50cnktc2VsZWN0Il0nKSYmbignc2VsZWN0W2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpLmNoYW5nZSh0KTtuLmZuLmNvdW50cnlTZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmNoYW5nZSh0KX0pfX0oalF1ZXJ5KTt2YXIgQWNjb3JkaW9uPXtjaGVja0FsbG93OiExLGRpc2FsbG93QWNjZXNzVG9OZXh0U2VjdGlvbnM6ITEsc2VjdGlvbnM6W10sY3VycmVudFNlY3Rpb246ITEsaGVhZGVyczpbXSxpbml0OmZ1bmN0aW9uKG4sdCxpKXt0aGlzLmNoZWNrQWxsb3c9aXx8ITE7dGhpcy5kaXNhbGxvd0FjY2Vzc1RvTmV4dFNlY3Rpb25zPSExO3RoaXMuc2VjdGlvbnM9JCgiIyIrbisiIC50YWItc2VjdGlvbiIpO3RoaXMuY3VycmVudFNlY3Rpb25JZD0hMTt2YXIgcj0kKCIjIituKyIgLnRhYi1zZWN0aW9uICIrdCk7ci5vbigiY2xpY2siLGZ1bmN0aW9uKCl7QWNjb3JkaW9uLmhlYWRlckNsaWNrZWQoJCh0aGlzKSl9KX0saGVhZGVyQ2xpY2tlZDpmdW5jdGlvbihuKXtBY2NvcmRpb24ub3BlblNlY3Rpb24obi5wYXJlbnQoIi50YWItc2VjdGlvbiIpKX0sb3BlblNlY3Rpb246ZnVuY3Rpb24obil7dmFyIG49JChuKSxyLHUsaSx0O2lmKCghdGhpcy5jaGVja0FsbG93fHxuLmhhc0NsYXNzKCJhbGxvdyIpKSYmbi5hdHRyKCJpZCIpIT10aGlzLmN1cnJlbnRTZWN0aW9uSWQmJihyPXRoaXMuY3VycmVudFNlY3Rpb25JZCx0aGlzLmNsb3NlRXhpc3RpbmdTZWN0aW9uKCksdGhpcy5jdXJyZW50U2VjdGlvbklkPW4uYXR0cigiaWQiKSwkKCIjIit0aGlzLmN1cnJlbnRTZWN0aW9uSWQpLmFkZENsYXNzKCJhY3RpdmUiKSx1PW4uY2hpbGRyZW4oIi5hLWl0ZW0iKSwkKHVbMF0pLnNob3coKSxsb2NhdGlvbi5oYXNoPW4uYXR0cigiaWQiKSwkKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJhY2NvcmRpb25fc2VjdGlvbl9vcGVuZWQiLHByZXZpb3VzU2VjdGlvbklkOnIsY3VycmVudFNlY3Rpb25JZDp0aGlzLmN1cnJlbnRTZWN0aW9uSWR9KSx0aGlzLmRpc2FsbG93QWNjZXNzVG9OZXh0U2VjdGlvbnMpKWZvcihpPSExLHQ9MDt0PHRoaXMuc2VjdGlvbnMubGVuZ3RoO3QrKylpJiYkKHRoaXMuc2VjdGlvbnNbdF0pLnJlbW92ZUNsYXNzKCJhbGxvdyIpLCQodGhpcy5zZWN0aW9uc1t0XSkuYXR0cigiaWQiKT09bi5hdHRyKCJpZCIpJiYoaT0hMCl9LGNsb3NlU2VjdGlvbjpmdW5jdGlvbihuKXt2YXIgbj0kKG4pLHQ7bi5yZW1vdmVDbGFzcygiYWN0aXZlIik7dD1uLmNoaWxkcmVuKCIuYS1pdGVtIik7JCh0WzBdKS5oaWRlKCk7JChkb2N1bWVudCkudHJpZ2dlcih7dHlwZToiYWNjb3JkaW9uX3NlY3Rpb25fY2xvc2VkIixzZWN0aW9uSWQ6bi5hdHRyKCJpZCIpfSl9LGhpZGVTZWN0aW9uOmZ1bmN0aW9uKG4pe3ZhciBuPSQobik7bi5oaWRlKCk7JChkb2N1bWVudCkudHJpZ2dlcih7dHlwZToiYWNjb3JkaW9uX3NlY3Rpb25faGlkZGVuIixzZWN0aW9uSWQ6bi5hdHRyKCJpZCIpfSl9LHNob3dTZWN0aW9uOmZ1bmN0aW9uKG4pe3ZhciBuPSQobik7bi5zaG93KCk7bG9jYXRpb24uaGFzaD1uLmF0dHIoImlkIik7JChkb2N1bWVudCkudHJpZ2dlcih7dHlwZToiYWNjb3JkaW9uX3NlY3Rpb25fc2hvd24iLHNlY3Rpb25JZDpuLmF0dHIoImlkIil9KX0sb3Blbk5leHRTZWN0aW9uOmZ1bmN0aW9uKG4pe2ZvcihzZWN0aW9uIGluIHRoaXMuc2VjdGlvbnMpe3ZhciB0PXBhcnNlSW50KHNlY3Rpb24pKzE7aWYodGhpcy5zZWN0aW9uc1tzZWN0aW9uXS5pZD09dGhpcy5jdXJyZW50U2VjdGlvbklkJiZ0aGlzLnNlY3Rpb25zW3RdKXtuJiYkKHRoaXMuc2VjdGlvbnNbdF0pLmFkZENsYXNzKCJhbGxvdyIpO3RoaXMub3BlblNlY3Rpb24odGhpcy5zZWN0aW9uc1t0XSk7cmV0dXJufX19LG9wZW5QcmV2U2VjdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPTAscjtmb3Ioc2VjdGlvbiBpbiB0aGlzLnNlY3Rpb25zKWlmKHQ/KHI9cGFyc2VJbnQoc2VjdGlvbiktMSwhaXNOYU4ocikmJiQodGhpcy5zZWN0aW9uc1tyXSkuaGFzQ2xhc3MoImFsbG93IikmJihpPXIpKTppPXBhcnNlSW50KHNlY3Rpb24pLTEsdGhpcy5zZWN0aW9uc1tzZWN0aW9uXS5pZD09dGhpcy5jdXJyZW50U2VjdGlvbklkJiZ0aGlzLnNlY3Rpb25zW2ldKXtuJiYkKHRoaXMuc2VjdGlvbnNbaV0pLmFkZENsYXNzKCJhbGxvdyIpO3RoaXMub3BlblNlY3Rpb24odGhpcy5zZWN0aW9uc1tpXSk7cmV0dXJufX0sY2xvc2VFeGlzdGluZ1NlY3Rpb246ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRTZWN0aW9uSWQmJnRoaXMuY2xvc2VTZWN0aW9uKCQoIiMiK3RoaXMuY3VycmVudFNlY3Rpb25JZCkpfX0sQ2hlY2tvdXQ9e2xvYWRXYWl0aW5nOiExLGZhaWx1cmVVcmw6ITEsaW5pdDpmdW5jdGlvbihuKXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMuZmFpbHVyZVVybD1uO0FjY29yZGlvbi5kaXNhbGxvd0FjY2Vzc1RvTmV4dFNlY3Rpb25zPSEwfSxhamF4RmFpbHVyZTpmdW5jdGlvbigpe2xvY2F0aW9uLmhyZWY9Q2hlY2tvdXQuZmFpbHVyZVVybH0sX2Rpc2FibGVFbmFibGVBbGw6ZnVuY3Rpb24obix0KXt2YXIgaT1uLmZpbmQoIioiKTskKGkpLmVhY2goZnVuY3Rpb24oKXt0PyQodGhpcykucHJvcCgiZGlzYWJsZWQiLCEwKTokKHRoaXMpLnByb3AoImRpc2FibGVkIiwhMSl9KTt0P24ucHJvcCgiZGlzYWJsZWQiLCEwKTokKHRoaXMpLnByb3AoImRpc2FibGVkIiwhMSl9LHNldExvYWRXYWl0aW5nOmZ1bmN0aW9uKG4sdCl7dmFyIGkscjtuPyh0aGlzLmxvYWRXYWl0aW5nJiZ0aGlzLnNldExvYWRXYWl0aW5nKCExKSxpPSQoIiMiK24rIi1idXR0b25zLWNvbnRhaW5lciIpLGkuYWRkQ2xhc3MoImRpc2FibGVkIiksaS5jc3MoIm9wYWNpdHkiLCIuNSIpLHRoaXMuX2Rpc2FibGVFbmFibGVBbGwoaSwhMCksJCgiIyIrbisiLXBsZWFzZS13YWl0Iikuc2hvdygpKTp0aGlzLmxvYWRXYWl0aW5nJiYoaT0kKCIjIit0aGlzLmxvYWRXYWl0aW5nKyItYnV0dG9ucy1jb250YWluZXIiKSxyPXQ/ITA6ITEscnx8KGkucmVtb3ZlQ2xhc3MoImRpc2FibGVkIiksaS5jc3MoIm9wYWNpdHkiLCIxIikpLHRoaXMuX2Rpc2FibGVFbmFibGVBbGwoaSxyKSwkKCIjIit0aGlzLmxvYWRXYWl0aW5nKyItcGxlYXNlLXdhaXQiKS5oaWRlKCkpO3RoaXMubG9hZFdhaXRpbmc9bn0sZ290b1NlY3Rpb246ZnVuY3Rpb24obil7bj0kKCIjb3BjLSIrbik7bi5hZGRDbGFzcygiYWxsb3ciKTtBY2NvcmRpb24ub3BlblNlY3Rpb24obil9LGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmxvYWRXYWl0aW5nfHxBY2NvcmRpb24ub3BlblByZXZTZWN0aW9uKCEwLCEwKX0sc2V0U3RlcFJlc3BvbnNlOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZV9zZWN0aW9uJiYkKCIjY2hlY2tvdXQtIituLnVwZGF0ZV9zZWN0aW9uLm5hbWUrIi1sb2FkIikuaHRtbChuLnVwZGF0ZV9zZWN0aW9uLmh0bWwpLG4uYWxsb3dfc2VjdGlvbnMmJm4uYWxsb3dfc2VjdGlvbnMuZWFjaChmdW5jdGlvbihuKXskKCIjb3BjLSIrbikuYWRkQ2xhc3MoImFsbG93Iil9KSwkKCIjYmlsbGluZy1hZGRyZXNzLXNlbGVjdCIpLmxlbmd0aD4wP0JpbGxpbmcubmV3QWRkcmVzcyghJCgiI2JpbGxpbmctYWRkcmVzcy1zZWxlY3QiKS52YWwoKSk6QmlsbGluZy5uZXdBZGRyZXNzKCEwKSwkKCIjc2hpcHBpbmctYWRkcmVzcy1zZWxlY3QiKS5sZW5ndGg+MCYmU2hpcHBpbmcubmV3QWRkcmVzcyghJCgiI3NoaXBwaW5nLWFkZHJlc3Mtc2VsZWN0IikudmFsKCkpLG4uZ290b19zZWN0aW9uKT8oQ2hlY2tvdXQuZ290b1NlY3Rpb24obi5nb3RvX3NlY3Rpb24pLCEwKTpuLnJlZGlyZWN0Pyhsb2NhdGlvbi5ocmVmPW4ucmVkaXJlY3QsITApOiExfX0sQmlsbGluZz17Zm9ybTohMSxzYXZlVXJsOiExLGRpc2FibGVCaWxsaW5nQWRkcmVzc0NoZWNrb3V0U3RlcDohMSxndWVzdDohMSxzZWxlY3RlZFN0YXRlSWQ6MCxpbml0OmZ1bmN0aW9uKG4sdCxpLHIpe3RoaXMuZm9ybT1uO3RoaXMuc2F2ZVVybD10O3RoaXMuZGlzYWJsZUJpbGxpbmdBZGRyZXNzQ2hlY2tvdXRTdGVwPWk7dGhpcy5ndWVzdD1yfSxuZXdBZGRyZXNzOmZ1bmN0aW9uKG4peyQoIiNzYXZlLWFkZHJlc3MtYnV0dG9uIikuaGlkZSgpO24/KCQoIiNiaWxsaW5nLW5ldy1hZGRyZXNzLWZvcm0iKS5zaG93KCksJCgiI2VkaXQtYWRkcmVzcy1idXR0b24iKS5oaWRlKCksJCgiI2RlbGV0ZS1hZGRyZXNzLWJ1dHRvbiIpLmhpZGUoKSk6KCQoIiNiaWxsaW5nLW5ldy1hZGRyZXNzLWZvcm0iKS5oaWRlKCksdGhpcy5ndWVzdCYmKCQoIiNlZGl0LWFkZHJlc3MtYnV0dG9uIikuc2hvdygpLCQoIiNkZWxldGUtYWRkcmVzcy1idXR0b24iKS5zaG93KCkpKTskKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJvbmVwYWdlY2hlY2tvdXRfYmlsbGluZ19hZGRyZXNzX25ldyJ9KX0scmVzZXRTZWxlY3RlZEFkZHJlc3M6ZnVuY3Rpb24oKXt2YXIgbj0kKCIjYmlsbGluZy1hZGRyZXNzLXNlbGVjdCIpO24mJm4udmFsKCIiKTskKGRvY3VtZW50KS50cmlnZ2VyKHt0eXBlOiJvbmVwYWdlY2hlY2tvdXRfYmlsbGluZ19hZGRyZXNzX3Jlc2V0In0pfSxzYXZlOmZ1bmN0aW9uKCl7Q2hlY2tvdXQubG9hZFdhaXRpbmc9PT0hMSYmKENoZWNrb3V0LnNldExvYWRXYWl0aW5nKCJiaWxsaW5nIiksJC5hamF4KHtjYWNoZTohMSx1cmw6dGhpcy5zYXZlVXJsLGRhdGE6JCh0aGlzLmZvcm0pLnNlcmlhbGl6ZSgpLHR5cGU6IlBPU1QiLHN1Y2Nlc3M6dGhpcy5uZXh0U3RlcCxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6Q2hlY2tvdXQuYWpheEZhaWx1cmV9KSl9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtDaGVja291dC5zZXRMb2FkV2FpdGluZyghMSl9LG5leHRTdGVwOmZ1bmN0aW9uKG4pe2lmKHR5cGVvZiBuLndyb25nX2JpbGxpbmdfYWRkcmVzcz09InVuZGVmaW5lZCImJihuLndyb25nX2JpbGxpbmdfYWRkcmVzcz0hMSksQmlsbGluZy5kaXNhYmxlQmlsbGluZ0FkZHJlc3NDaGVja291dFN0ZXAmJihuLndyb25nX2JpbGxpbmdfYWRkcmVzcz9BY2NvcmRpb24uc2hvd1NlY3Rpb24oIiNvcGMtYmlsbGluZyIpOkFjY29yZGlvbi5oaWRlU2VjdGlvbigiI29wYy1iaWxsaW5nIikpLG4uZXJyb3IpcmV0dXJuIHR5cGVvZiBuLm1lc3NhZ2U9PSJzdHJpbmciP2FsZXJ0KG4ubWVzc2FnZSk6YWxlcnQobi5tZXNzYWdlLmpvaW4oIlxuIikpLCExO0NoZWNrb3V0LnNldFN0ZXBSZXNwb25zZShuKTtCaWxsaW5nLmluaXRpYWxpemVDb3VudHJ5U2VsZWN0KCl9LGluaXRpYWxpemVDb3VudHJ5U2VsZWN0OmZ1bmN0aW9uKCl7JCgiI29wYy1iaWxsaW5nIikuaGFzKCdzZWxlY3RbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykmJiQoJyNvcGMtYmlsbGluZyBzZWxlY3RbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykuY291bnRyeVNlbGVjdCgpfSxlZGl0QWRkcmVzczpmdW5jdGlvbihuKXtCaWxsaW5nLnJlc2V0QmlsbGluZ0Zvcm0oKTt2YXIgdD0iQmlsbGluZ05ld0FkZHJlc3NfIixpPSQoIiNiaWxsaW5nLWFkZHJlc3Mtc2VsZWN0IikuY2hpbGRyZW4oIm9wdGlvbjpzZWxlY3RlZCIpLnZhbCgpOyQuYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6bixkYXRhOnthZGRyZXNzSWQ6aX0sc3VjY2VzczpmdW5jdGlvbihuKXskLmVhY2gobixmdW5jdGlvbihuLGkpe2lmKGkhPT1udWxsKXt2YXIgcj0kKGAjJHt0fSR7bn1gKS52YWwoaSk7bi5pbmRleE9mKCJDb3VudHJ5SWQiKT49MCYmci50cmlnZ2VyKCJjaGFuZ2UiKTtuLmluZGV4T2YoIlN0YXRlUHJvdmluY2VJZCIpPj0wJiZCaWxsaW5nLnNldFNlbGVjdGVkU3RhdGVJZChpKX19KX0sY29tcGxldGU6ZnVuY3Rpb24oKXskKCIjYmlsbGluZy1uZXctYWRkcmVzcy1mb3JtIikuc2hvdygpOyQoIiNlZGl0LWFkZHJlc3MtYnV0dG9uIikuaGlkZSgpOyQoIiNkZWxldGUtYWRkcmVzcy1idXR0b24iKS5oaWRlKCk7JCgiI3NhdmUtYWRkcmVzcy1idXR0b24iKS5zaG93KCl9LGVycm9yOkNoZWNrb3V0LmFqYXhGYWlsdXJlfSl9LHNhdmVFZGl0QWRkcmVzczpmdW5jdGlvbihuKXt2YXIgdDskLmFqYXgoe2NhY2hlOiExLHVybDpuKyI/b3BjPXRydWUiLGRhdGE6JCh0aGlzLmZvcm0pLnNlcmlhbGl6ZSgpLHR5cGU6IlBPU1QiLHN1Y2Nlc3M6ZnVuY3Rpb24obil7dD1uLnNlbGVjdGVkX2lkO0NoZWNrb3V0LnNldFN0ZXBSZXNwb25zZShuKTtCaWxsaW5nLnJlc2V0QmlsbGluZ0Zvcm0oKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgbj0kKCIjYmlsbGluZy1hZGRyZXNzLXNlbGVjdCIpO24mJm4udmFsKHQpfSxlcnJvcjpDaGVja291dC5hamF4RmFpbHVyZX0pfSxkZWxldGVBZGRyZXNzOmZ1bmN0aW9uKG4pe3ZhciB0PSQoIiNiaWxsaW5nLWFkZHJlc3Mtc2VsZWN0IikuY2hpbGRyZW4oIm9wdGlvbjpzZWxlY3RlZCIpLnZhbCgpOyQuYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6bixkYXRhOnthZGRyZXNzSWQ6dCxvcGM6InRydWUifSxzdWNjZXNzOmZ1bmN0aW9uKG4pe0NoZWNrb3V0LnNldFN0ZXBSZXNwb25zZShuKX0sZXJyb3I6Q2hlY2tvdXQuYWpheEZhaWx1cmV9KX0sc2V0U2VsZWN0ZWRTdGF0ZUlkOmZ1bmN0aW9uKG4pe3RoaXMuc2VsZWN0ZWRTdGF0ZUlkPW59LHJlc2V0QmlsbGluZ0Zvcm06ZnVuY3Rpb24oKXskKCI6aW5wdXQiLCIjYmlsbGluZy1uZXctYWRkcmVzcy1mb3JtIikubm90KCI6YnV0dG9uLCA6c3VibWl0LCA6cmVzZXQsIDpoaWRkZW4iKS5yZW1vdmVBdHRyKCJjaGVja2VkIikucmVtb3ZlQXR0cigic2VsZWN0ZWQiKTskKCI6aW5wdXQiLCIjYmlsbGluZy1uZXctYWRkcmVzcy1mb3JtIikubm90KCI6Y2hlY2tib3gsIDpyYWRpbywgc2VsZWN0IikudmFsKCIiKTskKCIuYWRkcmVzcy1pZCIsIiNiaWxsaW5nLW5ldy1hZGRyZXNzLWZvcm0iKS52YWwoIjAiKTskKCdzZWxlY3Qgb3B0aW9uW3ZhbHVlPSIwIl0nLCIjYmlsbGluZy1uZXctYWRkcmVzcy1mb3JtIikucHJvcCgic2VsZWN0ZWQiLCEwKX19LFNoaXBwaW5nPXtmb3JtOiExLHNhdmVVcmw6ITEsaW5pdDpmdW5jdGlvbihuLHQpe3RoaXMuZm9ybT1uO3RoaXMuc2F2ZVVybD10fSxuZXdBZGRyZXNzOmZ1bmN0aW9uKG4pe24/KHRoaXMucmVzZXRTZWxlY3RlZEFkZHJlc3MoKSwkKCIjc2hpcHBpbmctbmV3LWFkZHJlc3MtZm9ybSIpLnNob3coKSk6JCgiI3NoaXBwaW5nLW5ldy1hZGRyZXNzLWZvcm0iKS5oaWRlKCk7JChkb2N1bWVudCkudHJpZ2dlcih7dHlwZToib25lcGFnZWNoZWNrb3V0X3NoaXBwaW5nX2FkZHJlc3NfbmV3In0pO1NoaXBwaW5nLmluaXRpYWxpemVDb3VudHJ5U2VsZWN0KCl9LHJlc2V0U2VsZWN0ZWRBZGRyZXNzOmZ1bmN0aW9uKCl7dmFyIG49JCgiI3NoaXBwaW5nLWFkZHJlc3Mtc2VsZWN0Iik7biYmbi52YWwoIiIpOyQoZG9jdW1lbnQpLnRyaWdnZXIoe3R5cGU6Im9uZXBhZ2VjaGVja291dF9zaGlwcGluZ19hZGRyZXNzX3Jlc2V0In0pfSxzYXZlOmZ1bmN0aW9uKCl7Q2hlY2tvdXQubG9hZFdhaXRpbmc9PT0hMSYmKENoZWNrb3V0LnNldExvYWRXYWl0aW5nKCJzaGlwcGluZyIpLCQuYWpheCh7Y2FjaGU6ITEsdXJsOnRoaXMuc2F2ZVVybCxkYXRhOiQodGhpcy5mb3JtKS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMubmV4dFN0ZXAsY29tcGxldGU6dGhpcy5yZXNldExvYWRXYWl0aW5nLGVycm9yOkNoZWNrb3V0LmFqYXhGYWlsdXJlfSkpfSxyZXNldExvYWRXYWl0aW5nOmZ1bmN0aW9uKCl7Q2hlY2tvdXQuc2V0TG9hZFdhaXRpbmcoITEpfSxuZXh0U3RlcDpmdW5jdGlvbihuKXtpZihuLmVycm9yKXJldHVybiB0eXBlb2Ygbi5tZXNzYWdlPT0ic3RyaW5nIj9hbGVydChuLm1lc3NhZ2UpOmFsZXJ0KG4ubWVzc2FnZS5qb2luKCJcbiIpKSwhMTtDaGVja291dC5zZXRTdGVwUmVzcG9uc2Uobil9LGluaXRpYWxpemVDb3VudHJ5U2VsZWN0OmZ1bmN0aW9uKCl7JCgiI29wYy1zaGlwcGluZyIpLmhhcygnc2VsZWN0W2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpJiYkKCcjb3BjLXNoaXBwaW5nIHNlbGVjdFtkYXRhLXRyaWdnZXI9ImNvdW50cnktc2VsZWN0Il0nKS5jb3VudHJ5U2VsZWN0KCl9fSxTaGlwcGluZ01ldGhvZD17Zm9ybTohMSxzYXZlVXJsOiExLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkpe3RoaXMuZm9ybT1uO3RoaXMuc2F2ZVVybD10O3RoaXMubG9jYWxpemVkX2RhdGE9aX0sdmFsaWRhdGU6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgic2hpcHBpbmdvcHRpb24iKSxuO2lmKHQubGVuZ3RoPT09MClyZXR1cm4gYWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5Ob3RBdmFpbGFibGVNZXRob2RzRXJyb3IpLCExO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXS5jaGVja2VkKXJldHVybiEwO3JldHVybiBhbGVydCh0aGlzLmxvY2FsaXplZF9kYXRhLlNwZWNpZnlNZXRob2RFcnJvciksITF9LHNhdmU6ZnVuY3Rpb24oKXtDaGVja291dC5sb2FkV2FpdGluZz09PSExJiZ0aGlzLnZhbGlkYXRlKCkmJihDaGVja291dC5zZXRMb2FkV2FpdGluZygic2hpcHBpbmctbWV0aG9kIiksJC5hamF4KHtjYWNoZTohMSx1cmw6dGhpcy5zYXZlVXJsLGRhdGE6JCh0aGlzLmZvcm0pLnNlcmlhbGl6ZSgpLHR5cGU6IlBPU1QiLHN1Y2Nlc3M6dGhpcy5uZXh0U3RlcCxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6Q2hlY2tvdXQuYWpheEZhaWx1cmV9KSl9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtDaGVja291dC5zZXRMb2FkV2FpdGluZyghMSl9LG5leHRTdGVwOmZ1bmN0aW9uKG4pe2lmKG4uZXJyb3IpcmV0dXJuIHR5cGVvZiBuLm1lc3NhZ2U9PSJzdHJpbmciP2FsZXJ0KG4ubWVzc2FnZSk6YWxlcnQobi5tZXNzYWdlLmpvaW4oIlxuIikpLCExO0NoZWNrb3V0LnNldFN0ZXBSZXNwb25zZShuKX19LFBheW1lbnRNZXRob2Q9e2Zvcm06ITEsc2F2ZVVybDohMSxsb2NhbGl6ZWRfZGF0YTohMSxpbml0OmZ1bmN0aW9uKG4sdCxpKXt0aGlzLmZvcm09bjt0aGlzLnNhdmVVcmw9dDt0aGlzLmxvY2FsaXplZF9kYXRhPWl9LHRvZ2dsZVVzZVJld2FyZFBvaW50czpmdW5jdGlvbihuKXtuLmNoZWNrZWQ/JCgiI3BheW1lbnQtbWV0aG9kLWJsb2NrIikuaGlkZSgpOiQoIiNwYXltZW50LW1ldGhvZC1ibG9jayIpLnNob3coKX0sdmFsaWRhdGU6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgicGF5bWVudG1ldGhvZCIpLG47aWYodC5sZW5ndGg9PT0wKXJldHVybiBhbGVydCh0aGlzLmxvY2FsaXplZF9kYXRhLk5vdEF2YWlsYWJsZU1ldGhvZHNFcnJvciksITE7Zm9yKG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLmNoZWNrZWQpcmV0dXJuITA7cmV0dXJuIGFsZXJ0KHRoaXMubG9jYWxpemVkX2RhdGEuU3BlY2lmeU1ldGhvZEVycm9yKSwhMX0sc2F2ZTpmdW5jdGlvbigpe0NoZWNrb3V0LmxvYWRXYWl0aW5nPT09ITEmJnRoaXMudmFsaWRhdGUoKSYmKENoZWNrb3V0LnNldExvYWRXYWl0aW5nKCJwYXltZW50LW1ldGhvZCIpLCQuYWpheCh7Y2FjaGU6ITEsdXJsOnRoaXMuc2F2ZVVybCxkYXRhOiQodGhpcy5mb3JtKS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMubmV4dFN0ZXAsY29tcGxldGU6dGhpcy5yZXNldExvYWRXYWl0aW5nLGVycm9yOkNoZWNrb3V0LmFqYXhGYWlsdXJlfSkpfSxyZXNldExvYWRXYWl0aW5nOmZ1bmN0aW9uKCl7Q2hlY2tvdXQuc2V0TG9hZFdhaXRpbmcoITEpfSxuZXh0U3RlcDpmdW5jdGlvbihuKXtpZihuLmVycm9yKXJldHVybiB0eXBlb2Ygbi5tZXNzYWdlPT0ic3RyaW5nIj9hbGVydChuLm1lc3NhZ2UpOmFsZXJ0KG4ubWVzc2FnZS5qb2luKCJcbiIpKSwhMTtDaGVja291dC5zZXRTdGVwUmVzcG9uc2Uobil9fSxQYXltZW50SW5mbz17Zm9ybTohMSxzYXZlVXJsOiExLGluaXQ6ZnVuY3Rpb24obix0KXt0aGlzLmZvcm09bjt0aGlzLnNhdmVVcmw9dH0sc2F2ZTpmdW5jdGlvbigpe0NoZWNrb3V0LmxvYWRXYWl0aW5nPT09ITEmJihDaGVja291dC5zZXRMb2FkV2FpdGluZygicGF5bWVudC1pbmZvIiksJC5hamF4KHtjYWNoZTohMSx1cmw6dGhpcy5zYXZlVXJsLGRhdGE6JCh0aGlzLmZvcm0pLnNlcmlhbGl6ZSgpLHR5cGU6IlBPU1QiLHN1Y2Nlc3M6dGhpcy5uZXh0U3RlcCxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6Q2hlY2tvdXQuYWpheEZhaWx1cmV9KSl9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtDaGVja291dC5zZXRMb2FkV2FpdGluZyghMSl9LG5leHRTdGVwOmZ1bmN0aW9uKG4pe2lmKG4uZXJyb3IpcmV0dXJuIHR5cGVvZiBuLm1lc3NhZ2U9PSJzdHJpbmciP2FsZXJ0KG4ubWVzc2FnZSk6YWxlcnQobi5tZXNzYWdlLmpvaW4oIlxuIikpLCExO0NoZWNrb3V0LnNldFN0ZXBSZXNwb25zZShuKX19LENvbmZpcm1PcmRlcj17Zm9ybTohMSxzYXZlVXJsOiExLGlzU3VjY2VzczohMSxpbml0OmZ1bmN0aW9uKG4sdCl7dGhpcy5zYXZlVXJsPW47dGhpcy5zdWNjZXNzVXJsPXR9LHNhdmU6ZnVuY3Rpb24oKXt2YXIgbix0O2lmKENoZWNrb3V0LmxvYWRXYWl0aW5nPT09ITEpaWYobj0hMCwkKCIjdGVybXNvZnNlcnZpY2UiKS5sZW5ndGg+MCYmKCQoIiN0ZXJtc29mc2VydmljZSIpLmlzKCI6Y2hlY2tlZCIpP249ITA6KCQoIiN0ZXJtcy1vZi1zZXJ2aWNlLXdhcm5pbmctYm94IikuZGlhbG9nKCksbj0hMSkpLG4pQ2hlY2tvdXQuc2V0TG9hZFdhaXRpbmcoImNvbmZpcm0tb3JkZXIiKSx0PXt9LGFkZEFudGlGb3JnZXJ5VG9rZW4odCksJC5hamF4KHtjYWNoZTohMSx1cmw6dGhpcy5zYXZlVXJsLGRhdGE6dCx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMubmV4dFN0ZXAsY29tcGxldGU6dGhpcy5yZXNldExvYWRXYWl0aW5nLGVycm9yOkNoZWNrb3V0LmFqYXhGYWlsdXJlfSk7ZWxzZSByZXR1cm4hMX0scmVzZXRMb2FkV2FpdGluZzpmdW5jdGlvbigpe0NoZWNrb3V0LnNldExvYWRXYWl0aW5nKCExLENvbmZpcm1PcmRlci5pc1N1Y2Nlc3MpfSxuZXh0U3RlcDpmdW5jdGlvbihuKXtpZihuLmVycm9yKXJldHVybiB0eXBlb2Ygbi5tZXNzYWdlPT0ic3RyaW5nIj9hbGVydChuLm1lc3NhZ2UpOmFsZXJ0KG4ubWVzc2FnZS5qb2luKCJcbiIpKSwhMTtpZihuLnJlZGlyZWN0KXtDb25maXJtT3JkZXIuaXNTdWNjZXNzPSEwO2xvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdDtyZXR1cm59bi5zdWNjZXNzJiYoQ29uZmlybU9yZGVyLmlzU3VjY2Vzcz0hMCx3aW5kb3cubG9jYXRpb249Q29uZmlybU9yZGVyLnN1Y2Nlc3NVcmwpO0NoZWNrb3V0LnNldFN0ZXBSZXNwb25zZShuKX19","CacheKey":"sEkjgAc0f28eGlTPu3FYy4WEyQM"}